//********************
//**Revised Monsters**
//********************

actor DSScriptedMarine : ScriptedMarine replaces ScriptedMarine
{
 dropitem DoomSpellMana 24 50
 dropitem DoomSpellMana2 24 125
 dropitem DoomSpellMana3 24 350
 dropitem Chainsaw 2
 dropitem Pistol 2
 dropitem Shotgun 2
 dropitem SuperShotgun 2
 dropitem Chaingun 2
 dropitem RocketLauncher 2
 dropitem PlasmaRifle 2
 dropitem BFG9000 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
}

actor DSZombieman : Zombieman 26501
{
 SpawnID 4
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 16 50
 dropitem Clip
 dropitem Clip 4
 dropitem Clip 4
 dropitem ClipBox 2 50
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem DualPistolsChecker 2
 dropitem FloraRandomArmor

 DamageFactor "Crush", 16
 DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
 Painchance "Holy", 255 // Zombies = +33% Pain Chance [maxed out in this case]

 Painchance 200
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)

    POSS A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    POSS A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    POSS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    POSS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    POSS AABBCCDD 4 A_Chase
    loop

  Missile:
    POSS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    POSS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    POSS E 10 A_FaceTarget
    POSS F 8 A_PosAttack
    POSS E 8
    goto See
  StartShockCheck:
    POSS E 0 A_Jump(192, "Missile2")
  StartShock:
    POSS E 10 A_FaceTarget
    POSS F 0 A_SetUserVar("user_theta",0)
  Shock:
    POSS F 0 A_SetAngle(12 + angle)
    POSS F 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    POSS F 0 A_PlaySound("grunt/attack")
    POSS F 0 A_SetUserVar("user_theta",user_theta+1)
    POSS F 0 A_JumpIf(user_theta==30,"EndShock")
    Loop
  EndShock:
    POSS F 8 A_FaceTarget
    POSS E 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    POSS H 5
    POSS I 5 A_Scream
    POSS J 5 A_NoBlocking
    POSS K 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    POSS L -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    POSS M 5
    POSS N 5 A_XScream
    POSS O 5 A_NoBlocking
    POSS PQRST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    POSS U -1
    Stop
  Raise:
    POSS KJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DSStealthZombieman : StealthZombieman 26502
{
 SpawnID 102
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 32 50
 dropitem Clip
 dropitem Clip 4
 dropitem Clip 4
 dropitem ClipBox 2 50
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem DualPistolsChecker 2
 dropitem FloraRandomArmor

 DamageFactor "Crush", 16
 DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
 Painchance "Holy", 255 // Zombies = +33% Pain Chance [maxed out in this case]

 Painchance 200
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    POSS A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    POSS A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    POSS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    POSS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    POSS AABBCCDD 4 A_Chase
    loop
  Missile:
    POSS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    POSS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    POSS E 10 A_FaceTarget
    POSS F 8 A_PosAttack
    POSS E 8
    goto See
  StartShockCheck:
    POSS E 0 A_Jump(192, "Missile2")
  StartShock:
    POSS E 10 A_FaceTarget
    POSS F 0 A_SetUserVar("user_theta",0)
  Shock:
    POSS F 0 A_SetAngle(12 + angle)
    POSS F 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    POSS F 0 A_PlaySound("grunt/attack")
    POSS F 0 A_SetUserVar("user_theta",user_theta+1)
    POSS F 0 A_JumpIf(user_theta==30,"EndShock")
    Loop
  EndShock:
    POSS F 8 A_FaceTarget
    POSS E 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    POSS H 5
    POSS I 5 A_Scream
    POSS J 5 A_NoBlocking
    POSS K 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    POSS L -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    POSS M 5
    POSS N 5 A_XScream
    POSS O 5 A_NoBlocking
    POSS PQRST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    POSS U -1
    Stop
  Raise:
    POSS KJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor PlasmaGuy 3205
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 32 50
 dropitem DoomSpellMana 8 50
 DropItem PlasmaRifle
 DropItem PlasmaRifle 2
 DropItem PlasmaRifle 2
 DropItem Cell 4 40
 DropItem Cell 4 40
 DropItem CellPack 2 100
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

 Health 50
 Radius 20
 Height 56
 Speed 8
 MONSTER 
 +FLOORCLIP
 SeeSound "grunt/sight"
 AttackSound "grunt/attack"
 PainSound "grunt/pain"
 DeathSound "grunt/death"
 ActiveSound "grunt/active"
 Obituary "%o got burned by a plasma-rifle zombie."
 MissileType PlasmaBall

 DamageFactor "Crush", 16
 DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
 Painchance "Holy", 166 // Zombies = +33% Pain Chance

 Painchance 100
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255
 +AVOIDMELEE

 States
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    ZMAY A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    ZMAY A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    ZMAY A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    ZMAY AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    ZMAY AABBCCDD 4 A_Chase
    loop

  Missile:
    ZMAY E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    ZMAY E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Missile2:
    ZMAY E 6 A_FaceTarget
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    ZMAY F 3 Bright A_MissileAttack
    Goto See

  StartShockCheck1:
    ZMAY E 0 A_Jump(192, "Missile2")
  StartShock1:
    ZMAY E 6 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1AB")
    Loop
  Shock1AB:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1B:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1BC")
    Loop
  Shock1BC:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1C:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1CD")
    Loop
  Shock1CD:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1D:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1DE")
    Loop
  Shock1DE:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1E:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1EF")
    Loop
  Shock1EF:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1F:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1FG")
    Loop
  Shock1FG:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1G:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1HI")
    Loop
  Shock1HI:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1I:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1IJ")
    Loop
  Shock1IJ:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1J:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"Shock1JK")
    Loop
  Shock1JK:
    ZMAY F 3 A_FaceTarget
    ZMAY F 0 A_SetUserVar("user_theta",0)
  Shock1K:
    ZMAY F 0 A_CustomMissile("PlasmaBall",32,0,user_theta)
    ZMAY F 0 A_SetUserVar("user_theta",user_theta+8)
    ZMAY F 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop

  EndShock1:
    ZMAY F 3 Bright 
    goto See

  Pain:
    ZMAY G 3
    ZMAY G 3 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    ZMAY H 5
    ZMAY I 5 A_Scream
    ZMAY J 5 A_Fall
    ZMAY K 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    ZMAY L -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    ZMAY O 5
    ZMAY P 5 A_XScream
    ZMAY Q 5 A_Fall
    ZMAY RSTU 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    ZMAY V -1
    Stop
  Raise:
    ZMAY KJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor StealthPlasmaGuy : PlasmaGuy 26503
{
 dropitem DoomSpellMana 32 50
 dropitem DoomSpellMana 8 50
 DropItem PlasmaRifle
 DropItem PlasmaRifle 2
 DropItem PlasmaRifle 2
 DropItem Cell 4 40
 DropItem Cell 4 40
 DropItem CellPack 2 100
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem Blursphere 2

  obituary "%o thought %g saw a plasma-rifle zombie."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

actor RocketLauncherGuy : Zombieman 3204
{ 
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana 32 50
  dropitem DoomSpellMana 8 50
  dropitem RocketLauncher
  dropitem RocketLauncher 2
  dropitem RocketLauncher 2
  dropItem RocketAmmo 4 1
  dropItem RocketAmmo 4 1
  dropItem RocketBox 2 5
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  radiusdamagefactor 0.25
  health 80
  obituary "%o was 'sploded by a rocket-launcher guy."
  radius 20
  height 56
  mass 100
  speed 8
  seesound "shotguy/sight"
  attacksound "shotguy/attack"
  painsound "shotguy/pain"
  deathsound "shotguy/death"
  activesound "shotguy/active"
  MONSTER
  +FLOORCLIP
  +AVOIDMELEE

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 226 // Zombies = +33% Pain Chance

  Painchance 170
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255


  States 
  { 
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    MPO2 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    MPO2 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    MPO2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    MPO2 AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    MPO2 AABBCCDD 3 A_Chase
    loop

  Missile:
    MPO2 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    MPO2 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Attack1:
    MPO2 E 10 A_FaceTarget 
    MPO2 F 10 bright A_CyberAttack 
    MPO2 E 10 
    Goto See 

  StartShockCheck:
    MPO2 E 0 A_Jump(192, "Attack1")
  StartShock:
    MPO2 E 10 A_FaceTarget
    MPO2 F 0 A_SetUserVar("user_theta",0)
  Shock:
    MPO2 F 0 A_CustomMissile("Rocket",32,0,user_theta)
    MPO2 F 0 A_SetUserVar("user_theta",user_theta+15)
    MPO2 F 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    MPO2 F 10 Bright 
    MPO2 E 10 
    Goto See 

  Pain: 
    MPO2 G 2 
    MPO2 G 2 A_Pain 
    Goto See 
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
   Pain.Sceptre:
      TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
      Goto Pain
   Death.Sceptre:
      TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
      TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
      Goto Death
   Pain.Gauntlets:
      TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
      Goto Pain
   Death.Gauntlets:
      TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
      TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
      Goto Death
   DeathCheck:
      TNT1 A 0 A_Jump(255, 3)
      TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
      TNT1 A 0 
      goto Death+1
   Death:
      TNT1 A 0 A_Jump(1, "DeathCheck")
      MPO2 H 5 
      MPO2 I 5 A_Scream 
      MPO2 J 5 
      MPO2 K 5 A_Fall 
      TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
      MPO2 L -1 
      Stop 
   XDeathCheck:
      TNT1 A 0 A_Jump(255, 3)
      TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)      
      TNT1 A 0 
      goto XDeath+1
   XDeath:
      TNT1 A 0 A_Jump(1, "XDeathCheck")
      MPO2 M 5 
      MPO2 N 5 A_XScream 
      MPO2 O 5 
      MPO2 P 5 A_Fall 
      MPO2 QRST 5 
      TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
      MPO2 U -1    
      Stop 
   Raise: 
      MPO2 MJKJI 5 ACS_ExecuteAlways(872,0,0,0,0)
      Goto See 
   } 
}

actor StealthRocketLauncherGuy : RocketLauncherGuy 26504
{ 
  dropitem DoomSpellMana 32 50
  dropitem DoomSpellMana 8 50
  dropitem RocketLauncher
  dropitem RocketLauncher 2
  dropitem RocketLauncher 2
  dropItem RocketAmmo 4 1
  dropItem RocketAmmo 4 1
  dropItem RocketBox 2 5
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem Blursphere 2

  obituary "%o thought %g saw a rocket-launcher guy."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

// Repeater Zombie
Actor RepeaterZombie 26505
{
  var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.

  dropitem DoomSpellMana 16 50
  DropItem RepeaterChecker 256
  DropItem RepeaterChecker 4
  DropItem RepeaterChecker 4
  DropItem RepeaterChecker 4
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  Health 100
  Radius 20
  Height 56
  Speed 8
  PainChance 96
  Monster
  +FloorClip
  SeeSound "Grunt/Sight"
  PainSound "Grunt/Pain"
  DeathSound "Grunt/Death"
  ActiveSound "Grunt/Active"
  Obituary "%o was vapourized by a Repeater Zombie" 
  Decal MummyScorch
  +AVOIDMELEE

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 128 // Zombies = +33% Pain Chance [maxed out in this case]

  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255

  States 
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    RPZM A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    RPZM A 0 A_JumpIfInventory("RepeaterZombieFiring", 1, "SpinDown")
    RPZM AAAAAAAAAABBBBBBBBBB 1 A_Look 
    Loop 
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    RPZM A 0 A_JumpIfInventory("RepeaterZombieFiring", 1, "SpinDown")
    RPZM AABBCCDD 4 A_Chase 
    Loop 

  StartShockCheck1:
    RPZM E 0 A_Jump(192, "Attack1")
  StartShock1:
    RPZM E 0 A_GiveInventory("RepeaterZombieFiring", 1)
    RPZM E 0 A_PlaySoundEx("Weapons/RepeaterSpinUp", "SoundSlot7", 0)
    RPZM EEFFEFEF 4 A_FaceTarget
  Shock1Refire:
    RPZM E 0 A_JumpIfInventory("RepeaterZombieHeat", 20, "Overload")
    RPZM E 0 A_GiveInventory("RepeaterZombieHeat", 1)
    RPZM F 0 A_SetUserVar("user_theta",0)
  Shock1:
    RPZM G 0 A_SetAngle(12 + angle)
    RPZM G 0 A_PlaySound("Weapons/RepeaterFire")
    RPZM G 0 Bright A_CustomBulletAttack(5, 4, 2, 6, "RepeaterZombiePuff", 0, 1)
    RPZM G 0 A_SetUserVar("user_theta",user_theta+1)
    RPZM G 0 A_JumpIf(user_theta==30,"StartShock1b")
    Loop
  StartShock1b:
    RPZM G 2
    RPZM F 2 A_FaceTarget
    RPZM F 0 A_SetUserVar("user_theta",0)
  Shock1b:
    RPZM H 0 A_SetAngle(12 + angle)
    RPZM H 0 A_PlaySound("Weapons/RepeaterFire")
    RPZM H 0 Bright A_CustomBulletAttack(5, 4, 2, 6, "RepeaterZombiePuff", 0, 1)
    RPZM H 0 A_SetUserVar("user_theta",user_theta+1)
    RPZM H 0 A_JumpIf(user_theta==30,"EndShock1")
    Loop
  EndShock1:
    RPZM H 2
    RPZM E 2 A_FaceTarget
    RPZM E 0 A_Jump(220, 2)
    RPZM E 0 A_SpidRefire
    RPZM E 0
    Goto Shock1Refire

  Missile:
    RPZM E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    RPZM E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    RPZM E 0 A_GiveInventory("RepeaterZombieFiring", 1)
    RPZM E 0 A_PlaySoundEx("Weapons/RepeaterSpinUp", "SoundSlot7", 0)
    RPZM EEFFEFEF 4 A_FaceTarget
    // RPZM E 0 A_JumpIfInventory("RepeaterZombieHeat", 20, "Overload")
    RPZM E 0 A_GiveInventory("RepeaterZombieHeat", 1)
    RPZM F 0 A_PlaySound("Weapons/RepeaterFire")

    RPZM G 2 Bright A_CustomBulletAttack(5, 4, 2, 6, "RepeaterZombiePuff", 0, 1)
    RPZM F 2 A_FaceTarget
    RPZM H 0 A_PlaySound("Weapons/RepeaterFire")
    RPZM H 2 Bright A_CustomBulletAttack(5, 4, 2, 6, "RepeaterZombiePuff", 0, 1)
    RPZM E 2 A_FaceTarget
    RPZM E 0 A_Jump(220, 2)
    RPZM E 0 A_SpidRefire
    RPZM E 0
    Goto Attack1+10

  SpinDown:
    RPZM E 0 A_PlaySoundEx("Weapons/RepeaterSpinDown", "SoundSlot7", 0)
    RPZM E 0 A_TakeInventory("RepeaterZombieFiring", 1)
    RPZM E 0 A_TakeInventory("RepeaterZombieHeat", 100)
    RPZM EFEFEEFF 4
    Goto See
  Overload:
    RPZM E 0 A_PlaySoundEx("Weapons/RepeaterSpinDown", "SoundSlot7", 0)
    RPZM E 0 A_PlayWeaponSound("RepeaterZombie/Steam")
    RPZM E 0 A_TakeInventory("RepeaterZombieFiring", 1)
    RPZM E 0 A_TakeInventory("RepeaterZombieHeat", 100)
    RPZM EEEEEFFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    RPZM EEEEEEFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    RPZM EEEEEFFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    RPZM EEEEEEFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    RPZM EEEEEFFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    RPZM EEEEEEFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    RPZM EEEEEFFFFFF 1 A_SpawnItemEx("RepeaterZombieSteam", -5, Random(12, 14), Random(31, 33), 4, 0, (0.1)*Random(-5, 5), Random(85, 90), 128)
    Goto See
  PainSpinDown:
    RPZM I 0 A_PlaySoundEx("Weapons/RepeaterSpinDown", "SoundSlot7", 0)
    Goto Pain+2
  Pain:
    RPZM I 0 A_StopSoundEx("SoundSlot7")
    RPZM I 0 A_JumpIfInventory("RepeaterZombieFiring", 1, "PainSpinDown")
    RPZM I 0 A_TakeInventory("RepeaterZombieFiring", 1)
    RPZM I 0 A_TakeInventory("RepeaterZombieHeat", 100)
    RPZM I 3 
    RPZM I 3 A_Pain 
    Goto See 
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    RPZM I 4 A_StopSoundEx("SoundSlot7")
    RPZM J 5
    RPZM K 5 A_Scream 
    RPZM L 5 A_Fall 
    RPZM M 5 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    RPZM N -1 
    Stop
   XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)      
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    RPZM O 5 A_StopSoundEx("SoundSlot7")
    RPZM P 5 A_XScream
    RPZM Q 5
    RPZM R 5 A_Fall
    RPZM STUV 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    RPZM W -1
    Stop
  Raise: 
    RPZM NMLKJI 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
  } 
}

Actor StealthRepeaterZombie : RepeaterZombie 26506
{
  dropitem DoomSpellMana 16 50
  DropItem RepeaterChecker 256
  DropItem RepeaterChecker 4
  DropItem RepeaterChecker 4
  DropItem RepeaterChecker 4
  dropitem BlurSphere 2
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a Repeater Zombie."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

Actor RepeaterZombieFiring : Inventory { Inventory.MaxAmount 1 }
Actor RepeaterZombieHeat : Inventory { Inventory.MaxAmount 100 }

Actor RepeaterZombiePuff
{
  Radius 3
  Height 3
  RenderStyle Add
  Alpha 0.75
  +AlwaysPuff
  +PuffOnActors
  +NoGravity
  +NoBlockMap
  // +PuffGetsOwner
  +BloodlessImpact
  -BloodSplatter
  Decal MummyScorch
  States
  {
  Spawn:
    RPUF A 1 Bright
    RPUF A 0 Bright A_PlaySound("Weapons/RepeaterHit")
    RPUF A 2 Bright A_Explode(7, 44, 0)
    RPUF BCDEFG 3 Bright
    Stop
  }
}

Actor RepeaterZombieSteam
{
  Height 1
  Radius 1
  Speed 4
  +Missile
  +NoGravity
  +NoBlockMap
  +BloodlessImpact
  -BloodSplatter
  RenderStyle Add
  Scale 0.3
  Alpha 0.65
  States
  {
  Spawn:
    STEM A 1 A_SetTranslucent(0.6, 1)
    STEM B 2 A_SetTranslucent(0.55, 1)
    STEM C 1 A_SetTranslucent(0.5, 1)
    STEM D 2 A_SetTranslucent(0.45, 1)
    STEM E 1 A_SetTranslucent(0.4, 1)
    STEM F 2 A_SetTranslucent(0.35, 1)
    STEM G 1 A_SetTranslucent(0.3, 1)
    STEM H 2 A_SetTranslucent(0.25, 1)
    STEM I 1 A_SetTranslucent(0.2, 1)
    STEM J 2 A_SetTranslucent(0.15, 1)
    STEM K 1 A_SetTranslucent(0.1, 1)
    STEM L 2 A_SetTranslucent(0.05, 1)
    Stop
  }
}


// Karasawa Guy
actor KarasawaGuy 26507
{
  var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.

  dropitem DoomSpellMana 16 50
  DropItem KarasawaChecker
  dropitem KarasawaChecker 4
  dropitem KarasawaChecker 4
  dropitem KarasawaChecker 4
  dropitem BlurSphere 2
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

    Health 150
    Radius 20
    Height 56
    Speed 8
    PainChance 70
    MONSTER 
    +FLOORCLIP
    +AVOIDMELEE
    SeeSound "grunt/sight"
    AttackSound "Weapons/KarasawaFire"
    PainSound "grunt/pain"
    DeathSound "grunt/death"
    ActiveSound "grunt/active"
    Obituary "%o got ripped apart by a Karasawa zombie."

    DamageFactor "Crush", 16
    DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
    Painchance "Holy", 93 // Zombies = +33% Pain Chance [maxed out in this case]

    Painchance "GravityHP", 255
    Painchance "GravityMP", 255
    Painchance "GravityHPMP", 255

    States
    {
    CheckMapSkillSpawn:
        TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
        TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
        Goto Spawn+2
    CheckMapSkillSee:
        TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
        TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
        Goto See+1
    Spawn:
        KSWZ A 0 Bright A_Look      
        TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
        KSWZ AB 10 A_Look
        Loop
    See:
        TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
        KSWZ AABBCCDD 4 A_Chase
        Loop


    StartShockCheck:
        KSWZ E 0 A_Jump (128, "StartShockCheckRegularAim")
        KSWZ E 0 A_JumpIfCloser (512, "StartShockCheckOffAim1")
    StartShock:
        KSWZ E 0 A_Jump (128, "StartShockRegularAim")
        KSWZ E 0 A_JumpIfCloser (512, "StartShockOffAim1")

    StartShockCheckRegularAim:
        KSWZ E 0 A_Jump(192, "RegularAim")
    StartShockRegularAim:
        KSWZ E 0 A_FaceTarget
        KSWZ E 10
        KSWZ F 0 A_SetUserVar("user_theta",0)
    Shock1:
        KSWZ F 0 Bright A_PlayWeaponSound("Weapons/KarasawaFire")
        KSWZ F 0 Bright A_CustomMissile("KsawBolt", 32, 1, 0+user_theta, 0)
        KSWZ G 0 A_SetUserVar("user_theta",user_theta+8)
        KSWZ G 0 A_JumpIf(user_theta==360,"EndShockRegularAim")
        Loop
    EndShockRegularAim:
        KSWZ F 10 Bright
        KSWZ E 3 
        KSWZ A 0 A_PlaySound ("Weapons/KarasawaCharge")
        KSWZ E 10 
        KSWZ AABBCCDD 4 A_Wander
        Goto See

    StartShockCheckOffAim1:
        KSWZ E 0 A_Jump (64, "StartShockRegularAim")
        KSWZ E 0 A_Jump (128, "StartShockOffAim2")
        KSWZ E 0 A_Jump(192, "OffAim1")
    StartShockOffAim1:
        KSWZ E 0 A_Jump (64, "StartShockRegularAim")
        KSWZ E 0 A_Jump (128, "StartShockOffAim2")
        KSWZ E 0 A_FaceTarget
        KSWZ E 10
        KSWZ F 0 A_SetUserVar("user_theta",0)
    ShockOffAim1:
        KSWZ F 0 Bright A_PlayWeaponSound("Weapons/KarasawaFire")
        KSWZ F 0 Bright A_CustomMissile("KsawBolt", 32, 1, -20+user_theta, 0)
        KSWZ G 0 A_SetUserVar("user_theta",user_theta+8)
        KSWZ G 0 A_JumpIf(user_theta==360,"EndShockOffAim1")
        Loop
    EndShockOffAim1:
        KSWZ F 10 Bright
        KSWZ E 3 
        KSWZ A 0 A_PlaySound ("Weapons/KarasawaCharge")
        KSWZ E 10 
        KSWZ AABBCCDD 4 A_Wander
        Goto See

    StartShockCheckOffAim2:
        KSWZ E 0 A_Jump(192, "OffAim2")
    StartShockOffAim2:
        KSWZ E 0 A_FaceTarget
        KSWZ E 10
        KSWZ F 0 A_SetUserVar("user_theta",0)
    ShockOffAim2:
        KSWZ F 0 Bright A_PlayWeaponSound("Weapons/KarasawaFire")
        KSWZ F 0 Bright A_CustomMissile("KsawBolt", 32, 1, 20+user_theta, 0)
        KSWZ G 0 A_SetUserVar("user_theta",user_theta+8)
        KSWZ G 0 A_JumpIf(user_theta==360,"EndShockOffAim2")
        Loop
    EndShockOffAim2:
        KSWZ F 10 Bright
        KSWZ E 3 
        KSWZ A 0 A_PlaySound ("Weapons/KarasawaCharge")
        KSWZ E 10 
        KSWZ AABBCCDD 4 A_Wander
        Goto See


    Missile:
        KSWZ E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock") 
        KSWZ E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
        KSWZ E 0 A_Jump (128, "RegularAim")
        KSWZ E 0 A_JumpIfCloser (512, "OffAim1")
    RegularAim:
        KSWZ E 0 A_FaceTarget
        KSWZ E 10
        KSWZ F 0 Bright A_PlayWeaponSound("Weapons/KarasawaFire")
        KSWZ F 10 Bright A_CustomMissile("KsawBolt", 32, 1, 0, 0)
        KSWZ E 3 
        KSWZ A 0 A_PlaySound ("Weapons/KarasawaCharge")
        KSWZ E 10 
        KSWZ AABBCCDD 4 A_Wander
        Goto See
    OffAim1:
        KSWZ E 0 A_Jump (64, "RegularAim")
        KSWZ E 0 A_Jump (128, "OffAim2")
        KSWZ E 0 A_FaceTarget
        KSWZ E 10
        KSWZ F 0 Bright A_PlayWeaponSound("Weapons/KarasawaFire")
        KSWZ F 10 Bright A_CustomMissile("KsawBolt", 32, 1, -20, 0)
        KSWZ E 3 
        KSWZ A 0 A_PlaySound ("Weapons/KarasawaCharge")
        KSWZ E 10 
        KSWZ AABBCCDD 4 A_Wander
        Goto See
    OffAim2:
        KSWZ E 0 A_FaceTarget
        KSWZ E 10
        KSWZ F 0 Bright A_PlayWeaponSound("Weapons/KarasawaFire")
        KSWZ F 10 Bright A_CustomMissile("KsawBolt", 32, 1, 20, 0)
        KSWZ E 3 
        KSWZ A 0 A_PlaySound ("Weapons/KarasawaCharge")
        KSWZ E 10 
        KSWZ AABBCCDD 4 A_Wander
        Goto See

    Pain:
        KSWZ G 3
        KSWZ G 3 A_Pain
        Goto See
    Pain.GravityHP:
        TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
        Goto See
    Pain.GravityMP:
        TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
        Goto See
    Pain.GravityHPMP:
        TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
        Goto See
    Pain.Sceptre:
        TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
        Goto Pain
    Death.Sceptre:
        TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
        TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
        Goto Death
    Pain.Gauntlets:
        TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
        Goto Pain
    Death.Gauntlets:
        TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
        TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
        Goto Death
    DeathCheck:
       TNT1 A 0 A_Jump(255, 3)
       TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
       TNT1 A 0 
       goto Death+1
    Death:
        TNT1 A 0 A_Jump(1, "DeathCheck")
        KSWZ H 5
        KSWZ I 5 A_Scream
        KSWZ J 5 A_Fall
        KSWZ K 5
        KSWZ L 5
        KSWZ M 5
        TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
        KSWZ N -1
        Stop
    XDeathCheck:
        TNT1 A 0 A_Jump(255, 3)
        TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
        TNT1 A 0 
        goto XDeath+1
    XDeath:
        TNT1 A 0 A_Jump(1, "XDeathCheck")
        KSWZ O 5
        KSWZ P 5 A_XScream
        KSWZ Q 5 A_Fall
        KSWZ RSTUV 5
        TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
        KSWZ W -1
        Stop
    Raise:
        KSWZ NMLKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
        Goto See
    }
}


actor StealthKarasawaGuy : KarasawaGuy 26508
{
  dropitem DoomSpellMana 16 50
  DropItem KarasawaChecker
  dropitem KarasawaChecker 4
  dropitem KarasawaChecker 4
  dropitem KarasawaChecker 4
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 10 20
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a Karasawa Zombie."
  renderstyle Translucent
  alpha 0
  +STEALTH
}



actor DSShotgunGuy : ShotgunGuy 26509
{
 SpawnID 1
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.

 dropitem DoomSpellMana 16 50
 dropitem Shotgun
 dropitem Shotgun 4
 dropitem Shotgun 4
 dropitem SuperShotgun 2
 dropitem ShellBox 2 10
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

 DamageFactor "Crush", 16
 DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
 Painchance "Holy", 226 // Zombies = +33% Pain Chance

 Painchance 170
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SPOS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SPOS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SPOS AABBCCDD 3 A_Chase
    loop

  Missile:
    SPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    SPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    SPOS E 10 A_FaceTarget
    SPOS F 10 A_CustomBulletAttack (22.5, 0, 7, random(1,5) * 3, "BulletPuff", 0, 1) // A_SPosAttack // A_CustomBulletAttack (22.5, 0, 7, random(1,5) * 3, "BulletPuff", 0, 1)
    SPOS E 10
    goto See
  StartShockCheck:
    SPOS E 0 A_Jump(192, "Missile2")
  StartShock:
    SPOS E 10 A_FaceTarget
    SPOS F 0 A_SetUserVar("user_theta",0)
  Shock:
    SPOS F 0 A_SetAngle(12 + angle)
    SPOS F 0 A_CustomBulletAttack (22.5, 0, 7, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    SPOS F 0 A_PlaySound("shotguy/attack")
    SPOS F 0 A_SetUserVar("user_theta",user_theta+1)
    SPOS F 0 A_JumpIf(user_theta==30,"EndShock")
    Loop
  EndShock:
    SPOS F 8 A_FaceTarget
    SPOS E 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SPOS H 5
    SPOS I 5 A_Scream
    SPOS J 5 A_NoBlocking
    SPOS K 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SPOS L -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    SPOS M 5
    SPOS N 5 A_XScream
    SPOS O 5 A_NoBlocking
    SPOS PQRST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SPOS U -1
    stop
  Raise:
    SPOS LKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DSStealthShotgunGuy : StealthShotgunGuy 26510
{
 SpawnID 103
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 32 50
 dropitem Shotgun
 dropitem Shotgun 4
 dropitem Shotgun 4
 dropitem SuperShotgun 2
 dropitem ShellBox 2 10
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

 DamageFactor "Crush", 16
 DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
 Painchance "Holy", 226 // Zombies = +33% Pain Chance

 Painchance 170
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SPOS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SPOS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SPOS AABBCCDD 3 A_Chase
    loop

  Missile:
    SPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    SPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    SPOS E 10 A_FaceTarget
    SPOS F 10 A_CustomBulletAttack (22.5, 0, 7, random(1,5) * 3, "BulletPuff", 0, 1) // A_SPosAttack
    SPOS E 10
    goto See
  StartShockCheck:
    SPOS E 0 A_Jump(192, "Missile2")
  StartShock:
    SPOS E 10 A_FaceTarget
    SPOS F 0 A_SetUserVar("user_theta",0)
  Shock:
    SPOS F 0 A_SetAngle(12 + angle)
    SPOS F 0 A_CustomBulletAttack (22.5, 0, 7, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    SPOS F 0 A_PlaySound("shotguy/attack")
    SPOS F 0 A_SetUserVar("user_theta",user_theta+1)
    SPOS F 0 A_JumpIf(user_theta==30,"EndShock")
    Loop
  EndShock:
    SPOS F 8 A_FaceTarget
    SPOS E 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SPOS H 5
    SPOS I 5 A_Scream
    SPOS J 5 A_NoBlocking
    SPOS K 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SPOS L -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    SPOS M 5
    SPOS N 5 A_XScream
    SPOS O 5 A_NoBlocking
    SPOS PQRST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SPOS U -1
    stop
  Raise:
    SPOS LKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor SuperShotgunGuy 5005
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  Game Doom
  SpawnID 157
  Health 120
  Radius 20
  Height 56
  Mass 100
  Speed 9
  Translation "112:127=16:47"
  SeeSound "chainguy/sight"
  PainSound "chainguy/pain"
  DeathSound "chainguy/death"
  ActiveSound "chainguy/active"
  AttackSound "weapons/sshotf" // "ssgguy/attack"
  MONSTER
  +FLOORCLIP
  Obituary "%o was jacked by a super shotgun guy."
  dropitem DoomSpellMana 16 50
  DropItem SuperShotgun
  dropitem SuperShotgun 4
  dropitem SuperShotgun 4
  dropitem SuperShotgun 4
  dropitem ShellBox 2 10
  dropitem ShellBox 2 10
  dropitem ShellBox 2 10
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  +AVOIDMELEE

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 207 // Zombies = +33% Pain Chance

  Painchance 155
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255
 
  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    GPOS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    GPOS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    GPOS AABBCCDD 4 A_Chase
    loop

  Missile:
    GPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    GPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    GPOS E 10 A_FaceTarget
    GPOS F 8 Bright A_CustomBulletAttack(8, 7, 20, random(1,5) * 3, "BulletPuff")
    GPOS E 8
    Goto See
  StartShockCheck:
    GPOS E 0 A_Jump(192, "Missile2")
  StartShock:
    GPOS E 10 A_FaceTarget
    GPOS F 0 A_SetUserVar("user_theta",0)
  Shock:
    GPOS F 0 A_SetAngle(12 + angle)
    GPOS F 0 A_CustomBulletAttack (8, 7, 20, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    GPOS F 0 A_PlaySound("weapons/sshotf")
    GPOS F 0 A_SetUserVar("user_theta",user_theta+1)
    GPOS F 0 A_JumpIf(user_theta==30,"EndShock")
    Loop
  EndShock:
    GPOS F 8 A_FaceTarget
    GPOS E 8
    Goto See

  Pain:
    GPOS G 3
    GPOS G 3 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    GPOS H 5
    GPOS I 5 A_Scream
    GPOS J 5 A_NoBlocking
    GPOS KLM 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    GPOS N -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    GPOS O 5
    GPOS P 5 A_XScream
    GPOS Q 5 A_NoBlocking
    GPOS RS 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    GPOS T -1
    Stop
  Raise:
    GPOS LKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthSuperShotgunGuy : SuperShotgunGuy 26511
{
  SpawnID 177
  obituary "%o thought %g saw a super shotgun guy."
  renderstyle Translucent
  alpha 0
  +STEALTH
  dropitem DoomSpellMana 16 50
  DropItem SuperShotgun
  dropitem SuperShotgun 4
  dropitem SuperShotgun 4
  dropitem SuperShotgun 4
  dropitem ShellBox 2 10
  dropitem ShellBox 2 10
  dropitem ShellBox 2 10
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem BlurSphere 2
  dropitem FloraRandomArmor

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 207 // Zombies = +33% Pain Chance

  Painchance 155
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255
 
  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    GPOS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    GPOS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    GPOS AABBCCDD 4 A_Chase
    loop

  Missile:
    GPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    GPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    GPOS E 10 A_FaceTarget
    GPOS F 8 Bright A_CustomBulletAttack(8, 7, 20, random(1,5) * 3, "BulletPuff")
    GPOS E 8
    Goto See
  StartShockCheck:
    GPOS E 0 A_Jump(192, "Missile2")
  StartShock:
    GPOS E 10 A_FaceTarget
    GPOS F 0 A_SetUserVar("user_theta",0)
  Shock:
    GPOS F 0 A_SetAngle(12 + angle)
    GPOS F 0 A_CustomBulletAttack (8, 7, 20, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    GPOS F 0 A_PlaySound("weapons/sshotf")
    GPOS F 0 A_SetUserVar("user_theta",user_theta+1)
    GPOS F 0 A_JumpIf(user_theta==30,"EndShock")
    Loop
  EndShock:
    GPOS F 8 A_FaceTarget
    GPOS E 8
    Goto See

  Pain:
    GPOS G 3
    GPOS G 3 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    GPOS H 5
    GPOS I 5 A_Scream
    GPOS J 5 A_NoBlocking
    GPOS KLM 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    GPOS N -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    GPOS O 5
    GPOS P 5 A_XScream
    GPOS Q 5 A_NoBlocking
    GPOS RS 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    GPOS T -1
    Stop
  Raise:
    GPOS LKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor DSWolfensteinSS : WolfensteinSS replaces WolfensteinSS
{
 SpawnID 116
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 16 50
 dropitem Clip
 dropitem Clip 4
 dropitem Clip 4
 dropitem ClipBox 2 50
 dropitem ClipBox 2 50

 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 226 // Zombies = +33% Pain Chance
  SeeSound "wolfss/sight"
  PainSound "nazi/pain"
  DeathSound "wolfss/death"
  ActiveSound "wolfss/active"
  AttackSound "wolfss/attack"

  Painchance 170
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255
 
 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SSWV A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SSWV AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SSWV AABBCCDD 3 A_Chase
    loop

  Missile:
    SSWV EF 10 A_FaceTarget
  Missile2:
    SSWV F 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    SSWV F 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Missile3:
    SSWV G 4 bright A_CPosAttack
    SSWV F 6 A_FaceTarget
  Missile4:
    SSWV F 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    SSWV F 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Missile5:
    SSWV G 4 bright A_CPosAttack
    SSWV F 1 A_CPosRefire
    goto Missile2
  StartShockCheck1:
    SSWV F 0 A_Jump(192, "Missile3")
  StartShock1:
    SSWV G 0 A_SetUserVar("user_theta",0)
  Shock1:
    SSWV G 0 A_SetAngle(12 + angle)
    SSWV G 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    SSWV G 0 A_PlaySound("shotguy/attack")
    SSWV G 0 A_SetUserVar("user_theta",user_theta+1)
    SSWV G 0 A_JumpIf(user_theta==30,"EndShock1")
    Loop
  EndShock1:
    SSWV G 4 bright
    SSWV F 6 A_FaceTarget
    Goto Missile4
  StartShockCheck2:
    SSWV F 0 A_Jump(192, "Missile5")
  StartShock2:
    SSWV G 0 A_SetUserVar("user_theta",0)
  Shock2:
    SSWV G 0 A_SetAngle(12 + angle)
    SSWV G 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    SSWV G 0 A_PlaySound("shotguy/attack")
    SSWV G 0 A_SetUserVar("user_theta",user_theta+1)
    SSWV G 0 A_JumpIf(user_theta==30,"EndShock2")
    Loop
  EndShock2:
    SSWV G 4 bright A_CPosAttack
    SSWV F 1 A_CPosRefire
    goto Missile2

  Pain:
    SSWV H 3
    SSWV H 3 A_PlaySound("nazi/pain")
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
   Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SSWV I 5
    SSWV J 5 A_Scream
    SSWV K 5 A_NoBlocking
    SSWV L 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SSWV M -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    SSWV N 5
    SSWV O 5 A_XScream
    SSWV P 5 A_NoBlocking
    SSWV QRSTU 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SSWV V -1
    stop
  Raise:
    SSWV MLKJI 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DSChaingunGuy : ChaingunGuy 26512
{
 SpawnID 2
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 16 50
 dropitem Chaingun
 dropitem Chaingun 4 10
 dropitem Chaingun 4 10
 dropitem ClipBox 2 50
 dropitem ClipBox 2 50
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 226 // Zombies = +33% Pain Chance

  Painchance 170
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255
 
 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    CPOS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    CPOS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    CPOS AABBCCDD 3 A_Chase
    loop

  Missile:
    CPOS E 10 A_FaceTarget
  Missile2:
    CPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    CPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Missile3:
    CPOS F 4 bright A_CPosAttack
  Missile4:
    CPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    CPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Missile5:
    CPOS E 4 bright A_CPosAttack
    CPOS F 1 A_CPosRefire
    goto Missile+1
  StartShockCheck1:
    CPOS F 0 A_Jump(192, "Missile3")
  StartShock1:
    CPOS F 0 A_SetUserVar("user_theta",0)
  Shock1:
    CPOS F 0 A_SetAngle(12 + angle)
    CPOS F 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    CPOS F 0 A_PlaySound("shotguy/attack")
    CPOS F 0 A_SetUserVar("user_theta",user_theta+1)
    CPOS F 0 A_JumpIf(user_theta==30,"EndShock1")
    Loop
  EndShock1:
    CPOS F 4 bright A_FaceTarget
    Goto Missile4
  StartShockCheck2:
    CPOS E 0 A_Jump(192, "Missile5")
  StartShock2:
    CPOS E 0 A_SetUserVar("user_theta",0)
  Shock2:
    CPOS E 0 A_SetAngle(12 + angle)
    CPOS E 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    CPOS E 0 A_PlaySound("shotguy/attack")
    CPOS E 0 A_SetUserVar("user_theta",user_theta+1)
    CPOS E 0 A_JumpIf(user_theta==30,"EndShock2")
    Loop
  EndShock2:
    CPOS F 4 bright A_FaceTarget
    CPOS F 1 A_CPosRefire
    goto Missile+1

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    CPOS H 5
    CPOS I 5 A_Scream
    CPOS J 5 A_NoBlocking
    CPOS KLM 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    CPOS N -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    CPOS O 5
    CPOS P 5 A_XScream
    CPOS Q 5 A_NoBlocking
    CPOS RS 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    CPOS T -1
    stop
  Raise:
    CPOS NMLKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DSStealthChaingunGuy : StealthChaingunGuy 26499
{
 SpawnID 120
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 32 50
 dropitem Chaingun
 dropitem Chaingun 4 10
 dropitem Chaingun 4 10
 dropitem ClipBox 2 50
 dropitem ClipBox 2 50
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 226 // Zombies = +33% Pain Chance

  Painchance 170
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255
 
 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    CPOS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    CPOS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    CPOS AABBCCDD 3 A_Chase
    loop

  Missile:
    CPOS E 10 A_FaceTarget
  Missile2:
    CPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    CPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Missile3:
    CPOS F 4 bright A_CPosAttack
  Missile4:
    CPOS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    CPOS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Missile5:
    CPOS E 4 bright A_CPosAttack
    CPOS F 1 A_CPosRefire
    goto Missile+1
  StartShockCheck1:
    CPOS F 0 A_Jump(192, "Missile3")
  StartShock1:
    CPOS F 0 A_SetUserVar("user_theta",0)
  Shock1:
    CPOS F 0 A_SetAngle(12 + angle)
    CPOS F 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    CPOS F 0 A_PlaySound("shotguy/attack")
    CPOS F 0 A_SetUserVar("user_theta",user_theta+1)
    CPOS F 0 A_JumpIf(user_theta==30,"EndShock1")
    Loop
  EndShock1:
    CPOS F 0 A_FaceTarget
    Goto Missile4
  StartShockCheck2:
    CPOS E 0 A_Jump(192, "Missile5")
  StartShock2:
    CPOS E 0 A_SetUserVar("user_theta",0)
  Shock2:
    CPOS E 0 A_SetAngle(12 + angle)
    CPOS E 0 A_CustomBulletAttack (22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    CPOS E 0 A_PlaySound("shotguy/attack")
    CPOS E 0 A_SetUserVar("user_theta",user_theta+1)
    CPOS E 0 A_JumpIf(user_theta==30,"EndShock2")
    Loop
  EndShock2:
    CPOS F 1 A_CPosRefire
    goto Missile+1

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    CPOS H 5
    CPOS I 5 A_Scream
    CPOS J 5 A_NoBlocking
    CPOS KLM 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    CPOS N -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    CPOS O 5
    CPOS P 5 A_XScream
    CPOS Q 5 A_NoBlocking
    CPOS RS 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    CPOS T -1
    stop
  Raise:
    CPOS NMLKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor BFGGuy 26513
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana 32 50
  dropitem BFG9000 
  dropitem BFG9000 4 10
  dropitem BFG9000 4 10
  dropitem CellPack 2 50
  dropitem CellPack 2 50
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  obituary "%o was vapourized by a zombie's BFG9000."
  health 200
  radius 20
  height 56
  mass 100
  speed 8
  seesound "chainguy/sight"
  painsound "chainguy/pain"
  deathsound "chainguy/death"
  activesound "chainguy/active"
  missiletype BFGBall
  MONSTER
  +FLOORCLIP
  +AVOIDMELEE

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 167 // Zombies = +33% Pain Chance

  Painchance 125
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255
 
  states
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BFGZ A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BFGZ AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BFGZ AABBCCDD 3 A_Chase
    loop

  Missile:
    BFGZ E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BFGZ E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BFGZ E 0 A_FaceTarget
    BFGZ E 20 A_PlaySound ("weapons/bfgf")
    BFGZ F 10 Bright
    BFGZ F 10 Bright A_MissileAttack
    BFGZ E 20
    goto See
  StartShockCheck:
    BFGZ E 0 A_Jump(192, "Missile2")
  StartShock:
    BFGZ E 0 A_FaceTarget
    BFGZ E 20 A_PlaySound ("weapons/bfgf")
    BFGZ F 10 Bright
    BFGZ F 0 A_SetUserVar("user_theta",0)
  Shock:
    BFGZ F 0 A_CustomMissile("BFGBall",32,0,user_theta)
    BFGZ F 0 A_SetUserVar("user_theta",user_theta+12)
    BFGZ F 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    BFGZ F 10
    BFGZ E 20
    Goto See

  Pain:
    BFGZ G 3
    BFGZ G 3 A_Pain
    goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
   Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BFGZ H 5
    BFGZ I 5 A_Scream
    BFGZ J 5 A_NoBlocking
    BFGZ KLM 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BFGZ N -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    BFGZ O 5
    BFGZ P 5 A_XScream
    BFGZ Q 5 A_NoBlocking
    BFGZ RS 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BFGZ T -1
    stop
  Raise:
    BFGZ NMLKJIH 5 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
  }
}

actor StealthBFGGuy : BFGGuy 26514
{
  dropitem DoomSpellMana 32 50
  dropitem BFG9000 
  dropitem BFG9000 4 10
  dropitem BFG9000 4 10
  dropitem CellPack 2 50
  dropitem CellPack 2 50
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a zombie with the BFG9000."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 16
  DamageFactor "Holy", 1.333 // Zombies = +33% Holy Damage
  Painchance "Holy", 167 // Zombies = +33% Pain Chance

  Painchance 125
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 
}

actor DSDoomImp : DoomImp 26515
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 16 50
 dropitem Stimpack 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem ImpClawCI 5

  DamageFactor "Crush", 12.8
  DamageFactor "Holy", 1.5 // Imps = +50% Holy Damage
  Painchance "Holy", 255 // Imps = +50% Pain Chance

  Painchance 200
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    TROO A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    TROO AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    TROO AABBCCDD 3 A_Chase
    loop

  Missile:
    TROO E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    TROO E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    TROO EF 8 A_FaceTarget
    TROO G 6 A_TroopAttack  // See DoomImpBall
    goto See
  StartShockCheck:
    TROO E 0 A_Jump(192, "Missile2")
  StartShock:
    TROO EF 8 A_FaceTarget
    TROO G 0 A_SetUserVar("user_theta",0)
  Shock:
    TROO G 0 A_CustomMissile("DoomImpBall",32,0,user_theta)
    TROO G 0 A_SetUserVar("user_theta",user_theta+3)
    TROO G 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    TROO G 6
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Holy:
    TROO H 2
    TROO H 2 A_Pain
    TROO H 2
    TROO H 2
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
   Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    TROO I 8
    TROO J 8 A_Scream
    TROO K 6
    TROO L 6 A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    TROO M -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    TROO N 5
    TROO O 5 A_XScream
    TROO P 5
    TROO Q 5 A_NoBlocking
    TROO RST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    TROO U -1
    stop
  Raise:
    TROO ML 8 ACS_ExecuteAlways(872,0,0,0,0)
    TROO KJI 6 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DSStealthDoomImp : StealthDoomImp 26516
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 32 50
 dropitem Stimpack 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem ImpClawCI 5

  DamageFactor "Crush", 12.8
  DamageFactor "Holy", 1.5 // Imps = +50% Holy Damage
  Painchance "Holy", 255 // Imps = +50% Pain Chance

  Painchance 200
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    TROO A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    TROO AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    TROO AABBCCDD 3 A_Chase
    loop

  Missile:
    TROO E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    TROO E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    TROO EF 8 A_FaceTarget
    TROO G 6 A_TroopAttack  // See DoomImpBall
    goto See
  StartShockCheck:
    TROO E 0 A_Jump(192, "Missile2")
  StartShock:
    TROO EF 8 A_FaceTarget
    TROO G 0 A_SetUserVar("user_theta",0)
  Shock:
    TROO G 0 A_CustomMissile("DoomImpBall",32,0,user_theta)
    TROO G 0 A_SetUserVar("user_theta",user_theta+3)
    TROO G 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    TROO G 6
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Holy:
    TROO H 2
    TROO H 2 A_Pain
    TROO H 2
    TROO H 2
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    TROO I 8
    TROO J 8 A_Scream
    TROO K 6
    TROO L 6 A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    TROO M -1
    stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    TROO N 5
    TROO O 5 A_XScream
    TROO P 5
    TROO Q 5 A_NoBlocking
    TROO RST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    TROO U -1
    stop
  Raise:
    TROO ML 8 ACS_ExecuteAlways(872,0,0,0,0)
    TROO KJI 6 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DarkImpBall : DoomImpBall
{
  decal "DoomImpScorch"
  Game Doom
  SpawnID 218
  Speed 20
  Damage 3
  +SEEKERMISSILE
  States
  {
  Spawn:
    BAL4 A 4 Bright A_SeekerMissile (10,20)
    BAL4 B 4 Bright
    BAL4 A 4 Bright A_SeekerMissile (10,20)
    BAL4 B 4 Bright
    BAL4 A 4 Bright A_SeekerMissile (10,20)
    BAL4 B 4 Bright
    BAL4 A 4 Bright A_SeekerMissile (10,20)
    BAL4 B 4 Bright
    Loop
  Death:
    BAL4 CDE 4 Bright
    Stop
  }
}

actor DarkImpBallFast : DarkImpBall
{
  Speed 40
  -SEEKERMISSILE
  States
  {
  Spawn:
    BAL4 AB 4 Bright
    Loop
  Death:
    BAL4 CDE 4 Bright
    Stop
  }
}

actor DarkImp : DoomImp 5003
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana 24 50
  dropitem DoomSpellMana 24 50
  dropitem Stimpack 3
  dropitem Stimpack 3
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem DarkImpClawCI 5

  Game Doom
  SpawnID 155
  Obituary "%o was cursed by a dark imp."
  HitObituary "%o was touched by a dark imp."
  Health 120
  MissileType DarkImpBall

  DamageFactor "Crush", 12.8
  DamageFactor "Holy", 1.5 // Imps = +50% Holy Damage
  Painchance "Holy", 255 // Imps = +50% Pain Chance

  Painchance 175
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    DIMP A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    DIMP AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    DIMP AABBCCDD 3 A_Chase
    loop

  Melee:
  Missile:
    DIMP E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    DIMP E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    DIMP EF 8 A_FaceTarget
    DIMP G 6 A_ComboAttack  // See DarkImpBall
    goto See
  StartShockCheck:
    DIMP E 0 A_Jump(192, "Missile2")
  StartShock:
    DIMP EF 8 A_FaceTarget
    DIMP G 0 A_SetUserVar("user_theta",0)
  Shock:
    DIMP G 0 A_CustomMissile("DarkImpBall",32,0,user_theta)
    DIMP G 0 A_SetUserVar("user_theta",user_theta+3)
    DIMP G 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    DIMP G 6
    Goto See

  Pain.Holy:
    DIMP H 2
    DIMP H 2 A_Pain
    DIMP H 2
    DIMP H 2
    Goto See
  Pain:
    DIMP H 2
    DIMP H 2 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    DIMP I 8
    DIMP J 8 A_Scream
    DIMP K 6
    DIMP L 6 A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    DIMP M -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    DIMP N 5
    DIMP O 5 A_XScream
    DIMP P 5
    DIMP Q 5 A_NoBlocking
    DIMP RST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    DIMP U -1
    Stop
  Raise:
    DIMP ML 8 ACS_ExecuteAlways(872,0,0,0,0)
    DIMP KJI 6 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthDarkImp : DarkImp 26517
{
  dropitem DoomSpellMana 24 50
  dropitem DoomSpellMana 24 50
  dropitem Stimpack 3
  dropitem Stimpack 3
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem DarkImpClawCI 5

  SpawnID 175
  obituary "%o thought %g saw a dark imp."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 12.8
  DamageFactor "Holy", 1.5 // Imps = +50% Holy Damage
  Painchance "Holy", 255 // Imps = +50% Pain Chance

  Painchance 175
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    DIMP A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    DIMP AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    DIMP AABBCCDD 3 A_Chase
    loop

  Melee:
  Missile:
    DIMP E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    DIMP E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    DIMP EF 8 A_FaceTarget
    DIMP G 6 A_ComboAttack  // See DarkImpBall
    goto See
  StartShockCheck:
    DIMP E 0 A_Jump(192, "Missile2")
  StartShock:
    DIMP EF 8 A_FaceTarget
    DIMP G 0 A_SetUserVar("user_theta",0)
  Shock:
    DIMP G 0 A_CustomMissile("DarkImpBall",32,0,user_theta)
    DIMP G 0 A_SetUserVar("user_theta",user_theta+3)
    DIMP G 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    DIMP G 6
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    DIMP I 8
    DIMP J 8 A_Scream
    DIMP K 6
    DIMP L 6 A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    DIMP M -1
    Stop
  XDeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto XDeath+1
  XDeath:
    TNT1 A 0 A_Jump(1, "XDeathCheck")
    DIMP N 5
    DIMP O 5 A_XScream
    DIMP P 5
    DIMP Q 5 A_NoBlocking
    DIMP RST 5
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    DIMP U -1
    Stop
  Raise:
    DIMP ML 8 ACS_ExecuteAlways(872,0,0,0,0)
    DIMP KJI 6 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor DSLostSoul : LostSoul replaces LostSoul
{
 var int user_theta;

 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 damage 3
 meleerange 160
 dropitem DoomSpellMana 16 50
 dropitem SoulSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 14.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 255
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  Aggressor:
    SKUL A 0 A_ChangeFlag("MISSILEEVENMORE", 1)
    SKUL A 0 A_ChangeFlag("NOFEAR", 1)
    SKUL A 0 A_ChangeFlag("CANTSEEK", 1)
    SKUL A 0 A_ChangeFlag("NOINFIGHTING", 1)
    SKUL A 0 A_ChangeFlag("THRUSPECIES", 1)
    SKUL A 0 A_ChangeFlag("DONTHARMSPECIES", 1)
    SKUL A 0 A_ChangeFlag("NORADIUSDMG", 1)
    goto See+1  
  Aggressor2:
    SKUL A 0 A_ChangeFlag("VISIBILITYPULSE", 1)
    SKUL A 0 A_ChangeFlag("REFLECTIVE", 1)
    SKUL A 0 A_ChangeFlag("DEFLECT", 1)
    SKUL A 0 A_ChangeFlag("DONTRIP", 1)
    SKUL A 0 A_ChangeFlag("DONTSQUASH", 1)
    SKUL A 0 A_ChangeFlag("DONTMORPH", 1)
    SKUL A 0 A_ChangeFlag("DONTBLAST", 1)
    goto See+2

  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+3
  Spawn:
    SKUL A 0 BRIGHT A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SKUL AB 10 BRIGHT A_Look
    loop
  See:
    SKUL A 0 A_JumpIfHealthLower(67, "Aggressor")
    SKUL A 0 A_JumpIfHealthLower(34, "Aggressor2")
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SKUL AB 6 BRIGHT A_Chase
    loop

  Missile:
    SKUL C 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    SKUL C 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    SKUL C 10 BRIGHT A_FaceTarget
    SKUL D 4 BRIGHT A_SkullAttack
    SKUL CD 4 BRIGHT
    Goto Missile2+2
  StartShockCheck:
    SKUL C 0 A_Jump(192, "Missile2")
  StartShock:
    SKUL C 10 BRIGHT A_FaceTarget
    SKUL D 4 BRIGHT A_SkullAttack(50)
    SKUL CCCCCDDDD 1 BRIGHT A_CustomMeleeAttack(random(1,8)*12,"none","none")
    Goto StartShock+2

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SKUL F 6 BRIGHT
    SKUL G 6 BRIGHT A_Scream
    SKUL H 6 BRIGHT
    SKUL I 6 BRIGHT A_NoBlocking
    SKUL J 6
    SKUL K 6
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    Stop
 }
}

actor DSDemon : Demon 26518
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 16 50
 dropitem Medikit 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 11.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 180
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SARG A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SARG AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SARG AABBCCDD 2 A_Chase
    loop

  Melee:
   SARG E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SARG E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SARG EF 8 A_FaceTarget
   SARG G 8 A_SargAttack
   goto See
  StartShockCheckMelee:
   SARG E 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SARG EF 8 A_FaceTarget
   SARG G 8 A_CustomMeleeAttack(random(1,8)*160,"none","none") // A_SargAttack
   goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SARG I 8
    SARG J 8 A_Scream
    SARG K 4
    SARG L 4 A_NoBlocking
    SARG M 4
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SARG N -1
    Stop
  Raise: 
    SARG NMLKJI 5  ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
 }
}

actor DSSpectre : Spectre 26519
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 16 50
 dropitem BlurSphere 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 11.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 180
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SARG A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SARG AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SARG AABBCCDD 2 A_Chase
    loop

  Melee:
   SARG E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SARG E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SARG EF 8 A_FaceTarget
   SARG G 8 A_SargAttack
   goto See
  StartShockCheckMelee:
   SARG E 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SARG EF 8 A_FaceTarget
   SARG G 8 A_CustomMeleeAttack(random(1,8)*160,"none","none") // A_SargAttack
   goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SARG I 8
    SARG J 8 A_Scream
    SARG K 4
    SARG L 4 A_NoBlocking
    SARG M 4
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SARG N -1
    Stop
  Raise: 
    SARG NMLKJI 5  ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
 }
}

actor DSStealthDemon : StealthDemon 26520
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana 32 50
 dropitem Medikit 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 11.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 180
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SARG A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SARG AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SARG AABBCCDD 2 A_Chase
    loop

  Melee:
   SARG E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SARG E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SARG EF 8 A_FaceTarget
   SARG G 8 A_SargAttack
   goto See
  StartShockCheckMelee:
   SARG E 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SARG EF 8 A_FaceTarget
   SARG G 8 A_CustomMeleeAttack(random(1,8)*160,"none","none") // A_SargAttack
   goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,1,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SARG I 8
    SARG J 8 A_Scream
    SARG K 4
    SARG L 4 A_NoBlocking
    SARG M 4
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SARG N -1
    Stop
  Raise: 
    SARG NMLKJI 5  ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
 }
}

actor BloodDemon : Demon 3110
{ 
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana 24 50
  dropitem DoomSpellMana 24 50
  dropitem Medikit 2
  dropitem Medikit 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  //$Category Monsters
  SpawnID 156
  Health 300 
  Speed 15 
  Height 56
  Radius 30
  Mass 400
  Meleedamage 10
  REACTIONTIME 8 
  MONSTER
  +FLOORCLIP
  DamageFactor "Normal", 0.75
  RadiusDamageFactor 0.5
  SeeSound "blooddemon/sight"
  PainSound "blooddemon/pain"
  DeathSound "blooddemon/death"
  ActiveSound "blooddemon/active"
  //MeleeSound "blooddemon/melee"
  Obituary "%o Was chewed up and spat out by a Blood demon."
  HitObituary "%o Was chewed up and spat out by a Blood demon." 

  DamageFactor "Crush", 11.2
  DamageFactor "Thunder", 1.25
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 135
  Painchance "Thunder", 169
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States 
  { 
  Melee:
   SRG2 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SRG2 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SRG2 EF 8 A_FaceTarget
   SRG2 G 8 A_MeleeAttack
   goto See
  StartShockCheckMelee:
   SRG2 E 0 A_PlaySound("blooddemon/melee")
   SRG2 E 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SRG2 EF 8 A_FaceTarget
   SRG2 G 8 A_CustomMeleeAttack(random(1,8)*320,"none","none") // A_SargAttack
   goto See

  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SRG2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SRG2 AB 10 A_Look
    loop
  See: 
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 A 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    SRG2 ABB 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 CCDD 2 A_Chase
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 AA 2 A_Chase
    SRG2 B 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    SRG2 B 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 CCDD 2 A_Chase
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 AABB 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 C 2 A_Chase
    SRG2 C 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    SRG2 DD 2 A_Chase
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 AABB 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 CCD 2 A_Chase
    SRG2 D 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    Loop 

  Melee: 
    SRG2 E 0 A_PlaySound("blooddemon/melee")
    SRG2 EF 8 A_FaceTarget
    SRG2 G 8 A_MeleeAttack
    Goto See 
  Pain: 
    SRG2 H 2
    SRG2 H 2 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SRG2 I 8 
    SRG2 I 0 A_FaceTarget
    SRG2 J 0 A_SpawnItemEx("BloodDemonArm", 10, 0, 32, 0, 8, 0, 0, 128)
    SRG2 J 8 A_Scream
    SRG2 K 4 
    SRG2 L 4 A_NoBlocking
    SRG2 M 4 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SRG2 N -1 
    Stop 
  Raise: 
    SRG2 NMLKJI 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
  } 
}

actor BloodDemonArm
{
    Radius 8
    Height 8
    Speed 8
    +DOOMBOUNCE
    +DROPOFF
    +Missile
      States
    {
    Spawn:
     SG2A ABCDEFGH 2
     Loop
     Loop
    Death:
     SG2A I -1
     Loop
    }
}

actor BloodSpectreArm
{
      +SHADOW
      RenderStyle OptFuzzy
      Alpha 0.5

	Radius 8
	Height 8
	Speed 8
	+DOOMBOUNCE
	+DROPOFF
	+Missile
      States
	{
	Spawn:
         SG2A ABCDEFGH 2
         Loop
	Death:
	 SG2A I -1
	 Loop
	}
}

actor BloodSpectre : BloodDemon 26521
{
// var int user_theta;
// var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
// var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana 24 50
  dropitem DoomSpellMana 24 50
  dropitem Medikit 2
  dropitem Medikit 2
  dropitem BlurSphere 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

  SpawnID 93
  +SHADOW
  RenderStyle OptFuzzy
  Alpha 0.5
  Obituary "%o Was chewed up and spat out by a Blood spectre."
  HitObituary "%o Was chewed up and spat out by a Blood spectre." 

  DamageFactor "Crush", 11.2
  DamageFactor "Thunder", 1.25
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 135
  Painchance "Thunder", 169
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  states
  {
  Melee:
   SRG2 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SRG2 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SRG2 EF 8 A_FaceTarget
   SRG2 G 8 A_MeleeAttack
   goto See
  StartShockCheckMelee:
   SRG2 E 0 A_PlaySound("blooddemon/melee")
   SRG2 E 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SRG2 EF 8 A_FaceTarget
   SRG2 G 8 A_CustomMeleeAttack(random(1,8)*320,"none","none") // A_SargAttack
   goto See

  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SRG2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SRG2 AB 10 A_Look
    loop
  See: 
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 A 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    SRG2 ABB 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 CCDD 2 A_Chase
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 AA 2 A_Chase
    SRG2 B 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    SRG2 B 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 CCDD 2 A_Chase
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 AABB 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 C 2 A_Chase
    SRG2 C 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    SRG2 DD 2 A_Chase
    SRG2 A 0 A_PlaySound("blooddemon/walk")
    SRG2 AABB 2 A_Chase
    SRG2 C 0 A_PlaySound("blooddemon/walk")
    SRG2 CCD 2 A_Chase
    SRG2 D 2 A_Chase("Melee","", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    Loop 

  Melee: 
    SRG2 E 0 A_PlaySound("blooddemon/melee")
    SRG2 EF 8 A_FaceTarget
    SRG2 G 8 A_MeleeAttack
    Goto See 
  Pain: 
    SRG2 H 2
    SRG2 H 2 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SRG2 I 8 
    SRG2 I 0 A_FaceTarget
    SRG2 J 0 A_SpawnItemEx("BloodSpectreArm", 10, 0, 32, 0, 8, 0, 0, 128)
    SRG2 J 8 A_Scream
    SRG2 K 4 
    SRG2 L 4 A_NoBlocking
    SRG2 M 4 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SRG2 N -1 
    Stop 
  Raise: 
    SRG2 NMLKJI 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
  }
}

actor StealthBloodDemon : BloodDemon 26522
{
  dropitem DoomSpellMana 24 50
  dropitem DoomSpellMana 24 50
  dropitem Medikit 2
  dropitem Medikit 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1

  dropitem MaxHealthBonus 1

  SpawnID 176
  obituary "%o thought %g saw a blood demon."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 135
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

}

actor DSRevenant : Revenant 26523
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 16 125
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 24
  DamageFactor "Holy", 1.75 // Undead = +175% Holy Damage
  Painchance "Holy", 250 // Undead = +250% Pain Chance

  Painchance 100
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SKEL A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SKEL AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SKEL AABBCCDDEEFF 2 A_Chase
    loop

  Melee:
   SKEL J 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SKEL J 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SKEL G 0 A_FaceTarget
   SKEL G 6 A_SkelWhoosh
   SKEL H 6 A_FaceTarget
   SKEL I 6 A_SkelFist
   goto See
  StartShockCheckMelee:
    SKEL J 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SKEL G 0 A_FaceTarget
   SKEL G 6 A_SkelWhoosh
   SKEL H 6 A_FaceTarget
   SKEL I 6 A_CustomMeleeAttack(random(1,8)*256,"skeleton/melee","none") // A_SkelFist
   goto See

  Missile:
    SKEL J 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    SKEL J 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    SKEL J 0 bright A_FaceTarget
    SKEL J 10 bright A_FaceTarget
    SKEL K 10 A_SkelMissile         // See RevenantTracer
    SKEL K 10 A_FaceTarget
    goto See
  StartShockCheck:
    SKEL J 0 A_Jump(192, "Missile2")
  StartShock:
    SKEL J 0 bright A_FaceTarget
    SKEL J 10 bright A_FaceTarget
    SKEL K 0 A_SetUserVar("user_theta",0)
  Shock:
    SKEL K 0 A_CustomMissile("RevenantTracer",32,0,user_theta)
    SKEL K 0 A_SetUserVar("user_theta",user_theta+4)
    SKEL K 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    SKEL K 10 
    SKEL K 10 A_FaceTarget
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SKEL LM 7
    SKEL N 7 A_Scream
    SKEL O 7 A_NoBlocking
    SKEL P 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SKEL Q -1
    stop
  Raise:
    SKEL QPONML 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
 }
}

actor DSStealthRevenant : StealthRevenant 26524
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 32 125
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 24
  DamageFactor "Holy", 1.75 // Undead = +175% Holy Damage
  Painchance "Holy", 250 // Undead = +250% Pain Chance

  Painchance 100
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SKEL A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SKEL AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SKEL AABBCCDDEEFF 2 A_Chase
    loop

  Melee:
   SKEL J 0 A_JumpIfHealthLower(user_HPCritRange, "StartShockMelee")
   SKEL J 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheckMelee")
  Melee2:
   SKEL G 0 A_FaceTarget
   SKEL G 6 A_SkelWhoosh
   SKEL H 6 A_FaceTarget
   SKEL I 6 A_SkelFist
   goto See
  StartShockCheckMelee:
    SKEL J 0 A_Jump(192, "Melee2")
  StartShockMelee:
   SKEL G 0 A_FaceTarget
   SKEL G 6 A_SkelWhoosh
   SKEL H 6 A_FaceTarget
   SKEL I 6 A_CustomMeleeAttack(random(1,8)*256,"skeleton/melee","none") // A_SkelFist
   goto See

  Missile:
    SKEL J 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    SKEL J 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    SKEL J 0 bright A_FaceTarget
    SKEL J 10 bright A_FaceTarget
    SKEL K 10 A_SkelMissile         // See RevenantTracer
    SKEL K 10 A_FaceTarget
    goto See
  StartShockCheck:
    SKEL J 0 A_Jump(192, "Missile2")
  StartShock:
    SKEL J 0 bright A_FaceTarget
    SKEL J 10 bright A_FaceTarget
    SKEL K 0 A_SetUserVar("user_theta",0)
  Shock:
    SKEL K 0 A_CustomMissile("RevenantTracer",32,0,user_theta)
    SKEL K 0 A_SetUserVar("user_theta",user_theta+4)
    SKEL K 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    SKEL K 10 
    SKEL K 10 A_FaceTarget
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:

    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SKEL LM 7
    SKEL N 7 A_Scream
    SKEL O 7 A_NoBlocking
    SKEL P 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SKEL Q -1
    stop
  Raise:
    SKEL QPONML 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
 }
}

//Monster-Death Incarnate
actor DeathIncarnate : Revenant 30115 
{ 
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 64 50
 dropitem DoomSpellMana2 32 125
 dropitem DoomSpellMana3 8 350
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem IncarnateSkullCI 5

 Health 600 
 Radius 20 
 Height 56 
 Mass 500 
 Speed 12
 MeleeDamage 7
 MONSTER
 +FLOORCLIP 
 +SHORTMISSILERANGE
 +DONTHURTSPECIES
 +AVOIDMELEE
 Obituary "%o was killed by a Death Incarnate's glare."
 HitObituary "%o was beaten to death by a Death Incarnate."
 SeeSound "monster/incsit" 
 PainSound "skeleton/pain" 
 DeathSound "monster/incdth" 
 ActiveSound "monster/incact"
 AttackSound "monster/incatk"
 MeleeSound "monster/inchit"

 Damagefactor "IncarnateGlare", 0
 DamageFactor "Crush", 19.2
 Damagefactor "Holy", 18 // Hades Scions are already 6x weak to Holy. Death Incarnate itself is 3x more weak to Holy, for a total of 18x damage.
 Damagefactor "Sceptre", 6

 Painchance "Holy", 255 // Undead = +250% Pain Chance

 Painchance 64
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 


 States 
 { 
  Missile:
    INCA J 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    INCA J 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    INCA J 5 A_FaceTarget
    INCA J 5
    INCA U 0 Bright A_CustomBulletAttack(30,0,5,3,"DIpuff",1024)
    INCA U 10 Bright A_CustomBulletAttack(30,0,5,3,"DIpuff",1024)
    INCA K 10
    Goto See 
  StartShockCheck:
    INCA J 0 A_Jump(192, "Missile2")
  StartShock:
    INCA J 5 bright A_FaceTarget
    INCA J 5 
    INCA U 0 A_SetUserVar("user_theta",0)
  Shock:
    INCA U 0 A_SetAngle(4 + angle)
    INCA U 0 A_CustomBulletAttack(30,0,5,3,"DIpuff",1024) // A_PosAttack
    INCA U 0 A_CustomBulletAttack(30,0,5,3,"DIpuff",1024) // A_PosAttack
    INCA U 0 A_SetUserVar("user_theta",user_theta+1)
    INCA U 0 A_JumpIf(user_theta==90,"EndShock")
    Loop
  EndShock:
    INCA U 10 
    INCA K 10
    Goto See

  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    INCA A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    INCA AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    INCA AABBCCDDEEFF 2 A_Chase
    loop

  Melee:
    INCA G 0 A_Jump(128,5)
    INCA G 0 A_FaceTarget 
    INCA G 6 A_SkelWhoosh 

    INCA H 6 A_FaceTarget 
    INCA I 6 A_MeleeAttack
    Goto See
    INCA R 0 A_FaceTarget 
    INCA R 5 A_SkelWhoosh 
    INCA S 5 A_FaceTarget 
    INCA T 5 A_MeleeAttack
    INCA G 0 A_FaceTarget 
    INCA G 5 A_SkelWhoosh 
    INCA H 5 A_FaceTarget 
    INCA I 5 A_MeleeAttack
    Goto See 
  Pain: 
    INCA L 5 
    INCA L 5 A_Pain 
    Goto See 
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,2,0,0) // Give some life when killing a monster
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,8,0,0) // Give some life when killing a monster
    TNT1 A 0 A_JumpIfHealthLower(user_HPXDeathRange,"XDeath")
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    INCA L 0 A_Jump(192,8)
    INCA LM 7 
    INCA N 7 A_Scream 
    INCA O 7 A_NoBlocking 
    INCA P 7 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    INCA Q -1 
    Stop
    INCA LM 7 
    INCA N 7 A_Scream 
    INCA O 7 A_NoBlocking
    INCA P 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    INCA Q 0 A_Jump(192,4)
    INCA Q 0 A_Jump(128,4)
    INCA Q 0 A_Jump(96,4)
    INCA Q 0 A_Jump(64,4)
    INCA Q 115 
    INCA Q 115 
    INCA Q 115 
    INCA Q 115 
    INCA Q 115
    INCA Q -1 Thing_Raise(0)       
    Stop
  XDeath: 
    INCX A 10 Bright A_Playsound("monster/incexp")
    INCX BC 5 Bright
    INCX D 5 Bright A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    INCX D 0 Bright A_SpawnItem("HadesSphere",0,32) 
    INCX EFGHIJ 5 Bright
    INCX K -1 
  Raise:
    INCA Q 0 A_KillChildren
    INCA QPONML 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See 
 } 
}

actor StealthDeathIncarnate : DeathIncarnate 26525
{
 dropitem DoomSpellMana1 64 50
 dropitem DoomSpellMana2 32 125
 dropitem DoomSpellMana3 8 350
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem RocketAmmo 2 1
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem IncarnateSkullCI 5

 obituary "%o thought %g saw a death incarnate."
 renderstyle Translucent
 alpha 0
 +STEALTH
}

actor DIPuff
{   
  Radius 0
  Height 1
  Speed 0
  PROJECTILE
  RENDERSTYLE NONE
  DamageType IncarnateGlare
  States
  {
   Spawn:
      TNT1 A 2 Bright
      Stop 
  }
}

actor HadesSphere 30116 
{ 
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 Health 35
 Radius 16 
 Height 32 
 Mass 3000 
 Speed 10
 ExplosionDamage 128
 ExplosionRadius 112
 Damagefactor "IncarnateGlare", 0
 Damagefactor "Holy", 6
 Damagefactor "Sceptre", 2
 RENDERSTYLE Normal
 Obituary "%o was blown away by a Hades Sphere."
 PAINCHANCE 0 
 MONSTER
 +LOOKALLAROUND
 +DONTGIB
 +NOTARGET
 +NOGRAVITY 
 +FLOAT
 +DONTFALL
 +DONTHURTSPECIES
 +LONGMELEERANGE
 SeeSound "monster/hadsit"

 dropitem FloraRandomArmor

  DamageFactor "Crush", 32
  Painchance "Holy", 255 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 States 
 { 
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    TNT1 A 0 Bright A_Look      
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    TNT1 A 4 Bright A_Look      
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HADE EFGH 4 Bright
    //

    HADE A 0 Bright A_Playsound("monster/hadwlk")
    HADE AABBCCDD 2 Bright A_Chase
    HADE D 0 Bright A_Jump (32,1) 
    Goto See+5

    HADE H 0 Bright A_UnSetSolid
    HADE H 0 Bright A_UnSetShootable
    HADE H 5 Bright A_Playsound("monster/hadtel")
    HADE GFEIJKL 4 Bright
    //
    TNT1 AAAAAAA 2 Bright A_Chase
    TNT1 A 0 Bright A_Jump (96,1) 
    Goto See+26

    HADE L 3 Bright A_Playsound("monster/hadtel")
    HADE KJIEFG 4 Bright
    HADE H 0 Bright A_SetShootable
    HADE H 0 Bright A_SetSolid
    Goto See+5

   Melee:
    HADE H 0 A_SetInvulnerable
    HADE HGFE 4 Bright
    HADE E 0 A_UnSetInvulnerable
    HADE E 0 A_Die
    stop
   Death:
    HADE E 0 Bright A_Noblocking
    HADE E 0 Bright A_CustomMissile("HSBoom",0,0,0,0)
    HADE E 0 A_Die
    Stop
   XDeath:
    HADE N 0 Bright A_Noblocking
    HADE H 5 Bright A_PlaySound("monster/haddth")
    HADE GFE 4 Bright
    HADE RSTUVWX 4 Bright
    HADE E 0 A_Die
    Stop
 } 
}

actor HSBoom
{
   Radius 1
   Height 1
   Speed 0
   Damage 0
   Alpha 0.90
   ExplosionDamage 112
   ExplosionRadius 112
   PROJECTILE
   RENDERSTYLE ADD
   DONTHURTSHOOTER
   Obituary "%o was blown away by a Hades Sphere."
   SeeSound "monster/hadexp"
   States
   {
   Spawn:
      TNT1 A 0 Bright
      Goto Death
   Death:
      HADE M 4 Bright A_Explode
      HADE NOPQ 5 Bright
      Stop
   }
}


actor StealthHadesSphere : HadesSphere 26526
{ 
 obituary "%o thought %g saw a hades sphere."
 renderstyle Translucent
 alpha 0
 +STEALTH
}

actor DSCacodemon : Cacodemon 26527
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 16 125
 dropitem GreenArmor 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem CacodemonEyeCI 5

 bloodcolor "blue"

  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 128
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HEAD A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HEAD A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HEAD A 3 A_Chase
    loop

  Missile:
    HEAD B 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    HEAD B 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    HEAD BC 5 A_FaceTarget
    HEAD D 5 A_HeadAttack  // See CacodemonBall
    goto See
  StartShockCheck:
    HEAD B 0 A_Jump(192, "Missile2")
  StartShock:
    HEAD BC 5 A_FaceTarget
    HEAD B 0 A_SetUserVar("user_theta",0)
  Shock:
    HEAD B 0 A_CustomMissile("CacodemonBall",32,0,user_theta)
    HEAD B 0 A_SetUserVar("user_theta",user_theta+4)
    HEAD B 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    HEAD D 5
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HEAD G 8
    HEAD H 8 A_Scream
    HEAD IJ 8
    HEAD K 8 A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HEAD L -1 A_SetFloorClip
    stop
  Raise:
    HEAD L 0 ACS_ExecuteAlways(872,0,0,0,0)
    HEAD L 8 A_UnsetFloorClip
    HEAD KJIHG 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor DSStealthCacodemon : StealthCacodemon 26528
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 32 125
 dropitem GreenArmor 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor
 dropitem CacodemonEyeCI 5

 bloodcolor "blue"

  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 128
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HEAD A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HEAD A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HEAD A 3 A_Chase
    loop

  Missile:
    HEAD B 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    HEAD B 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    HEAD BC 5 A_FaceTarget
    HEAD D 5 A_HeadAttack  // See CacodemonBall
    goto See
  StartShockCheck:
    HEAD B 0 A_Jump(192, "Missile2")
  StartShock:
    HEAD BC 5 A_FaceTarget
    HEAD B 0 A_SetUserVar("user_theta",0)
  Shock:
    HEAD B 0 A_CustomMissile("CacodemonBall",32,0,user_theta)
    HEAD B 0 A_SetUserVar("user_theta",user_theta+4)
    HEAD B 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    HEAD D 5
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HEAD G 8
    HEAD H 8 A_Scream
    HEAD IJ 8
    HEAD K 8 A_NoBlocking
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HEAD L -1 A_SetFloorClip
    stop
  Raise:
    HEAD L 0 ACS_ExecuteAlways(872,0,0,0,0)
    HEAD L 8 A_UnsetFloorClip
    HEAD KJIHG 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor CacolanternBall
{
  decal "CacoScorch"
  SpawnID 219
  Radius 6
  Height 8
  Speed 20
  Damage 5
  Projectile
  +RANDOMIZE
  RenderStyle Add
  SeeSound "caco/attack"
  DeathSound "caco/shotx"
  States
  {
  Spawn:
    BAL8 AB 4 Bright
    Loop
  Death:
    BAL8 CDE 6 Bright
    Stop
  }
}

actor Cacolantern : Cacodemon 5006
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana2 24 125
  dropitem DoomSpellMana2 24 125
  dropitem GreenArmor 2
  dropitem BlueArmor 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem CacolanternEyeCI 5

  +AVOIDMELEE

  SpawnID 159
  Health 800
  Obituary "$OB_CACOLANTERN" // "%o was smitten by a cacolantern."
  HitObituary "$OB_CACOLANTERN_MELEE" // "%o got too close to a cacolantern."
  bloodcolor "blue"

  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 112
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HED2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HED2 A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HED2 A 3 A_Chase
    loop

  Missile:
    HED2 B 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    HED2 B 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    HED2 BC 5 A_FaceTarget
    HED2 D 5 Bright A_BasicAttack (8, "None", "CacolanternBall", 32)
    goto See
  StartShockCheck:
    HED2 B 0 A_Jump(192, "Missile2")
  StartShock:
    HED2 BC 5 A_FaceTarget
    HED2 B 0 A_SetUserVar("user_theta",0)
  Shock:
    HED2 B 0 A_CustomMissile("CacolanternBall",32,0,user_theta)
    HED2 B 0 A_SetUserVar("user_theta",user_theta+4)
    HED2 B 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    HED2 D 5
    Goto See

  Pain:
    HED2 E 3
    HED2 E 3 A_Pain
    HED2 F 6
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HED2 G 8 A_NoBlocking
    HED2 H 8 A_Scream
    HED2 IJK 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HED2 L -1 A_SetFloorClip
    Stop
  Raise:
    HED2 L 0 ACS_ExecuteAlways(872,0,0,0,0)
    HED2 L 8 A_UnsetFloorClip
    HED2 KJIHG 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthCacolantern : Cacolantern 26529
{
  dropitem DoomSpellMana2 24 125
  dropitem DoomSpellMana2 24 125
  dropitem GreenArmor 2
  dropitem BlueArmor 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem CacolanternEyeCI 5

  SpawnID 179
  obituary "%o thought %g saw a Cacolantern."
  renderstyle Translucent
  bloodcolor "blue"
  alpha 0
  +STEALTH

  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 112
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HED2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HED2 A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HED2 A 3 A_Chase
    loop

  Missile:
    HED2 B 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    HED2 B 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    HED2 BC 5 A_FaceTarget
    HED2 D 5 Bright A_BasicAttack (8, "None", "CacolanternBall", 32)
    goto See
  StartShockCheck:
    HED2 B 0 A_Jump(192, "Missile2")
  StartShock:
    HED2 BC 5 A_FaceTarget
    HED2 B 0 A_SetUserVar("user_theta",0)
  Shock:
    HED2 B 0 A_CustomMissile("CacolanternBall",32,0,user_theta)
    HED2 B 0 A_SetUserVar("user_theta",user_theta+4)
    HED2 B 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    HED2 D 5
    Goto See

  Pain:
    HED2 E 3
    HED2 E 3 A_Pain
    HED2 F 6
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HED2 G 8 A_NoBlocking
    HED2 H 8 A_Scream
    HED2 IJK 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HED2 L -1 A_SetFloorClip
    Stop
  Raise:
    HED2 L 0 ACS_ExecuteAlways(872,0,0,0,0)
    HED2 L 8 A_UnsetFloorClip
    HED2 KJIHG 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor AbaddonBall
{
  decal "CacoScorch"
  SpawnID 189
  Radius 6
  Height 8
  Speed 20
  Damage 10
  Projectile
  +RANDOMIZE
  RenderStyle Add
  SeeSound "caco/attack"
  DeathSound "caco/shotx"
  States
  {
  Spawn:
    BAL3 AB 4 Bright
    Loop
  Death:
    BAL3 CDE 6 Bright
    Stop
  }
}

actor Abaddon : Cacolantern 5015
{
//  var int user_theta;
//  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
//  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana2 32 125
  dropitem DoomSpellMana2 32 125
  dropitem DoomSpellMana2 32 125
  dropitem DoomSpellMana3 16 350
  dropitem GreenArmor 2
  dropitem BlueArmor 2
  dropitem StoneSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem AbaddonEyeCI 5

  +AVOIDMELEE

  SpawnID 190
  Health 1200
  Speed 12
  PainChance 40
  Obituary "%o was smitten by an abaddon."
  HitObituary "%o became food for an abaddon."
  bloodcolor "red"

  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 240 // Demons = +300% Pain Chance

  Painchance 80
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HED3 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HED3 A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HED3 A 3 A_Chase
    loop

  Missile:
    HED3 B 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    HED3 B 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    HED3 BC 5 A_FaceTarget
    HED3 D 5 Bright A_BasicAttack (8, "None", "AbaddonBall", 32)
    HED3 D 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    HED3 D 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    HED3 BC 5 A_FaceTarget
    HED3 D 5 Bright A_BasicAttack (8, "None", "AbaddonBall", 32)
    goto See

  StartShockCheck1:
    HED3 B 0 A_Jump(192, "Attack1")
  StartShock1:
    HED3 BC 5 A_FaceTarget
    HED3 D 0 A_SetUserVar("user_theta",0)
  Shock1:
    HED3 D 0 A_CustomMissile("AbaddonBall",32,0,user_theta)
    HED3 D 0 A_SetUserVar("user_theta",user_theta+4)
    HED3 D 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    HED3 D 5
    Goto Attack1+3

  StartShockCheck2:
    HED3 B 0 A_Jump(192, "Attack2")
  StartShock2:
    HED3 BC 5 A_FaceTarget
    HED3 D 0 A_SetUserVar("user_theta",0)
  Shock2:
    HED3 D 0 A_CustomMissile("AbaddonBall",32,0,user_theta)
    HED3 D 0 A_SetUserVar("user_theta",user_theta+4)
    HED3 D 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    HED3 D 5
    goto See

  Pain:
    HED3 E 3
    HED3 E 3 A_Pain
    HED3 F 6
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HED3 G 8 A_NoBlocking
    HED3 H 8 A_Scream
    HED3 IJK 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HED3 L -1 A_SetFloorClip
    Stop
  Raise:
    HED3 L 0 ACS_ExecuteAlways(872,0,0,0,0)
    HED3 L 8 A_UnsetFloorClip
    HED3 KJIHG 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthAbaddon : Abaddon 26530
{
  dropitem DoomSpellMana2 32 125
  dropitem DoomSpellMana2 32 125
  dropitem DoomSpellMana2 32 125
  dropitem DoomSpellMana3 16 350
  dropitem GreenArmor 2
  dropitem BlueArmor 2
  dropitem StoneSkin 2
  dropitem DiamondSkin 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor
  dropitem AbaddonEyeCI 5

  SpawnID 170
  obituary "%o thought %g saw an Abaddon."
  renderstyle Translucent
  alpha 0
  bloodcolor "red"
  +STEALTH

  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 240 // Demons = +300% Pain Chance

  Painchance 80
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HED3 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HED3 A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HED3 A 3 A_Chase
    loop

  Missile:
    HED3 B 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    HED3 B 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    HED3 BC 5 A_FaceTarget
    HED3 D 5 Bright A_BasicAttack (8, "None", "AbaddonBall", 32)
    HED3 D 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    HED3 D 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    HED3 BC 5 A_FaceTarget
    HED3 D 5 Bright A_BasicAttack (8, "None", "AbaddonBall", 32)
    goto See

  StartShockCheck1:
    HED3 B 0 A_Jump(192, "Attack1")
  StartShock1:
    HED3 BC 5 A_FaceTarget
    HED3 D 0 A_SetUserVar("user_theta",0)
  Shock1:
    HED3 D 0 A_CustomMissile("AbaddonBall",32,0,user_theta)
    HED3 D 0 A_SetUserVar("user_theta",user_theta+4)
    HED3 D 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    HED3 D 5
    Goto Attack1+3

  StartShockCheck2:
    HED3 B 0 A_Jump(192, "Attack2")
  StartShock2:
    HED3 BC 5 A_FaceTarget
    HED3 D 0 A_SetUserVar("user_theta",0)
  Shock2:
    HED3 D 0 A_CustomMissile("AbaddonBall",32,0,user_theta)
    HED3 D 0 A_SetUserVar("user_theta",user_theta+4)
    HED3 D 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    HED3 D 5
    goto See

  Pain:
    HED3 E 3
    HED3 E 3 A_Pain
    HED3 F 6
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HED3 G 8 A_NoBlocking
    HED3 H 8 A_Scream
    HED3 IJK 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HED3 L -1 A_SetFloorClip
    Stop
  Raise:
    HED3 L 0 ACS_ExecuteAlways(872,0,0,0,0)
    HED3 L 8 A_UnsetFloorClip
    HED3 KJIHG 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor DSPainElemental : PainElemental 26531
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 16 125
 dropitem SoulSphere 2
 dropitem SoulSphere 2
 dropitem SoulSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  +AVOIDMELEE
  DamageFactor "Crush", 9.6
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 128
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    PAIN A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    PAIN A 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    PAIN AABBCC 3 A_Chase
    loop

  Missile:
    PAIN D 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    PAIN D 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    PAIN DE 5 A_FaceTarget
    PAIN F 5 bright A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    goto See
  StartShockCheck:
    PAIN D 0 A_Jump(192, "Missile2")
  StartShock:
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN E 3
    PAIN DE 5 A_FaceTarget
    PAIN F 0 bright A_PainAttack    // See LostSoul
    PAIN F 0 bright A_DualPainAttack    // See LostSoul
    PAIN F 5
    PAIN F 0
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    PAIN H 8 bright
    PAIN I 8 bright A_Scream
    PAIN JK 8 bright
    PAIN L 8 bright A_PainDie       // See LostSoul
    PAIN M 8 bright
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    stop
 }
}

actor StealthPainElemental : DSPainElemental 26532
{
 dropitem DoomSpellMana2 16 125
 dropitem SoulSphere 2
 dropitem SoulSphere 2
 dropitem SoulSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem FloraRandomArmor

  obituary "%o thought %g saw a Pain Elemental."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

actor HadesElemental 30130
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem FloraRandomArmor

  obituary "%o was electricuted by a Hades Elemental."
  hitobituary "%o got chomped by a Hades Elemental."
  health 1600
  radius 31
  height 60
  mass 800
  speed 10
  painchance 32
  MeleeDamage 10
  DamageType normal
  seesound "monster/helsit"
  painsound "monster/helpai"
  deathsound "monster/heldth"
  activesound "monster/helact"
  meleesound "caco/melee"
  MONSTER
  +FLOAT
  +NOGRAVITY
  +MISSILEMORE
  +NOTARGET
  +DONTHURTSPECIES
  +NORADIUSDMG
  +AVOIDMELEE

  DamageFactor "Holy", 6
  DamageFactor "Lightning", 0
  Damagefactor "Crush", 8.0
  Damagefactor "Fire", 0.5
  Damagefactor "Ice", 1.5

  PainChance "Ice", 64
  PainChance "Fire", 16
  Painchance "Holy", 255 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  states
  {
  CheckMapSkillSpawn:
   TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
   TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
   Goto Spawn+2
  CheckMapSkillSee:
   TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
   TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
   Goto See+1

  Spawn:
    HELE A 0
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HELE A 10 A_Look
    Goto Spawn+2
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HELE A 0 A_SetShootable
    HELE AAAAAAAAAAAA 3 A_Chase
    HELE A 0 A_Jump(72,1)
    goto See+1
    HELE A 0 A_UnSetshootable
    HELE A 1 A_PlaySound("monster/heltel")
    HELE A 1 A_SetTranslucent(0.90)
    HELE A 1 A_SetTranslucent(0.80)
    HELE A 1 A_SetTranslucent(0.70)
    HELE A 1 A_SetTranslucent(0.60)
    HELE A 1 A_SetTranslucent(0.50)
    HELE A 1 A_SetTranslucent(0.40)
    HELE A 1 A_SetTranslucent(0.30)
    HELE A 1 A_SetTranslucent(0.20)
    HELE A 1 A_SetTranslucent(0.10)
    TNT1 A 0 A_Jump(128,25)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
    TNT1 A 0 A_Jump(128,25)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_ExtChase(0,0,1,1)
    HELE A 1 A_PlaySound("monster/heltel")
    HELE A 1 A_SetTranslucent(0.10)
    HELE A 1 A_SetTranslucent(0.20)
    HELE A 1 A_SetTranslucent(0.30)
    HELE A 1 A_SetTranslucent(0.40)
    HELE A 1 A_SetTranslucent(0.50)
    HELE A 1 A_SetTranslucent(0.60)
    HELE A 1 A_SetTranslucent(0.70)
    HELE A 1 A_SetTranslucent(0.80)
    HELE A 1 A_SetTranslucent(0.90)
    HELE A 1 A_SetTranslucent(1.0)
    HELE A 0 A_SetShootable
    goto See

  StartShockCheck:
    HELE A 0 A_Jump(80,1)
    goto StartShockCheck1
    HELE A 0 A_Jump(128,1)
    goto StartShockCheck2
    HELE A 0
    Goto Missile3
  StartShock:
    HELE A 0 A_Jump(80,1)
    goto StartShock1
    HELE A 0 A_Jump(128,1)
    goto StartShock2
    HELE A 0
    Goto Missile3

  StartShockCheck1:
    HELE E 0 A_Jump(192, "Missile1")
  StartShock1:
    HELE EF 5 Bright A_Facetarget
    HELE F 0 A_SetUserVar("user_theta",0)
  Shock1:
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,-10+user_theta,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,-5+user_theta,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,0+user_theta,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,5+user_theta,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,10+user_theta,0,0)
    HELE G 0 A_SetUserVar("user_theta",user_theta+8)
    HELE G 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    HELE G 5 Bright A_FaceTarget
    goto See+1

  StartShockCheck2:
    HELE E 0 A_Jump(192, "Missile2")
  StartShock2:
    HELE EF 5 Bright A_Facetarget
    HELE F 0 A_SetUserVar("user_theta",0)
  Shock2:
    HELE G 0 Bright A_CustomMissile("HadesBolt",32,0,-16+user_theta,0,0)
    HELE G 0 Bright A_CustomMissile("HadesBolt",32,0,0+user_theta,0,0)
    HELE G 0 Bright A_CustomMissile("HadesBolt",32,0,16+user_theta,0,0)
    HELE G 0 A_SetUserVar("user_theta",user_theta+8)
    HELE G 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    HELE G 5 Bright A_FaceTarget
    goto See

  Missile:
    HELE A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    HELE A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
    HELE A 0 A_Jump(80,1)
    goto Missile1
    HELE A 0 A_Jump(128,1)
    goto Missile2
    HELE A 0
    Goto Missile3
  Missile1:
    HELE EF 5 Bright A_Facetarget
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,-10,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,-5,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,0,0,0)
    HELE G 0 Bright A_CustomMissile("HadesElementalBall",24,0,5,0,0)
    HELE G 5 Bright A_CustomMissile("HadesElementalBall",24,0,10,0,0)
    goto See+1
  Missile2:
    HELE EF 5 Bright A_Facetarget
    HELE G 0 Bright A_CustomMissile("HadesBolt",32,0,-16,0,0)
    HELE G 0 Bright A_CustomMissile("HadesBolt",32,0,0,0,0)
    HELE G 5 Bright A_CustomMissile("HadesBolt",32,0,16,0,0)
    goto See+1
  Missile3:
    HELE BC 5 Bright A_Facetarget
    HELE D 5 Bright A_DualPainAttack("HadesSphere")
    goto See+1
  Melee:
    HELE ABD 5 Bright A_Facetarget
    HELE C 5 Bright A_MeleeAttack
    goto See+1

  Pain:
    HELE H 3
    HELE H 3 A_Pain
    HELE H 6
    goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)   	 
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HELE I 5 Bright A_Scream
    HELE JKL 5 Bright
    HELE M 5 Bright A_NoBlocking
    HELE M 0 Bright A_SpawnItemEx("HadesSphere",36,36)
    HELE M 0 Bright A_SpawnItemEx("HadesSphere",-36,36)
    HELE M 0 Bright A_SpawnItemEx("HadesSphere",-36,-36)
    HELE M 0 Bright A_SpawnItemEx("HadesSphere",36,-36)
    HELE NOP 5 Bright 
    HELE QRSTU 5 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HELE V -1 A_SetFloorClip
    stop
  Raise:
    HELE V 0 A_UnsetFloorClip
    HELE UTSRQPONMLKJI 0 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
  }
}

//The Hades Elemental
actor StealthHadesElemental : HadesElemental 26533
{
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a Hades Elemental."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

actor HadesElementalBall : CacodemonBall
{
Damage 8
Speed 15
Alpha 0.80
DamageType lightning
+FORCEXYBILLBOARD
SeeSound "Monster/hadtel"
DeathSound "Monster/hadsit"
 states
  {
  Spawn:
    HEFX AB 4 bright
    loop
  Death:
    HEFX CDEEFGH 3 bright
    stop
  }
}

actor HadesBolt : CacodemonBall
{
   Damage 5
   Speed 5
   Radius 8
   Height 8
   Damagetype lightning
   SeeSound "weapons/none"
   DeathSound "weapons/gntidl"
   YScale 4.0
   XScale 2.0
   ReactionTime 35
   +FLOORHUGGER
   +HEXENBOUNCE
   +RIPPER
   -NOGRAVITY
   -STRIFEDAMAGE
   States
   {
   Spawn:
      LFX2 F 1 Bright A_Explode(16,64,0)
      LFX2 F 0 Bright A_CustomMissile("HadesBolt2",0,0,0,6,90)
      LFX2 F 0 ThrustThing(random(0,255),1,0,0)
      LFX2 G 1 Bright A_Explode(16,64,0)
      LFX2 G 0 Bright A_CustomMissile("HadesBolt2",0,0,0,6,90)
      LFX2 H 1 Bright A_Explode(16,64,0)
      LFX2 H 0 Bright A_CustomMissile("HadesBolt2",0,0,0,6,90)
      LFX2 I 1 Bright A_Explode(16,64,0)
      LFX2 I 0 Bright A_CustomMissile("HadesBolt2",0,0,0,6,90)
      LFX2 J 1 Bright A_Explode(16,64,0)
      LFX2 J 0 Bright A_CustomMissile("HadesBolt2",0,0,0,6,90)
      LFX2 J 0 Bright A_CountDown
      loop
   Death:
      LFX2 FGHIJ 2 Bright A_Explode(32,64,0)
      stop
   }
}

actor HadesBolt2 : CacodemonBall
{
Damage 0
Speed 184
RenderStyle None
DamageType lightning
+THRUGHOST
+RIPPER
SeeSound "Monster/hadtel"
DeathSound "Monster/hadsit"
 states
  {
  Spawn:
    TNT1 A 1 bright A_Explode(16,64,0)
    loop
  Death:
    TNT1 A 1 bright
    stop
  }
}

//The Hades Overlord
actor HadesOverLord 30134
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 112 50
 dropitem DoomSpellMana1 112 50
 dropitem DoomSpellMana2 84 125
 dropitem DoomSpellMana2 84 125
 dropitem DoomSpellMana3 56 350
 dropitem DoomSpellMana3 56 350
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

Health 4000
Radius 31 
Height 78 
Mass 1000 
Speed 13 
PainChance 20
DamageType normal 
MONSTER
Obituary "%o was smitten by a Hades Overlord."
HitObituary "A Hades Overlord ate %o for lunch." 
+FLOORCLIP 
+NORADIUSDMG 
+NOTARGET
+MISSILEEVENMORE
+FLOAT
+NOGRAVITY
+DONTFALL
+AVOIDMELEE
MeleeDamage 20
MeleeRange 68
SeeSound "monster/ovlsit" 
PainSound "monster/ovlpai" 
DeathSound "monster/ovldth" 
ActiveSound "monster/ovlact"
MeleeSound "caco/melee"

  DamageFactor "Holy", 6
  DamageFactor "Lightning", 0
  Damagefactor "Crush", 8.0
  Damagefactor "Fire", 0.5
  Damagefactor "Ice", 1.5

  PainChance 30
  PainChance "Ice", 40
  PainChance "Fire", 10
  Painchance "Holy", 120 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  states
  {
  CheckMapSkillSpawn:
   TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
   TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
   Goto Spawn+2
  CheckMapSkillSee:
   TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
   TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
   Goto See+1


  Spawn:
    OVER A 0
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    OVER A 10 A_Look
    Goto Spawn+2
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    OVER A 0 A_UnSetInvulnerable
    OVER AABBAACC 3 A_Chase
    OVER A 0 A_Jump(32,"Teleport")
    goto See+1

  Teleport:
    OVER F 0 A_SetInvulnerable
    OVER F 1 A_PlaySound("monster/heltel")
    OVER F 1 A_SetTranslucent(0.90)
    OVER F 1 A_SetTranslucent(0.80)
    OVER F 1 A_SetTranslucent(0.70)
    OVER F 1 A_SetTranslucent(0.60)
    OVER F 1 A_SetTranslucent(0.50)
    OVER F 1 A_SetTranslucent(0.40)
    OVER F 1 A_SetTranslucent(0.30)
    OVER F 1 A_SetTranslucent(0.20)
    OVER F 1 A_SetTranslucent(0.10)
    OVER F 0 A_Jump(128,25)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_ExtChase(0,0,1,1)
    TNT1 A 0 A_Jump(128,25)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_ExtChase(0,0,1,1)
    OVER F 1 A_PlaySound("monster/heltel")
    OVER F 1 A_SetTranslucent(0.10)
    OVER F 1 A_SetTranslucent(0.20)
    OVER F 1 A_SetTranslucent(0.30)
    OVER F 1 A_SetTranslucent(0.40)
    OVER F 1 A_SetTranslucent(0.50)
    OVER F 1 A_SetTranslucent(0.60)
    OVER F 1 A_SetTranslucent(0.70)
    OVER F 1 A_SetTranslucent(0.80)
    OVER F 1 A_SetTranslucent(0.90)
    OVER F 1 A_SetTranslucent(1.0)
    OVER F 0 A_UnSetInvulnerable
    goto See

  StartShockCheck:
    OVER D 0 A_FaceTarget
    OVER D 0 A_Jump(256,"Missile1","StartShockCheck2","StartShockCheck3")
  StartShock:
    OVER D 0 A_FaceTarget
    OVER D 0 A_Jump(256,"Missile1","StartShock2","StartShock3")

  StartShockCheck2:
    OVER G 0 A_Jump(192, "Missile2")
  StartShock2:
    OVER GH 8 Bright A_FaceTarget
    OVER H 1 Bright A_PlaySound("weapons/shock")
    OVER H 0 A_SetUserVar("user_theta",0)
  Shock2:
    OVER H 0 Bright A_JumpIfHealthLower(1500,3)
    OVER H 0 Bright A_CustomMissile("StormShot1",43,0,0+user_theta,0,0)
    OVER H 0 Bright A_Jump(256,2)
    OVER H 0 Bright A_CustomMissile("StormShot2",43,0,0+user_theta,0,0)
    OVER H 0 A_SetUserVar("user_theta",user_theta+12)
    OVER H 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    OVER H 7 Bright
    goto See

  StartShockCheck3:
    OVER J 0 A_Jump(192, "Missile3")
  StartShock3:
    OVER JJJJJJJJ 1 A_FaceTarget 
  Shock3Refire:
    OVER J 0 A_SetUserVar("user_theta",0)
  Shock3:
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",92,-40,0+user_theta,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",8,-40,0+user_theta,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",92,40,0+user_theta,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",8,40,0+user_theta,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("OverBall",54,-50,0+user_theta,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("OverBall",54,50,0+user_theta,random(-3,3),random(-3,3))
    OVER K 0 A_SetUserVar("user_theta",user_theta+12)
    OVER K 0 A_JumpIf(user_theta==360,"EndShock3")
    Loop
  EndShock3:
    OVER K 4 A_FaceTarget
    OVER J 4 A_SpidRefire
    OVER J 0 A_Jump(32,"See")     
    goto Shock3Refire

  Missile:
    OVER D 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    OVER D 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
    OVER D 0 A_FaceTarget
    OVER D 0 A_Jump(256,"Missile1","Missile2","Missile3")
    stop
  Missile1:
    OVER DE 8 A_FaceTarget
    OVER FFFFF 4 bright A_PainAttack("HSOverlord")
    goto See
  Missile2:
    OVER GH 8 Bright A_FaceTarget
    OVER H 0 Bright A_JumpIfHealthLower(1500,3)
    OVER H 1 Bright A_PlaySound("weapons/shock")
    OVER H 7 Bright A_CustomMissile("StormShot1",43,0,0,0,0)
    goto See
    OVER H 1 Bright A_PlaySound("weapons/shock")
    OVER H 7 Bright A_CustomMissile("StormShot2",43,0,0,0,0)
    goto See
  Missile3:
    OVER JJJJJJJJ 1 A_FaceTarget 
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",92,-40,0,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",8,-40,0,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",92,40,0,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("HadesOverlordBall",8,40,0,random(-3,3),random(-3,3))
    OVER K 0 Bright A_CustomMissile("OverBall",54,-50,0,random(-3,3),random(-3,3))
    OVER K 4 Bright A_CustomMissile("OverBall",54,50,0,random(-3,3),random(-3,3))
    OVER J 4 A_SpidRefire
    OVER J 0 A_Jump(32,"See")     
    goto Missile3+8
  Melee:
    OVER ADF 5 A_FaceTarget
    OVER E 5 A_MeleeAttack
    goto See

  Pain:
    OVER L 6
    OVER L 6 A_Pain
    OVER L 0 A_Jump(40,"Teleport")
    goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,14,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,14,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)   	 
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    OVER M 0 bright A_Facetarget
    OVER M 8 bright A_Scream
    OVER NO 8 bright
    OVER P 0 bright A_Noblocking
    OVER PPPPP 0 bright A_CustomMissile("OverFlesh1",random(0,90),random(0,40),random(-180,180),2,random(-15,15)) 
    OVER PPPPP 0 bright A_CustomMissile("OverFlesh2",random(0,90),random(0,40),random(-180,180),2,random(-15,15)) 
    OVER PPPPPPPPPP 0 A_CustomMissile("OverFlesh3",random(0,90),random(0,40),random(-180,180),2,random(-15,15)) 
    OVER PPPPPPPPPP 0 A_CustomMissile("OverFlesh4",random(0,90),random(0,40),random(-180,180),2,random(-15,15)) 
    OVER PPPPPPPPPP 0 A_CustomMissile("OverFlesh5",random(0,90),random(0,40),random(-180,180),2,random(-15,15)) 
    OVER PPPPPPPPPP 0 A_CustomMissile("OverFlesh6",random(0,90),random(0,40),random(-180,180),2,random(-15,15)) 
    OVER P 0 bright A_CustomMissile("OverBigArm1",40,-40,-90,2,random(-1,1)) 
    OVER P 0 bright A_CustomMissile("OverBigArm2",40,40,90,2,random(-1,1))
    OVER P 0 bright A_CustomMissile("OverSmallArm1",100,-30,-90,2,random(-15,15))
    OVER P 0 bright A_CustomMissile("OverSmallArm1",100,30,90,2,random(-15,15))
    OVER P 0 bright A_CustomMissile("OverSmallArm2",100,-30,-90,2,random(-15,15))
    OVER P 0 bright A_CustomMissile("OverSmallArm2",100,30,90,2,random(-15,15))
    OVER P 0 bright A_CustomMissile("OverHorn1",110,-16,-90,2,random(-15,15))
    OVER P 0 bright A_CustomMissile("OverHorn2",110,16,90,2,random(-15,15))
    OVER PQRSTUV 8 bright
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    stop
  }

}

actor StealthHadesOverlord : HadesOverlord 26534
{
 dropitem DoomSpellMana1 112 50
 dropitem DoomSpellMana1 112 50
 dropitem DoomSpellMana2 84 125
 dropitem DoomSpellMana2 84 125
 dropitem DoomSpellMana3 56 350
 dropitem DoomSpellMana3 56 350
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

  obituary "%o thought %g saw a Hades Overlord."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

actor OverBall
{
   Radius 10
   Height 20
   Speed 15
   Damage 8
   DamageType lightning
   ExplosionDamage 32
   ExplosionRadius 32
   PROJECTILE
   RENDERSTYLE ADD
   ALPHA 0.75
   Translation "192:207=168:191"
   +FORCEXYBILLBOARD
   DeathSound "weapons/devzap"
   States
   {
   Spawn:
      AFX1 ABC 1 Bright
      loop
   Death:
      AFX1 DE 4 Bright A_Explode
      AFX1 FGHI 4 bright
      stop
   }
}

actor OverFlesh1
{
   Speed 8
   Mass 100
   Radius 1
   Height 1
   PROJECTILE
   +LOWGRAVITY
   -NOGRAVITY
   States
   {
   Spawn:
      OVF1 ACEGIKM 5 
      loop
   Death:
      OVF1 O 3
      OVF1 Q 350
      stop        
   }
}

actor OverFlesh2 : OverFlesh1
{
   States
   {
   Spawn:
      OVF1 BDFHJLN 5 
      loop
   Death:
      OVF1 P 3
      OVF1 R 350
      stop        
   }
}

actor OverFlesh3 : OverFlesh1
{
   States
   {
   Spawn:
      OVF2 ACEG 5 
      loop
   Death:
      OVF2 I 350
      stop        
   }
}

actor OverFlesh4 : OverFlesh1
{
   States
   {
   Spawn:
      OVF2 BDFH 5 
      loop
   Death:
      OVF2 J 350
      stop        
   }
}

actor OverFlesh5 : OverFlesh1
{
   States
   {
   Spawn:
      OVF3 ACEGI 5 
      loop
   Death:
      OVF3 K 350
      stop        
   }
}

actor OverFlesh6 : OverFlesh1
{
   States
   {
   Spawn:
      OVF3 BDFHJ 5 
      loop
   Death:
      OVF3 L 350
      stop        
   }
}

actor OverBigArm1 : OverFlesh1
{
   States
   {
   Spawn:
      OVF4 ACEGI 5 
      loop
   Death:
      OVF4 K 3
      OVF4 M 350
      stop        
   }
}

actor OverBigArm2 : OverFlesh1
{
   States
   {
   Spawn:
      OVF4 BDFHJ 5 
      loop
   Death:
      OVF4 L 3
      OVF4 N 350
      stop        
   }
}

actor OverSmallArm1 : OverFlesh1
{
   States
   {
   Spawn:
      OVF5 ACEG 5 
      loop
   Death:
      OVF5 I 350
      stop        
   }
}

actor OverSmallArm2 : OverFlesh1
{
   States
   {
   Spawn:
      OVF5 BDFH 5 
      loop
   Death:
      OVF5 J 350
      stop        
   }
}

actor OverHorn1 : OverFlesh1
{
   States
   {
   Spawn:
      OVF6 ACEGI 5 
      loop
   Death:
      OVF6 K 350
      stop        
   }
}

actor OverHorn2 : OverFlesh1
{
   States
   {
   Spawn:
      OVF6 BDFHJ 5 
      loop
   Death:
      OVF6 L 350
      stop        
   }
}

actor HadesOverlordBall : CacodemonBall
{
Damage 12
Speed 18
Alpha 0.80
DamageType lightning
+FORCEXYBILLBOARD
SeeSound "Monster/hadtel"
DeathSound "Monster/hadsit"
 states
  {
  Spawn:
    HEFX AB 4 bright
    loop
  Death:
    HEFX CDEEFGH 3 bright
    stop
  }
}

actor StormShot1
{
   Radius 12
   Height 6
   Speed 30
   Damage 50
   PROJECTILE
   RENDERSTYLE ADD
   Alpha 0.80
   Damagetype lightning
   +NODAMAGETHRUST
   +FORCEXYBILLBOARD
   DeathSound "weapons/devexp"
   States
   {
   Spawn:
      LFX1 STUVW 1 Bright
      LFX1 W 0 Bright A_CustomMissile("StormLite1",0,0,90,6)
      LFX1 W 0 Bright A_CustomMissile("StormLite1",0,0,270,6)
      loop
   Death:
      LFX1 STUVWSTUVWSTUVWSTUVWSTUVWSTUVWSTUVWSTUVWSTUVWSTUVWSTUVWSTUVW 1 Bright A_Explode(16,32,0)
      stop
   }
}

actor StormShot2 : StormShot1
{
   Damage 100
   States
   {
   Spawn:
      TNT1 A 2
      LFX2 KLMNO 1 Bright
      LFX2 O 0 Bright A_CustomMissile("StormLite2",0,0,90,6)
      LFX2 O 0 Bright A_CustomMissile("StormLite2",0,0,270,6)
      Goto Spawn+1
   Death:
      LFX2 KLMNO 1 Bright A_Explode(32,64,0)
      LFX2 KKKKKK 0 Bright A_SpawnItemEx("StormBolt",0,0,0,4,0,0,random(0,359),0,0)
      LFX2 LMNO 1 Bright A_Explode(32,64,0)
      stop
   }
}

actor StormStrike1
{
   Radius 16
   Height 1
   Speed 90
   Damage 2
   PROJECTILE
   Damagetype lightning
   RENDERSTYLE ADD
   Alpha 0.75
   +RIPPER
   +NODAMAGETHRUST
   +STRIFEDAMAGE
   DeathSound "weapons/devzap"
   States
   {
   Spawn:
      LFX1 IJKLM 1 Bright A_Explode(64,64,0)
      loop
   Death:
      LFX1 NOPQR 2 Bright
      stop
   }
}

actor StormBolt : StormStrike1
{
   Speed 4
   Radius 8
   Height 16
   Damage 1
   Damagetype lightning
   SeeSound "weapons/none"
   DeathSound "weapons/gntidl"
   YScale 4.0
   XScale 2.0
   ReactionTime 35
   +FLOORHUGGER
   +HEXENBOUNCE
   -NOGRAVITY
   States
   {
   Spawn:
      LFX2 F 1 Bright A_Explode(16,64,0)
      LFX2 F 0 Bright A_CustomMissile("StormBolt2",16,0,0,6,90)
      LFX2 F 0 ThrustThing(random(0,255),1,0,0)
      LFX2 G 1 Bright A_Explode(16,64,0)
      LFX2 G 0 Bright A_CustomMissile("StormBolt2",16,0,0,6,90)
      LFX2 H 1 Bright A_Explode(16,64,0)
      LFX2 H 0 Bright A_CustomMissile("StormBolt2",16,0,0,6,90)
      LFX2 I 1 Bright A_Explode(16,64,0)
      LFX2 I 0 Bright A_CustomMissile("StormBolt2",16,0,0,6,90)
      LFX2 J 1 Bright A_Explode(16,64,0)
      LFX2 J 0 Bright A_CustomMissile("StormBolt2",16,0,0,6,90)
      LFX2 J 0 Bright A_CountDown
      loop
   Death:
      LFX2 FGHIJ 2 Bright A_Explode(16,64,0)
      stop
   }
}

actor StormBolt2 : StormStrike1
{
   Speed 184
   Damage 1
   Height 15
   Radius 8
   Damagetype lightning
   SeeSound "Monster/hadtel"
   DeathSound "Monster/hadsit"
   +RIPPER
   +NOGRAVITY
   States
   {
   Spawn:
      TNT1 A 1 Bright A_Explode(16,64,0)
      loop
   Death:
      TNT1 A 1 Bright
      stop
   }
}

actor StormLite1
{
   Radius 6
   Height 12
   Speed 32
   Damage 5
   PROJECTILE
   RENDERSTYLE ADD
   Alpha 0.80
   Damagetype lightning
   DeathSound "weapons/devzap"
   +RIPPER
   +FORCEXYBILLBOARD
   States
   {
   Spawn:
      DLIT ABC 1 Bright
      Loop
   Death:
      DLIT DEFGHIJKLMNO 1 Bright
      Stop
   }
}

actor StormLite2 : StormLite1
{
   Speed 64
   Damage 10
   States
   {
   Spawn:
      LFX1 XYZ 1 Bright
      Loop
   Death:
      LFX1 STUVW 3 Bright
      Stop
   }
}
//End of Hades Overlord

//Monster-Hades Sphere [one's made by Hades Overlord] (they teleport around randomly instead of disappearing and reappearing after a few seconds and tend to be harder to get rid of]
actor HSOverlord 30345
{ 
var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.

Health 35
Radius 15 
Height 31 
Mass 3000 
Speed 10
RENDERSTYLE Normal
Obituary "%o was blown away by a Hades Sphere."
PAINCHANCE 0 
MONSTER
+LOOKALLAROUND
+DONTGIB
+NOTARGET
+NOGRAVITY 
+FLOAT
+DONTFALL
+DONTHURTSPECIES
+FORCEXYBILLBOARD
+AVOIDMELEE

MeleeThreshold 192
SeeSound "monster/hadsit"
States 
   { 
  CheckMapSkillSpawn:
       TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
       TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
       Goto Spawn+2
  CheckMapSkillSee:
       TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
       TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
       Goto See+6
   Spawn:
       TNT1 A 0 Bright A_Look      
       TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
       TNT1 A 4 Bright A_Look      
       Loop
   See:
       HADE EFGH 4 Bright
       TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
       HADE A 0 Bright A_UnSetInvulnerable
       HADE A 2 Bright A_Playsound("monster/hadwlk")
       HADE ABBCCDD 2 Bright A_Chase
       HADE D 0 Bright A_Jump(32,"Teleport") 
       Goto See+5
   Teleport:
       HADE H 0 Bright A_SetInvulnerable
       HADE H 5 Bright A_Playsound("monster/hadtel")
       HADE GFEIJKL 3 Bright
       TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 Bright A_ExtChase(0,0,1,1)
       HADE L 3 Bright A_Playsound("monster/hadtel")
       HADE KJIEFG 4 Bright
       HADE H 0 Bright A_UnSetInvulnerable
       Goto See+4
   Melee:
       HADE H 4 Bright A_SetInvulnerable
       HADE GF 4 Bright
       HADE E 3 Bright
       HADE E 0 Bright A_UnSetInvulnerable
       HADE E 1 Bright A_Die
       stop
   Death:
       HADE E 0 Bright A_Noblocking
       HADE E 0 Bright A_CustomMissile("HSBoomOverlord",0,0,0,0)
       TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
       Stop
   XDeath:
       HADE N 0 Bright A_Noblocking
       HADE H 5 Bright A_PlaySound("monster/haddth")
       HADE GFE 4 Bright
       HADE RSTUVWX 4 Bright
       TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
       Stop
   } 
}

actor HSBoomOverlord
{
   Radius 1
   Height 1
   Alpha 0.90
   DamageType normal
   ExplosionDamage 112
   ExplosionRadius 112
   PROJECTILE
   RENDERSTYLE ADD
   DONTHURTSHOOTER
   +FORCEXYBILLBOARD
   SeeSound "monster/hadexp"
   States
   {
   Spawn:
      TNT1 A 0 Bright
      Goto Death
   Death:
      HADE M 4 Bright A_Explode
      HADE NOPQ 5 Bright
      Stop
   }
}
//End of Overlord's Hades Sphere


actor DSArachnotron : Arachnotron 26535
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 18 125
 dropitem Cell 2 20
 dropitem Cell 2 20
 dropitem CellPack 2 100
 dropitem PlasmaRifle 2 40
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor


  DamageFactor "Crush", 10.4
  DamageFactor "Thunder", 1.75
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 128
  Painchance "Thunder", 192
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BSPI A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BSPI AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BSPI A 20
    BSPI A 3 A_BabyMetal
    BSPI ABBCC 3 A_Chase
    BSPI D 3 A_BabyMetal
    BSPI DEEFF 3 A_Chase
    goto See+2

  Missile:
    BSPI A 20 A_FaceTarget
    BSPI A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BSPI A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BSPI G 5 A_BspiAttack    // See ArachnotronPlasma
    BSPI H 4 bright
    BSPI H 1 bright A_SpidRefire
    goto Missile+1
  StartShockCheck:
    BSPI G 0 A_Jump(192, "Missile2")
  StartShock:
    BSPI G 0 A_FaceTarget
    BSPI G 0 A_SetUserVar("user_theta",0)
  Shock:
    BSPI G 0 A_CustomMissile("ArachnotronPlasma",32,0,user_theta)
    BSPI G 0 A_SetUserVar("user_theta",user_theta+5)
    BSPI G 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    BSPI G 5
    BSPI H 4 bright
    BSPI H 1 bright A_SpidRefire
    goto Missile+1
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BSPI J 20 A_Scream
    BSPI K 7 A_NoBlocking
    BSPI LMNO 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BSPI P -1 A_BossDeath
    stop
  Raise:
    BSPI PONMLKJ 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See+1
 }
}

actor DSStealthArachnotron : StealthArachnotron 26536
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 36 125
 dropitem Cell 2 20
 dropitem Cell 2 20
 dropitem CellPack 2 100
 dropitem PlasmaRifle 2 40
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor

  DamageFactor "Crush", 10.4
  DamageFactor "Thunder", 1.75
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 128
  Painchance "Thunder", 192
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BSPI A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BSPI AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BSPI A 20
    BSPI A 3 A_BabyMetal
    BSPI ABBCC 3 A_Chase
    BSPI D 3 A_BabyMetal
    BSPI DEEFF 3 A_Chase
    goto See+2

  Missile:
    BSPI A 20 A_FaceTarget
    BSPI A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BSPI A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BSPI G 5 A_BspiAttack    // See ArachnotronPlasma
    BSPI H 4 bright
    BSPI H 1 bright A_SpidRefire
    goto Missile+1
  StartShockCheck:
    BSPI G 0 A_Jump(192, "Missile2")
  StartShock:
    BSPI G 0 A_FaceTarget
    BSPI G 0 A_SetUserVar("user_theta",0)
  Shock:
    BSPI G 0 A_CustomMissile("ArachnotronPlasma",32,0,user_theta)
    BSPI G 0 A_SetUserVar("user_theta",user_theta+5)
    BSPI G 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  EndShock:
    BSPI G 5
    BSPI H 4 bright
    BSPI H 1 bright A_SpidRefire
    goto Missile+1
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BSPI J 20 A_Scream
    BSPI K 7 A_NoBlocking
    BSPI LMNO 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BSPI P -1 A_BossDeath
    stop
  Raise:
    BSPI PONMLKJ 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See+1
 }
}

actor FusionArachnotron : Arachnotron 20000
{
  var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana2 36 125
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem PlasmaRifle 2 40
  dropitem PlasmaRifle 2 40
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor

  OBITUARY "%o was vaporized by a fusion cannon Arachnotron"
  Health 1000
  Radius 64
  Height 64
  Mass 600
  Speed 12
  PainChance 30 
  DamageFactor "Normal", 0.75
  RadiusDamageFactor 0.5
  SEESOUND "baby/sight"
  PAINSOUND "baby/pain"
  DEATHSOUND "baby/death"
  ACTIVESOUND "baby/active"
  MONSTER
  +FloorClip
  +MissileMore
  +MissileEvenMore
  +AVOIDMELEE

  DamageFactor "Crush", 10.4
  DamageFactor "Thunder", 1.75
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 96
  Painchance "Thunder", 144
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  states
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    FSPI A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    FSPI AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    FSPI A 20
    FSPI A 3 A_BabyMetal
    FSPI ABBCC 3 A_Chase
    FSPI D 3 A_BabyMetal
    FSPI DEEFF 3 A_Chase
    goto See+2

  Missile:
    BSPI A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    BSPI A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Missile2:
    FSPI A 4 BRIGHT A_FaceTarget
    FSPI A 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,0)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,15)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,-15)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,10)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,-30)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,30)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,-10)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,25)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,5)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,-5)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,0)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,-45)  
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,40)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,-20)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,10)
    FSPI G 0 A_FaceTarget
    FSPI G 3 BRIGHT A_CustomMissile("FusionShot",24,0,-35)
    FSPI H 3 BRIGHT A_CustomMissile("FusionShot",24,0,50)
    FSPI H 1 BRIGHT
    Goto See+1

  StartShockCheck1:
    FSPI G 0 A_Jump(192, "Missile2")
  StartShock1:
    FSPI G 0 A_SetUserVar("user_theta",0)
    FSPI G 3 BRIGHT A_FaceTarget
  Shock1A:
    FSPI G 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI G 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI G 0 A_JumpIf(user_theta==360,"Shock1AB")
    Loop
  Shock1AB:
    FSPI H 0 A_SetUserVar("user_theta",5)
    FSPI H 3 BRIGHT A_FaceTarget
  Shock1B:
    FSPI H 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI H 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI H 0 A_JumpIf(user_theta==365,"Shock1BC")
    Loop
  Shock1BC:
    FSPI G 0 A_SetUserVar("user_theta",-5)
    FSPI G 3 BRIGHT A_FaceTarget
  Shock1C:
    FSPI G 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI G 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI G 0 A_JumpIf(user_theta==355,"Shock1CD")
    Loop
  Shock1CD:
    FSPI H 0 A_SetUserVar("user_theta",0)
    FSPI H 3 BRIGHT A_FaceTarget
  Shock1D:
    FSPI H 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI H 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI H 0 A_JumpIf(user_theta==360,"Shock1DE")
    Loop
  Shock1DE:
    FSPI G 0 A_SetUserVar("user_theta",10)
    FSPI G 3 BRIGHT A_FaceTarget
  Shock1E:
    FSPI G 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI G 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI G 0 A_JumpIf(user_theta==370,"Shock1EF")
    Loop
  Shock1EF:
    FSPI H 0 A_SetUserVar("user_theta",-10)
    FSPI H 3 BRIGHT A_FaceTarget
  Shock1F:
    FSPI H 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI H 0 A_SetUserVar("user_theta",user_theta+3)
    FSPI H 0 A_JumpIf(user_theta==350,"Shock1FG")
    Loop
  Shock1FG:
    FSPI G 0 A_SetUserVar("user_theta",2)
    FSPI G 3 BRIGHT A_FaceTarget
  Shock1G:
    FSPI G 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI G 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI G 0 A_JumpIf(user_theta==362,"Shock1GH")
    Loop
  Shock1GH:
    FSPI H 0 A_SetUserVar("user_theta",-2)
    FSPI H 3 BRIGHT A_FaceTarget
  Shock1H:
    FSPI H 0 A_CustomMissile("FusionShot",32,0,user_theta)
    FSPI H 0 A_SetUserVar("user_theta",user_theta+4)
    FSPI H 0 A_JumpIf(user_theta==358,"EndShock1")
    Loop
  EndShock1:
    FSPI H 1 BRIGHT
    Goto See+1

  Pain:
    FSPI I 3
    FSPI I 3 A_Pain
    Goto See+1
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    FSPI J 20 A_Scream
    FSPI K 7 A_NoBlocking
    FSPI LMNO 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    FSPI P -1 A_BossDeath
    Stop
  Raise:
    FSPI PONMLKJ 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See+1
  }
}

actor StealthFusionArachnotron : FusionArachnotron 26537
{
  dropitem DoomSpellMana2 36 125
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem PlasmaRifle 2 40
  dropitem PlasmaRifle 2 40
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronHelmet 1
  dropitem Blursphere 2
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a fusion-cannon Arachnotron."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 10.4
  DamageFactor "Thunder", 1.75
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 96
  Painchance "Thunder", 144
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

}

actor FusionShot
{
  Radius 13
  Height 8
  Speed 12
  Damage 6
  Scale 1.0   
  RENDERSTYLE Add
  SEESOUND "fusionspid/see" 
  DEATHSOUND "fusionspid/die"
  PROJECTILE
  Decal PlasmaScorchLower
  states
  {
  Spawn:
    FS03 AB 5 BRIGHT A_SpawnItemEx("FusionTrail", 0, 0, 0, 0, 0, 0, Random(-10, 10), 128)
    Loop
  Death:
    FS03 HIJG 3 BRIGHT
    Stop
  }
}

actor FusionTrail
{
  Radius 4
  Height 8
  Speed 0
  Damage 0
  Scale 1.0 
  RENDERSTYLE Add 
  PROJECTILE
  states
  {
  Spawn:
    TNT0 A 2
    FS03 FG 6 BRIGHT A_FadeOut
    Stop
  }
}

actor DSRailArachnotron 3125
{
  var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana2 36 125
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 100
  dropitem CellPack 2 40
  dropitem CellPack 2 40
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor

  DamageFactor "Crush", 10.4
  DamageFactor "Thunder", 1.75
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 255 // Demons = +300% Pain Chance

  Painchance 128
  Painchance "Thunder", 192
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 Health 500
 Radius 64
 Height 64
 Mass 600
 Speed 12
 PainChance 192
 Damage 30
 Monster
 +FLOORCLIP
 SeeSound "baby/sight"
 PainSound "baby/pain"
 DeathSound "baby/death"
 ActiveSound "baby/active"
 Obituary "%o was railed by an arachnotron."
 Decal RedRailScorch
 States
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    RSPI A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    RSPI AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    RSPI A 20
    RSPI A 3 A_BabyMetal
    RSPI ABBCC 3 A_Chase
    RSPI D 3 A_BabyMetal
    RSPI DEEFF 3 A_Chase
    goto See+2

  Missile:
    RSPI A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    RSPI A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    RSPI A 0 A_PlaySound ("baby/chargerailgun")
    RSPI A 16 A_FaceTarget
    RSPI G 16 A_FaceTarget
    RSPI H 4 A_CustomRailgun (30, 0, AA0000, FF0000, 0, 1)
    RSPI G 8
    Goto See+1
  StartShockCheck:
    BSPI G 0 A_Jump(192, "Missile2")
  StartShock:
    RSPI A 0 A_PlaySound ("baby/chargerailgun")
    RSPI A 0 A_PlaySound ("baby/chargerailgun")
    RSPI A 10 A_FaceTarget
    RSPI A 10 A_FaceTarget
    RSPI G 10 A_FaceTarget
    RSPI G 10 A_FaceTarget
    RSPI H 4 A_CustomRailgun (240, 0, 00AA00, 00FF00, 0, 1)
    RSPI G 8
    Goto See+1

  Pain:
    RSPI I 3
    RSPI I 3 A_Pain
    Goto See+1
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)    
    TNT1 A 0 
    goto Death+1
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    RSPI J 20 A_Scream
    RSPI K 7 A_NoBlocking
    RSPI LMNO 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    RSPI P -1
    Stop
  Raise:
    RSPI PONMLKJ 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See+1
 }
}

actor StealthRailArachnotron : DSRailArachnotron
{
//  var int user_theta;
//  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
//  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  +STEALTH
}


// 66.6 [1], 22.2 [2], 11.1 [3]

// Makes the HellKnight's Plasma A Bit Weaker to Differenicate his threat level from the Baron
actor HellKnightBall : BaronBall
{
 decal "BaronScorch"
 Speed 12.5
 Scale 0.75
 Damage (random(1,4)*8) // [8-32] 8
}
actor HellKnightBall2 : BaronBall
{
 decal "BaronScorch"
 Speed 12.5
 Scale 0.875
 Damage (random(3,6)*8) // [24-48] 8
}
actor HellKnightBall3 : BaronBall
{
 decal "BaronScorch"
 Speed 12.5
 Scale 1
 Damage (random(5,8)*8) // [40-64] 8
}

actor DSHellKnight : HellKnight 26538
{
 bloodcolor "green"
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 24 125
 dropitem Backpack 2
 dropitem Backpack 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor
 dropitem KnightFistCI 5

 DamageFactor "Crush", 8.8
 DamageFactor "Wind", 0.02
 DamageFactor "Poison", 1.5
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 150 // Demons = +300% Pain Chance

 Painchance 50
 Painchance "Poison", 75
 Painchance "Wind", 1
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BOS2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOS2 AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOS2 AABBCCDD 3 A_Chase
    loop

  MissileKnight1:
    BOS2 EF 8 A_FaceTarget
    BOS2 G 8 A_BasicAttack(5*random(1,8), "imp/melee", "HellKnightBall", 32)  // See HellKnightBall
    goto See
  MissileKnight2:
    BOS2 EF 8 A_FaceTarget
    BOS2 G 8 A_BasicAttack(7.5*random(1,8), "imp/melee", "HellKnightBall2", 32)  // See HellKnightBall2
    goto See
  MissileKnight3:
    BOS2 EF 8 A_FaceTarget
    BOS2 G 8 A_BasicAttack(10*random(1,8), "imp/melee", "HellKnightBall3", 32)  // See HellKnightBall3
    goto See
  Missile:
    BOS2 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BOS2 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BOS2 E 0 A_Jump(177, "MissileKnight1") // Throw a normal Knight Ball
    BOS2 E 0 A_Jump(177, "MissileKnight2") // Throw a stronger Knight Ball
    goto MissileKnight3 // Throw the strongest Knight Ball

  ShockKnight1:
    BOS2 E 0 A_CustomMissile("HellKnightBall",32,0,user_theta)
    BOS2 E 0 A_SetUserVar("user_theta",user_theta+6)
    BOS2 E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockKnight2:
    BOS2 E 0 A_CustomMissile("HellKnightBall2",32,0,user_theta)
    BOS2 E 0 A_SetUserVar("user_theta",user_theta+6)
    BOS2 E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockKnight3:
    BOS2 E 0 A_CustomMissile("HellKnightBall3",32,0,user_theta)
    BOS2 E 0 A_SetUserVar("user_theta",user_theta+6)
    BOS2 E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  StartShockCheck:
    BOS2 E 0 A_Jump(192, "Missile2")
  StartShock:
    BOS2 EF 8 A_FaceTarget
    BOS2 E 0 A_SetUserVar("user_theta",0)
  Shock:
    BOS2 E 0 A_Jump(177, "ShockKnight1") // Throw a ring of normal Knight Balls
    BOS2 E 0 A_Jump(177, "ShockKnight2") // Throw a ring of stronger Knight Balls
    goto ShockKnight3 // Throw a ring of strongest Knight Balls
  EndShock:
    BOS2 G 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BOS2 I 8
    BOS2 J 8 A_Scream
    BOS2 K 8
    BOS2 L 8 A_NoBlocking
    BOS2 MN 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BOS2 O -1 A_BossDeath
    stop
  Raise:
    BOS2 ONMLKJI 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor DSStealthHellKnight : StealthHellKnight 26539
{
 bloodcolor "green"
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 48 125
 dropitem Backpack 2
 dropitem Backpack 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor
 dropitem KnightFistCI 5

 DamageFactor "Crush", 8.8
 DamageFactor "Wind", 0.02
 DamageFactor "Poison", 1.5
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 150 // Demons = +300% Pain Chance

 Painchance 50
 Painchance "Poison", 75
 Painchance "Wind", 1
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BOS2 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOS2 AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOS2 AABBCCDD 3 A_Chase
    loop

  MissileKnight1:
    BOS2 EF 8 A_FaceTarget
    BOS2 G 8 A_BasicAttack(5*random(1,8), "imp/melee", "HellKnightBall", 32)  // See HellKnightBall
    goto See
  MissileKnight2:
    BOS2 EF 8 A_FaceTarget
    BOS2 G 8 A_BasicAttack(7.5*random(1,8), "imp/melee", "HellKnightBall2", 32)  // See HellKnightBall2
    goto See
  MissileKnight3:
    BOS2 EF 8 A_FaceTarget
    BOS2 G 8 A_BasicAttack(10*random(1,8), "imp/melee", "HellKnightBall3", 32)  // See HellKnightBall3
    goto See
  Missile:
    BOS2 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BOS2 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BOS2 E 0 A_Jump(177, "MissileKnight1") // Throw a normal Knight Ball
    BOS2 E 0 A_Jump(177, "MissileKnight2") // Throw a stronger Knight Ball
    goto MissileKnight3 // Throw the strongest Knight Ball

  ShockKnight1:
    BOS2 E 0 A_CustomMissile("HellKnightBall",32,0,user_theta)
    BOS2 E 0 A_SetUserVar("user_theta",user_theta+6)
    BOS2 E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockKnight2:
    BOS2 E 0 A_CustomMissile("HellKnightBall2",32,0,user_theta)
    BOS2 E 0 A_SetUserVar("user_theta",user_theta+6)
    BOS2 E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockKnight3:
    BOS2 E 0 A_CustomMissile("HellKnightBall3",32,0,user_theta)
    BOS2 E 0 A_SetUserVar("user_theta",user_theta+6)
    BOS2 E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  StartShockCheck:
    BOS2 E 0 A_Jump(192, "Missile2")
  StartShock:
    BOS2 EF 8 A_FaceTarget
    BOS2 E 0 A_SetUserVar("user_theta",0)
  Shock:
    BOS2 E 0 A_Jump(177, "ShockKnight1") // Throw a ring of normal Knight Balls
    BOS2 E 0 A_Jump(177, "ShockKnight2") // Throw a ring of stronger Knight Balls
    goto ShockKnight3 // Throw a ring of strongest Knight Balls
  EndShock:
    BOS2 G 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BOS2 I 8
    BOS2 J 8 A_Scream
    BOS2 K 8
    BOS2 L 8 A_NoBlocking
    BOS2 MN 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BOS2 O -1 A_BossDeath
    stop
  Raise:
    BOS2 ONMLKJI 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor DSFatso : Fatso 26540
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 20 125
 dropitem RocketLauncher 2 1
 dropitem RocketLauncher 2 1
 dropitem MegaSphere 2
 dropitem BlueArmor 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor

 DamageFactor "Crush", 7.2
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 240 // Demons = +300% Pain Chance

 Painchance 80
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    FATT A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    FATT AB 15 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    FATT AABBCCDDEEFF 4 A_Chase
    loop


  Missile:
    FATT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    FATT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    FATT G 20 A_FatRaise
    FATT H 10 bright A_FatAttack1  // See FatShot
    FATT H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    FATT H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    FATT IG 5 A_FaceTarget
    FATT H 10 bright A_FatAttack2  // See FatShot
    FATT H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
    FATT H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
  Attack3:
    FATT IG 5 A_FaceTarget
    FATT H 10 bright A_FatAttack3  // See FatShot
    FATT IG 5 A_FaceTarget
    goto See

  StartShockCheck1:
    FATT G 0 A_Jump(192, "Attack1")
  StartShock1:
    FATT G 20 A_FatRaise
    FATT H 0 A_SetUserVar("user_theta",0)
  Shock1:
    FATT H 0 A_CustomMissile("FatShot",32,0,user_theta)
    FATT H 0 A_SetUserVar("user_theta",user_theta+3)
    FATT H 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    FATT H 10
    Goto Attack1+2

  StartShockCheck2:
    FATT I 0 A_Jump(192, "Attack2")
  StartShock2:
    FATT IG 5 A_FaceTarget
    FATT H 0 A_SetUserVar("user_theta",0)
  Shock2:
    FATT H 0 A_CustomMissile("FatShot",32,0,user_theta)
    FATT H 0 A_SetUserVar("user_theta",user_theta+3)
    FATT H 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    FATT H 10
    Goto Attack2+3

  StartShockCheck3:
    FATT I 0 A_Jump(192, "Attack3")
  StartShock3:
    FATT IG 5 A_FaceTarget
    FATT H 0 A_SetUserVar("user_theta",0)
  Shock3:
    FATT H 0 A_CustomMissile("FatShot",32,0,user_theta)
    FATT H 0 A_SetUserVar("user_theta",user_theta+3)
    FATT H 0 A_JumpIf(user_theta==360,"EndShock3")
    Loop
  EndShock3:
    FATT H 10
    FATT IG 5 A_FaceTarget
    goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    FATT K 6
    FATT L 6 A_Scream
    FATT M 6 A_NoBlocking
    FATT NOPQRS 6
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    FATT T -1 A_BossDeath
    stop
  Raise:
    FATT RQPONMLK 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor DSStealthFatso : StealthFatso 26541
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana2 40 125
 dropitem RocketLauncher 2 1
 dropitem RocketLauncher 2 1
 dropitem MegaSphere 2
 dropitem BlueArmor 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor

 DamageFactor "Crush", 7.2
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 240 // Demons = +300% Pain Chance

 Painchance 80
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    FATT A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    FATT AB 15 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    FATT AABBCCDDEEFF 4 A_Chase
    loop

  Missile:
    FATT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    FATT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    FATT G 20 A_FatRaise
    FATT H 10 bright A_FatAttack1  // See FatShot
    FATT H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    FATT H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    FATT IG 5 A_FaceTarget
    FATT H 10 bright A_FatAttack2  // See FatShot
    FATT H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
    FATT H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
  Attack3:
    FATT IG 5 A_FaceTarget
    FATT H 10 bright A_FatAttack3  // See FatShot
    FATT IG 5 A_FaceTarget
    goto See

  StartShockCheck1:
    FATT G 0 A_Jump(192, "Attack1")
  StartShock1:
    FATT G 20 A_FatRaise
    FATT H 0 A_SetUserVar("user_theta",0)
  Shock1:
    FATT H 0 A_CustomMissile("FatShot",32,0,user_theta)
    FATT H 0 A_SetUserVar("user_theta",user_theta+3)
    FATT H 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    FATT H 10
    Goto Attack1+2

  StartShockCheck2:
    FATT I 0 A_Jump(192, "Attack2")
  StartShock2:
    FATT IG 5 A_FaceTarget
    FATT H 0 A_SetUserVar("user_theta",0)
  Shock2:
    FATT H 0 A_CustomMissile("FatShot",32,0,user_theta)
    FATT H 0 A_SetUserVar("user_theta",user_theta+3)
    FATT H 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    FATT H 10
    Goto Attack2+3

  StartShockCheck3:
    FATT I 0 A_Jump(192, "Attack3")
  StartShock3:
    FATT IG 5 A_FaceTarget
    FATT H 0 A_SetUserVar("user_theta",0)
  Shock3:
    FATT H 0 A_CustomMissile("FatShot",32,0,user_theta)
    FATT H 0 A_SetUserVar("user_theta",user_theta+3)
    FATT H 0 A_JumpIf(user_theta==360,"EndShock3")
    Loop
  EndShock3:
    FATT H 10
    FATT IG 5 A_FaceTarget
    goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    FATT K 6
    FATT L 6 A_Scream
    FATT M 6 A_NoBlocking
    FATT NOPQRS 6
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    FATT T -1 A_BossDeath
    stop
  Raise:
    FATT RQPONMLK 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor HectShot : FatShot
{
  decal "Scorch"
  Speed 22
  Damage 12
  States
  {
  Spawn:
    HECF AB 4 Bright
    Loop
  Death:
    HECF C 8 Bright
    HECF D 6 Bright
    HECF E 4 Bright
    Stop
  }
}

actor Hectebus : Fatso 5007
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem RocketLauncher 2 1
  dropitem RocketLauncher 2 1
  dropitem RocketLauncher 2 1
  dropitem RocketLauncher 2 1
  dropitem BFG9000 2 40
  dropitem MegaSphere 2
  dropitem MegaSphere 2
  dropitem StoneSkin 2
  dropitem StoneSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor

  +AVOIDMELEE

  SEESOUND "hect/see"
  DEATHSOUND "hect/die"  
  SpawnID 158
  Health 1200
  Obituary "%o was cremated by a hectebus."

  DamageFactor "Crush", 7.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 60 // Demons = +300% Pain Chance

  Painchance 20
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HECT A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HECT AB 12 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HECT AABBCCDDEEFF 3 A_Chase
    loop

  Missile:
    HECT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    HECT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    HECT G 0 A_PlaySound("fatso/raiseguns")
    HECT G 20 A_FaceTarget
    HECT H 0 A_CustomMissile("HectShot",28,0,0,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,11.25,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,16.875,1)
    HECT H 10 Bright
    HECT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    HECT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_CustomMissile("HectShot",28,0,0,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-11.25,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-16.875,1)
    HECT H 10 Bright
    HECT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
    HECT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
  Attack3:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_CustomMissile("HectShot",28,0,-11.25,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,0,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,11.25,1)
    HECT H 10 Bright
    HECT IG 5 A_FaceTarget
    goto See

  StartShockCheck1:
    HECT G 0 A_Jump(192, "Attack1")
  StartShock1:
    HECT G 20 A_FatRaise
    HECT H 0 A_SetUserVar("user_theta",0)
  Shock1:
    HECT H 0 A_CustomMissile("HectShot",32,0,user_theta)
    HECT H 0 A_SetUserVar("user_theta",user_theta+2)
    HECT H 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    HECT H 10
    Goto Attack1+7

  StartShockCheck2:
    HECT I 0 A_Jump(192, "Attack2")
  StartShock2:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_SetUserVar("user_theta",0)
  Shock2:
    HECT H 0 A_CustomMissile("HectShot",32,0,user_theta)
    HECT H 0 A_SetUserVar("user_theta",user_theta+2)
    HECT H 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    HECT H 10
    Goto Attack2+6

  StartShockCheck3:
    HECT I 0 A_Jump(192, "Attack3")
  StartShock3:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_SetUserVar("user_theta",0)
  Shock3:
    HECT H 0 A_CustomMissile("HectShot",32,0,user_theta)
    HECT H 0 A_SetUserVar("user_theta",user_theta+1)
    HECT H 0 A_JumpIf(user_theta==360,"EndShock3")
    Loop
  EndShock3:
    HECT H 10
    HECT IG 5 A_FaceTarget
    goto See

  Pain:
    HECT J 3
    HECT J 3 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HECT K 6
    HECT L 6 A_Scream
    HECT M 6 A_NoBlocking
    HECT NOPQRS 6
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HECT T -1
    Stop
  Raise:
    HECT RQPONMLK 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthHectebus : Hectebus 26542
{
  dropitem RocketLauncher 2 1
  dropitem RocketLauncher 2 1
  dropitem RocketLauncher 2 1
  dropitem RocketLauncher 2 1
  dropitem BFG9000 2 40
  dropitem MegaSphere 2
  dropitem MegaSphere 2
  dropitem StoneSkin 2
  dropitem StoneSkin 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor

  SpawnID 178
  obituary "%o thought %g saw a Hectebus."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 7.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 60 // Demons = +300% Pain Chance

  Painchance 20
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    HECT A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    HECT AB 12 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    HECT AABBCCDDEEFF 3 A_Chase
    loop

  Missile:
    HECT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    HECT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    HECT G 0 A_PlaySound("fatso/raiseguns")
    HECT G 20 A_FaceTarget
    HECT H 0 A_CustomMissile("HectShot",28,0,0,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,11.25,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,16.875,1)
    HECT H 10 Bright
    HECT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    HECT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_CustomMissile("HectShot",28,0,0,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-11.25,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-16.875,1)
    HECT H 10 Bright
    HECT G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
    HECT G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
  Attack3:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_CustomMissile("HectShot",28,0,-11.25,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,-5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,0,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,5.625,1)
    HECT H 0 A_CustomMissile("HectShot",28,0,11.25,1)
    HECT H 10 Bright
    HECT IG 5 A_FaceTarget
    goto See

  StartShockCheck1:
    HECT G 0 A_Jump(192, "Attack1")
  StartShock1:
    HECT G 20 A_FatRaise
    HECT H 0 A_SetUserVar("user_theta",0)
  Shock1:
    HECT H 0 A_CustomMissile("HectShot",32,0,user_theta)
    HECT H 0 A_SetUserVar("user_theta",user_theta+2)
    HECT H 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    HECT H 10
    Goto Attack1+7

  StartShockCheck2:
    HECT I 0 A_Jump(192, "Attack2")
  StartShock2:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_SetUserVar("user_theta",0)
  Shock2:
    HECT H 0 A_CustomMissile("HectShot",32,0,user_theta)
    HECT H 0 A_SetUserVar("user_theta",user_theta+2)
    HECT H 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    HECT H 10
    Goto Attack2+6

  StartShockCheck3:
    HECT I 0 A_Jump(192, "Attack3")
  StartShock3:
    HECT IG 5 A_FaceTarget
    HECT H 0 A_SetUserVar("user_theta",0)
  Shock3:
    HECT H 0 A_CustomMissile("HectShot",32,0,user_theta)
    HECT H 0 A_SetUserVar("user_theta",user_theta+1)
    HECT H 0 A_JumpIf(user_theta==360,"EndShock3")
    Loop
  EndShock3:
    HECT H 10
    HECT IG 5 A_FaceTarget
    goto See

  Pain:
    HECT J 3
    HECT J 3 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    HECT K 6
    HECT L 6 A_Scream
    HECT M 6 A_NoBlocking
    HECT NOPQRS 6
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    HECT T -1
    Stop
  Raise:
    HECT RQPONMLK 5 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor ArchvileSuperFire : ArchvileFire
{
  scale 1.6
  translation "160:167=112:127"  
  Game Doom
  SpawnID 98
  RenderStyle Add
  Alpha 1
  +NOBLOCKMAP
  +NOGRAVITY
  States
  {
  Spawn:
    FIRE A 2 bright A_StartFire
    FIRE BAB 2 bright A_Fire
    FIRE C 2 bright A_FireCrackle
    FIRE BCBCDCDCDEDED 2 bright A_Fire
    FIRE E 2 bright A_FireCrackle
    FIRE FEFEFGHGHGH 2 bright A_Fire
    Stop
  }
}

actor DSArchvile : Archvile 26543
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana2 24 125
 dropitem InvulnerabilitySphere 2
 dropitem SoulSphere 2
 dropitem BlurSphere 2
 dropitem MegaSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor
 dropitem ArchvileHandCI 5
  +AVOIDMELEE

  DamageFactor "Crush", 13.6
  DamageFactor "Ice", 1.66
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 30 // Demons = +300% Pain Chance

  Painchance 10
  PainChance "Ice", 35
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    VILE A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    VILE AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    VILE AABBCCDDEEFF 2 A_VileChase
    loop

  Missile:
   VILE G 0 A_JumpIfHealthLower(user_HPCritRange, "MissileShock")
   VILE G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
   VILE G 0 BRIGHT A_VileStart
   VILE G 10 BRIGHT A_FaceTarget
   VILE H 8 BRIGHT A_VileTarget
   VILE IJKLMN 8 BRIGHT A_FaceTarget
   VILE O 8 BRIGHT A_VileAttack
   VILE P 20 BRIGHT
   Goto See
  StartShockCheck:
   VILE G 0 A_Jump(192, "Missile2")
  MissileShock:
   VILE G 0 BRIGHT A_VileStart
   VILE G 10 BRIGHT A_FaceTarget
   VILE H 8 BRIGHT A_VileTarget("ArchvileSuperFire")
   VILE IJKLMN 8 BRIGHT A_FaceTarget
   VILE O 8 BRIGHT A_VileAttack("vile/stop",640,2240,560,8.0,"Fire")
   VILE P 20 BRIGHT
   Goto See

  Pain:
   VILE Q 5   
   VILE Q 5 A_Pain
   Goto See
  Pain.Ice:
   VILE Q 5   
   VILE Q 5 A_Pain
   VILE Q 10
   VILE Q 0 A_Jump(128, 4)
   VILE Q 5
   VILE Q 0 A_Jump(128, 2)
   VILE Q 5
   VILE Q 0
   Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    VILE Q 7
    VILE R 7 A_Scream
    VILE S 7 A_NoBlocking
    VILE TUVWXY 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    VILE Z -1
    Stop
  Raise:
    VILE YXWVVUT 7 ACS_ExecuteAlways(872,0,0,0,0)
    VILE S 7 ACS_ExecuteAlways(872,0,0,0,0)
    VILE R 7 ACS_ExecuteAlways(872,0,0,0,0)
    VILE Q 7 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor DSStealthArchvile : StealthArchvile 26544
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana2 24 125
 dropitem InvulnerabilitySphere 2
 dropitem SoulSphere 2
 dropitem BlurSphere 2
 dropitem MegaSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem BlurSphere 2
 dropitem FloraRandomArmor
 dropitem ArchvileHandCI 5

  DamageFactor "Crush", 13.6
  DamageFactor "Ice", 1.66
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 30 // Demons = +300% Pain Chance

  Painchance 10
  PainChance "Ice", 35
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    VILE A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    VILE AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    VILE AABBCCDDEEFF 2 A_VileChase
    loop

  Missile:
   VILE G 0 A_JumpIfHealthLower(user_HPCritRange, "MissileShock")
   VILE G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
   VILE G 0 BRIGHT A_VileStart
   VILE G 10 BRIGHT A_FaceTarget
   VILE H 8 BRIGHT A_VileTarget
   VILE IJKLMN 8 BRIGHT A_FaceTarget
   VILE O 8 BRIGHT A_VileAttack
   VILE P 20 BRIGHT
   Goto See
  StartShockCheck:
   VILE G 0 A_Jump(192, "Missile2")
  MissileShock:
   VILE G 0 BRIGHT A_VileStart
   VILE G 10 BRIGHT A_FaceTarget
   VILE H 8 BRIGHT A_VileTarget("ArchvileSuperFire")
   VILE IJKLMN 8 BRIGHT A_FaceTarget
   VILE O 8 BRIGHT A_VileAttack("vile/stop",640,2240,560,8.0,"Fire")
   VILE P 20 BRIGHT
   Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,3,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    VILE Q 7
    VILE R 7 A_Scream
    VILE S 7 A_NoBlocking
    VILE TUVWXY 7
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    VILE Z -1
    Stop
  Raise:
    VILE YXWVVUT 7 ACS_ExecuteAlways(872,0,0,0,0)
    VILE S 7 ACS_ExecuteAlways(872,0,0,0,0)
    VILE R 7 ACS_ExecuteAlways(872,0,0,0,0)
    VILE Q 7 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor Diabloist : Archvile 30112 
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana2 24 125
 dropitem DoomSpellMana2 24 125
 dropitem DoomSpellMana3 12 350
 dropitem InvulnerabilitySphere 2
 dropitem InvulnerabilitySphere 2
 dropitem SoulSphere 2
 dropitem SoulSphere 2
 dropitem BlurSphere 2
 dropitem BlurSphere 2
 dropitem MegaSphere 2
 dropitem MegaSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor
 dropitem DiabloistHandCI 5

 Obituary "%o got was set ablaze by a Diabloist."
 Health 1400
 Radius 20 
 Height 56 
 Mass 1000 
 Speed 22.5
 PainChance "Magic", 128
 BloodColor "08 08 08"
 MONSTER
 +NODROPOFF
 +FIRERESIST
 +FLOORCLIP 
 +NOTARGET 
 +NORADIUSDMG
 +MISSILEMORE
 +DONTHURTSPECIES
 +NOTARGETSWITCH
 +AVOIDMELEE
 SeeSound "monster/diasit" 
 PainSound "monster/diapai" 
 DeathSound "monster/diadth" 
 ActiveSound "monster/diaact" 

 DamageFactor "Crush", 13.6
 DamageFactor "Ice", 1.66
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 30 // Demons = +300% Pain Chance

 Painchance 10
 PainChance "Ice", 35
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 States 
 { 
   Missile:
	   DIAB G 0 A_Jump(85, "GravityAttackCheck")
   AttackCheck1:
       DIAB G 0 BRIGHT A_Jump (128,"AttackCheck2")
       DIAB G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
       DIAB G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
   Attack1:
       DIAB G 0 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_VileTarget("DFire") // A_CustomMissile ("DFire",32,0,0)
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 0 BRIGHT A_VileAttack("vile/stop",40,140,140,1.5,"Fire")
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 0 BRIGHT A_Jump (128,"AttackCheck3")
       Goto See

   StartShockCheck1:
       DIAB G 0 A_Jump(192, "Attack1")
   StartShock1:
       DIAB G 0 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_VileTarget("DSuperFire") // A_CustomMissile ("DFire",32,0,0)
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 0 BRIGHT A_VileAttack("vile/stop",1280,4480,1120,12.0,"Fire")
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 0 BRIGHT A_Jump (128,"AttackCheck3")
       Goto See

   AttackCheck2:
       DIAB G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
       DIAB G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
   Attack2:
       DIAB N 5 BRIGHT A_FaceTarget
       DIAB O 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB O 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB O 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB O 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 5 BRIGHT A_CustomMissile ("DFlare",40,0,random(-4,4))
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB P 5 BRIGHT
       DIAB P 0 BRIGHT A_Jump (64,"AttackCheck3")
       DIAB P 0 BRIGHT A_Jump (128,"AttackCheck4")
       Goto See

   StartShockCheck2:
       DIAB G 0 BRIGHT A_Jump(192, "Attack2")
   StartShock2:
       DIAB N 5 BRIGHT A_FaceTarget
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2A:
       DIAB O 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB O 0 BRIGHT A_JumpIf(user_theta==360,"Shock2AB")
       Loop
   Shock2AB:
       DIAB O 5 BRIGHT
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2B:
       DIAB P 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB P 0 BRIGHT A_JumpIf(user_theta==360,"Shock2BC")
       Loop
   Shock2BC:
       DIAB P 5 BRIGHT
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2C:
       DIAB N 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB N 0 BRIGHT A_JumpIf(user_theta==360,"Shock2CD")
       Loop
   Shock2CD:
       DIAB N 5 BRIGHT
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2D:
       DIAB O 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB O 0 BRIGHT A_JumpIf(user_theta==360,"Shock2DE")
       Loop
   Shock2DE:
       DIAB O 5 BRIGHT
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2E:
       DIAB P 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB P 0 BRIGHT A_JumpIf(user_theta==360,"Shock2EF")
       Loop
   Shock2EF:
       DIAB P 5 BRIGHT
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2F:
       DIAB N 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB N 0 BRIGHT A_JumpIf(user_theta==360,"Shock2FG")
       Loop
   Shock2FG:
       DIAB N 5 BRIGHT
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2G:
       DIAB O 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB O 0 BRIGHT A_JumpIf(user_theta==360,"Shock2GH")
       Loop
   Shock2GH:
       DIAB O 5 BRIGHT
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2H:
       DIAB P 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB P 0 BRIGHT A_JumpIf(user_theta==360,"Shock2HI")
       Loop
   Shock2HI:
       DIAB P 5 BRIGHT
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2I:
       DIAB N 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB N 0 BRIGHT A_JumpIf(user_theta==360,"Shock2IJ")
       Loop
   Shock2IJ:
       DIAB N 5 BRIGHT
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2J:
       DIAB O 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB O 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB O 0 BRIGHT A_JumpIf(user_theta==360,"Shock2JK")
       Loop
   Shock2JK:
       DIAB O 5 BRIGHT
       DIAB P 0 BRIGHT A_FaceTarget
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2K:
       DIAB P 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB P 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB P 0 BRIGHT A_JumpIf(user_theta==360,"Shock2KL")
       Loop
   Shock2KL:
       DIAB P 5 BRIGHT
       DIAB N 0 BRIGHT A_FaceTarget
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",0)
   Shock2L:
       DIAB N 0 BRIGHT A_CustomMissile("DFlare",32,0,user_theta+(random(-4,4)))
       DIAB N 0 BRIGHT A_SetUserVar("user_theta",user_theta+9)
       DIAB N 0 BRIGHT A_JumpIf(user_theta==360,"EndShock2")
       Loop
   EndShock2:
       DIAB N 5 BRIGHT
       DIAB O 0 BRIGHT A_FaceTarget
       DIAB P 5 BRIGHT
       DIAB P 0 BRIGHT A_Jump (64,"AttackCheck3")
       DIAB P 0 BRIGHT A_Jump (128,"AttackCheck4")
       goto See

   AttackCheck3:
       DIAB G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
       DIAB G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
   Attack3:
       DIAB G 5 BRIGHT A_FaceTarget
       DIAB H 5 BRIGHT A_FaceTarget
       DIAB I 5 BRIGHT A_FaceTarget
       DIAB J 5 BRIGHT A_FaceTarget
       DIAB K 5 BRIGHT A_FaceTarget
       DIAB L 5 BRIGHT A_FaceTarget
       DIAB M 5 BRIGHT A_FaceTarget
       DIAB N 5 BRIGHT A_FaceTarget
       DIAB O 1 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 4 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB P 5 BRIGHT
       DIAB P 0 BRIGHT A_Jump (128,"AttackCheck4")
       Goto See
 
   StartShockCheck3:
       DIAB G 0 A_Jump(192, "Attack3")
   StartShock3:
       DIAB G 5 BRIGHT A_FaceTarget
       DIAB H 5 BRIGHT A_FaceTarget
       DIAB I 5 BRIGHT A_FaceTarget
       DIAB J 5 BRIGHT A_FaceTarget
       DIAB K 5 BRIGHT A_FaceTarget
       DIAB L 5 BRIGHT A_FaceTarget
       DIAB M 5 BRIGHT A_FaceTarget
       DIAB N 5 BRIGHT A_FaceTarget
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 1 BRIGHT A_Playsound ("weapons/firbfi")
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 0 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB O 4 BRIGHT A_CustomMissile ("DMissile",32,0,0)
       DIAB P 5 BRIGHT
       DIAB P 0 BRIGHT A_Jump (128,"AttackCheck4")
       Goto See

   AttackCheck4:
       DIAB G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock4")
       DIAB G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck4")
   Attack4:
       DIAB [ 8 BRIGHT A_FaceTarget
       DIAB \ 8 BRIGHT A_FaceTarget
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,0)
       DIAB ] 8 BRIGHT A_CustomMissile ("DTracer",0,40,0)
       Goto See 

   StartShockCheck4:
       DIAB G 0 A_Jump(192, "Attack4")
   StartShock4:
       DIAB [ 8 BRIGHT A_FaceTarget
       DIAB \ 8 BRIGHT A_FaceTarget
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,180)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,144)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,108)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,72)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,36)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,0)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,-36)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,-72)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,-108)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,-40,-144)

       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,180)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,144)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,108)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,72)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,36)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,0)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,-36)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,-72)
       DIAB ] 0 BRIGHT A_CustomMissile ("DTracer",0,40,-108)
       DIAB ] 8 BRIGHT A_CustomMissile ("DTracer",0,40,-144)
       Goto See 

   GravityAttackCheck:
       DIAB G 0 BRIGHT A_Jump(96, "Attack5HPMana")
       DIAB G 0 BRIGHT A_Jump(256, "Attack5HP", "Attack5Mana")

   Attack5HP:
       DIAB G 0 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_VileTarget("DiabloistGravityHPTargeter")
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 0 BRIGHT A_JumpIfTargetinLOS(2)
       DIAB I 0 BRIGHT A_Jump(256, 3)
       DIAB I 0 BRIGHT A_PlaySound("monster/diagra")
       DIAB I 0 BRIGHT ACS_ExecuteAlways(853,0,0,0,0)
       DIAB I 3 BRIGHT A_FaceTarget
       Goto See
   Attack5Mana:
       DIAB G 0 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_VileTarget("DiabloistGravityManaTargeter")
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 0 BRIGHT A_JumpIfTargetinLOS(2)
       DIAB I 0 BRIGHT A_Jump(256, 3)
       DIAB I 0 BRIGHT A_PlaySound("monster/diagra")
       DIAB I 0 BRIGHT ACS_ExecuteAlways(854,0,0,0,0)
       DIAB I 3 BRIGHT A_FaceTarget
       Goto See
   Attack5HPMana:
       DIAB G 0 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 0 BRIGHT A_VileTarget("DiabloistGravityHPTargeter")
       DIAB I 3 BRIGHT A_VileTarget("DiabloistGravityManaTargeter")
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 3 BRIGHT A_FaceTarget
       DIAB G 3 Bright A_FaceTarget
       DIAB H 3 BRIGHT A_FaceTarget
       DIAB I 0 BRIGHT A_JumpIfTargetinLOS(2)
       DIAB I 0 BRIGHT A_Jump(256, 3)
       DIAB I 0 BRIGHT A_PlaySound("monster/diagra")
       DIAB I 0 BRIGHT ACS_ExecuteAlways(859,0,0,0,0)
       DIAB I 3 BRIGHT A_FaceTarget
       Goto See

  ApplyDesperate:
    DIAB A 0 A_GiveInventory("15PercentDMGReduction",1)
    DIAB A 0 A_GiveInventory("15PercentDMGBonus",1)
    DIAB A 0 A_GiveInventory("16PercentSpeedBonus",1)
    goto See+2
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+2
  Spawn:
    DIAB A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    DIAB AB 10 A_Look 
    loop
  See:
    DIAB A 0 A_JumpIfHealthLower(user_HPBuffRange, "ApplyDesperate")
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    DIAB A 0 ACS_Execute(861,0,0,0)
    DIAB AABBCCDDEEFF 2 A_Chase("","Missile", CHF_FASTCHASE | CHF_RESURRECT) // A_VileChase 
    Loop 

  Heal:
    DIAB "[\]" 10 BRIGHT
    Goto See
  Pain: 
    DIAB Q 5 
    DIAB Q 5 A_Pain 
    DIAB G 0 A_Jump(112, "GravityAttackCheck")
    DIAB G 0 A_Jump(120, "AttackCheck1")
    Goto See 
  Pain.DoomSpell: 
    TNT1 A 0 A_Jump(224, "GravityAttackCheck")
    TNT1 A 0 A_Jump(240, "AttackCheck1")
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,5,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 ACS_ExecuteAlways(840,0,0,0,0)
    TNT1 A 0
    goto Death+1
   Death: 
    TNT1 A 0 A_Jump(1, "DeathCheck")
    DIAB Q 7 
    DIAB R 7 A_Scream 
    DIAB S 7 A_NoBlocking 
    DIAB TUVW 7 
    DIAB XY 5 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    DIAB Z -1 
    Stop    
   Raise:
    DIAB YX 5 ACS_ExecuteAlways(872,0,0,0,0)
    DIAB WVUT 7 ACS_ExecuteAlways(872,0,0,0,0)
    DIAB SRQ 7 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 } 
}

actor StealthDiabloist : Diabloist 26545
{
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana2 24 125
 dropitem DoomSpellMana2 24 125
 dropitem DoomSpellMana3 12 350
 dropitem InvulnerabilitySphere 2
 dropitem InvulnerabilitySphere 2
 dropitem SoulSphere 2
 dropitem SoulSphere 2
 dropitem BlurSphere 2
 dropitem BlurSphere 2
 dropitem MegaSphere 2
 dropitem MegaSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor
 dropitem DiabloistHandCI 5

  obituary "%o thought %g saw a Diabloist."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

Actor DFire
{
   Obituary "%o got was set ablaze by a Diabloist."
   Radius 0
   Height 1
   Speed 0
   RENDERSTYLE ADD
   DamageType fire
   ALPHA 1.00
   +NOGRAVITY
   +SEEKERMISSILE
   +NOTARGET
   +NODAMAGETHRUST
   States
   {
   Spawn:
      HLFR A 2 Bright A_StartFire
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR A 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR C 2 Bright A_FireCrackle
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR C 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR C 2 Bright A_Fire 
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR D 2 Bright A_Fire 
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR C 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR C 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(5,32,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR E 2 Bright A_FireCrackle
      TNT1 A 0 Bright A_Explode(4,32,0)
      HLFR F 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(3,32,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(3,32,0)
      HLFR F 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(3,32,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(2,32,0)
      HLFR F 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(2,32,0)
      HLFR G 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(2,32,0)
      HLFR H 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(1,32,0)
      HLFR G 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(1,32,0)
      HLFR H 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(1,32,0)
      HLFR G 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(1,32,0)
      HLFR H 2 Bright A_Fire
      stop
   }
}

Actor DSuperFire
{
   Obituary "%o got was set ablaze by a Diabloist."
   Radius 0
   Height 1
   Speed 0
   scale 1.6
   translation "224:231=80:95", "208:223=80:95", "176:191=96:111"
   RENDERSTYLE ADD
   DamageType fire
   ALPHA 1.00
   +NOGRAVITY
   +SEEKERMISSILE
   +NOTARGET
   +NODAMAGETHRUST
   States
   {
   Spawn:
      HLFR A 2 Bright A_StartFire
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR A 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR C 2 Bright A_FireCrackle
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR C 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR B 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR C 2 Bright A_Fire 
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR D 2 Bright A_Fire 
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR C 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR C 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(40,256,0)
      HLFR D 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR E 2 Bright A_FireCrackle
      TNT1 A 0 Bright A_Explode(32,256,0)
      HLFR F 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(24,256,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(24,256,0)
      HLFR F 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(24,256,0)
      HLFR E 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(16,256,0)
      HLFR F 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(16,256,0)
      HLFR G 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(16,256,0)
      HLFR H 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(8,256,0)
      HLFR G 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(8,256,0)
      HLFR H 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(8,256,0)
      HLFR G 2 Bright A_Fire
      TNT1 A 0 Bright A_Explode(8,256,0)
      HLFR H 2 Bright A_Fire
      stop
   }
}

actor DFlare
{
   Radius 5
   Height 5
   Speed 25
   Damage 4
   SpawnID 252
   RENDERSTYLE ADD
   DamageType fire
   ALPHA 0.85
   PROJECTILE
   // +THRUGHOST
   Obituary "%o got was set ablaze by a Diabloist."
   Seesound "weapons/firmfi"
   DeathSound "weapons/firex4"
   States
   {
   Spawn:
      VBAL AB 3 Bright A_CustomMissile("MFlareFX",0,0,0,0)
      loop
   Death:
      CBAL CDEFG 3 Bright
      stop
   }
}

actor DMissile : CFlameMissile
{
  // +THRUGHOST
}

actor DTracer
{
   Radius 5
   Height 5
   Speed 15
   ReactionTime 175
   Damage 10
   // ExplosionDamage 64
   // ExplosionRadius 64
   DamageType fire
   RenderStyle ADD
   Alpha 0.67
   PROJECTILE
   +SEEKERMISSILE
   +FLOORHUGGER
   // +THRUGHOST
   -NOGRAVITY
   Obituary "%o got was set ablaze by a Diabloist."
   Seesound "weapons/diasht"
   DeathSound "weapons/firex3"   
   States
   {
   Spawn:
      TNT1 A 1 Bright A_SeekerMissile (10,15)
      TNT1 A 0 Bright A_Countdown
      TNT1 A 0 Bright A_CustomMissile("DTracerPuff",0,0,0,0)
      loop
   Death:
      FTRA K 4 Bright
      FTRA L 4 Bright A_Explode(64,64,0)
      FTRA MNO 3 Bright
      stop
   }
}

actor MFlareFX
{   
   Radius 0
   Height 1
   Speed 0
   PROJECTILE
   RENDERSTYLE ADD
   ALPHA 0.67
   States
   {
   Spawn:
      FDFX ABCDEF 4 Bright
      Stop 
   }
}

actor DTracerPuff
{
   Radius 1
   Height 1
   Speed 0
   RENDERSTYLE ADD
   DamageType fire
   ALPHA 0.67
   PROJECTILE
   +FLOORHUGGER
   -NOGRAVITY
   States
   {
   Spawn:
      FTRA ABCDEFGHIJ 3 Bright A_Explode(4,8,0)
      stop
   }
}

actor DMissileTrail : CFlameFloor
{
// +THRUGHOST
}

actor DMissileCircle : CircleFlame
{
// +THRUGHOST
}

actor DiabloistHPGlitter : TeleGlitterGenerator1
{
    States
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("TeleGlitter1", random[TeleGlitter](0,31)-16, random[TeleGlitter](0,31)-16, 0, 0,0,0.25)
	Stop
    }
}

actor DiabloistManaGlitter : TeleGlitterGenerator2
{
    States
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("TeleGlitter2", random[TeleGlitter](0,31)-16, random[TeleGlitter](0,31)-16, 0, 0,0,0.25)
	Stop
    }
}

actor DiabloistGravityHPTargeter
{
    PROJECTILE
    +SEEKERMISSILE
    States
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistHPGlitter",24,0,0,0,0,0,0,32,0)
	Stop
    }
}

actor DiabloistGravityManaTargeter
{
    PROJECTILE
    +SEEKERMISSILE
    States
    {
    Spawn:
	TNT1 A 0
	// TNT1 A 0 A_PlaySound("monster/hellion/morphglitter")
	TNT1 A 0 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	TNT1 AA 1 A_Fire(24)
	TNT1 A 0 A_SpawnItemEx("DiabloistManaGlitter",24,0,0,0,0,0,0,32,0)
	Stop
    }
}

// The Original Baron's Ball, except kept at the upper half of it's damage range
actor BaronOfHellBall : BaronBall
{
 decal "BaronScorch"
 Speed 15
 Damage (random(5,8)*8) // [40-64] 8
}
actor BaronOfHellBall2 : BaronBall
{
 decal "BaronScorch"
 Speed 15
 Damage (random(8,11)*8) // [64-88] 8
}
actor BaronOfHellBall3 : BaronBall
{
 decal "BaronScorch"
 Speed 15
 Damage (random(11,14)*8) // [88-112] 8
}

actor DSBaronofHell : BaronofHell 26546
{
 bloodcolor "green"
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 24 50
 dropitem DoomSpellMana2 20 125
 dropitem DoomSpellMana3 16 350
 dropitem Berserk 2
 dropitem Berserk 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor
 dropitem BaronFistCI 5

 DamageFactor "Crush", 8.8
 DamageFactor "Wind", 0.02
 DamageFactor "Poison", 1.5
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 150 // Demons = +300% Pain Chance

 Painchance 50
 Painchance "Poison", 75
 Painchance "Wind", 1
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BOSS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOSS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOSS AABBCCDD 3 A_Chase
    loop

  MissileBaron1:
    BOSS EF 8 A_FaceTarget
    BOSS G 8 A_BasicAttack(10*random(1,8), "imp/melee", "BaronOfHellBall", 32)
    goto See
  MissileBaron2:
    BOSS EF 8 A_FaceTarget
    BOSS G 8 A_BasicAttack(12.5*random(1,8), "imp/melee", "BaronOfHellBall2", 32)
    goto See
  MissileBaron3:
    BOSS EF 8 A_FaceTarget
    BOSS G 8 A_BasicAttack(15*random(1,8), "imp/melee", "BaronOfHellBall3", 32)  // See HellKnightBall3
    goto See
  Missile:
    BOSS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BOSS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BOSS E 0 A_Jump(177, "MissileBaron1") // Throw a normal Baron Ball
    BOSS E 0 A_Jump(177, "MissileBaron2") // Throw a stronger Baron Ball
    goto MissileBaron3 // Throw the strongest Baron Ball

  ShockBaron1:
    BOSS E 0 A_CustomMissile("BaronOfHellBall",32,0,user_theta)
    BOSS E 0 A_SetUserVar("user_theta",user_theta+6)
    BOSS E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockBaron2:
    BOSS E 0 A_CustomMissile("BaronOfHellBall2",32,0,user_theta)
    BOSS E 0 A_SetUserVar("user_theta",user_theta+6)
    BOSS E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockBaron3:
    BOSS E 0 A_CustomMissile("BaronOfHellBall3",32,0,user_theta)
    BOSS E 0 A_SetUserVar("user_theta",user_theta+6)
    BOSS E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  StartShockCheck:
    BOSS E 0 A_Jump(192, "Missile2")
  StartShock:
    BOSS EF 8 A_FaceTarget
    BOSS E 0 A_SetUserVar("user_theta",0)
  Shock:
    BOSS E 0 A_Jump(177, "ShockBaron1") // Throw a ring of normal Baron Balls
    BOSS E 0 A_Jump(177, "ShockBaron2") // Throw a ring of stronger Baron Balls
    goto ShockBaron3 // Throw a ring of strongest Baron Balls
  EndShock:
    BOSS G 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BOSS I 8
    BOSS J 8 A_Scream
    BOSS K 8
    BOSS L 8 A_NoBlocking
    BOSS MN 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BOSS O -1 A_BossDeath
    stop
  Raise:
    BOSS ONMLKJI 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

actor DSStealthBaron : StealthBaron 26547
{
 bloodcolor "green"
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 48 50
 dropitem DoomSpellMana2 40 125
 dropitem DoomSpellMana3 32 350
 dropitem Berserk 2
 dropitem Berserk 2
 dropitem BlurSphere 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor
 dropitem BaronFistCI 5

 DamageFactor "Crush", 8.8
 DamageFactor "Wind", 0.02
 DamageFactor "Poison", 1.5
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 150 // Demons = +300% Pain Chance

 Painchance 50
 Painchance "Poison", 75
 Painchance "Wind", 1
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BOSS A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOSS AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOSS AABBCCDD 3 A_Chase
    loop

  MissileBaron1:
    BOSS EF 8 A_FaceTarget
    BOSS G 8 A_BasicAttack(10*random(1,8), "imp/melee", "BaronOfHellBall", 32)
    goto See
  MissileBaron2:
    BOSS EF 8 A_FaceTarget
    BOSS G 8 A_BasicAttack(12.5*random(1,8), "imp/melee", "BaronOfHellBall2", 32)
    goto See
  MissileBaron3:
    BOSS EF 8 A_FaceTarget
    BOSS G 8 A_BasicAttack(15*random(1,8), "imp/melee", "BaronOfHellBall3", 32)  // See HellKnightBall3
    goto See
  Missile:
    BOSS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
    BOSS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
  Missile2:
    BOSS E 0 A_Jump(177, "MissileBaron1") // Throw a normal Baron Ball
    BOSS E 0 A_Jump(177, "MissileBaron2") // Throw a stronger Baron Ball
    goto MissileBaron3 // Throw the strongest Baron Ball

  ShockBaron1:
    BOSS E 0 A_CustomMissile("BaronOfHellBall",32,0,user_theta)
    BOSS E 0 A_SetUserVar("user_theta",user_theta+6)
    BOSS E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockBaron2:
    BOSS E 0 A_CustomMissile("BaronOfHellBall2",32,0,user_theta)
    BOSS E 0 A_SetUserVar("user_theta",user_theta+6)
    BOSS E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  ShockBaron3:
    BOSS E 0 A_CustomMissile("BaronOfHellBall3",32,0,user_theta)
    BOSS E 0 A_SetUserVar("user_theta",user_theta+6)
    BOSS E 0 A_JumpIf(user_theta==360,"EndShock")
    Loop
  StartShockCheck:
    BOSS E 0 A_Jump(192, "Missile2")
  StartShock:
    BOSS EF 8 A_FaceTarget
    BOSS E 0 A_SetUserVar("user_theta",0)
  Shock:
    BOSS E 0 A_Jump(177, "ShockBaron1") // Throw a ring of normal Baron Balls
    BOSS E 0 A_Jump(177, "ShockBaron2") // Throw a ring of stronger Baron Balls
    goto ShockBaron3 // Throw a ring of strongest Baron Balls
  EndShock:
    BOSS G 8
    Goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,4,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BOSS I 8
    BOSS J 8 A_Scream
    BOSS K 8
    BOSS L 8 A_NoBlocking
    BOSS MN 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BOSS O -1 A_BossDeath
    stop
  Raise:
    BOSS ONMLKJI 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
 }
}

// The Belphegor's Ball is intended to be usually 25-50% stronger than a Baron's
actor BelphegorBall : BaronBall
{
 decal "BaronScorch"
 Speed 20 
 Damage (random(11,14)*8) // [88-112] 8
}
actor BelphegorBall2 : BaronBall
{
 decal "BaronScorch"
 Speed 20 
 Damage (random(14,17)*8) // [112-136] 8
}
actor BelphegorBall3 : BaronBall
{
 decal "BaronScorch"
 Speed 20 
 Damage (random(17,20)*8) // [136-160] 8
}

actor Belphegor : HellKnight 5008
{
  bloodcolor "green"
  var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem BelphegorFistCI 5

  SpawnID 195
  Health 1500
  PainChance 25
  SeeSound "baron/sight"
  PainSound "baron/pain"
  DeathSound "baron/death"
  ActiveSound "baron/active"
  Obituary "%o was slain by a Belphegor."
  HitObituary "%o was slain by a Belphegor."

 DamageFactor "Crush", 8.8
 DamageFactor "Wind", 0.02
 DamageFactor "Poison", 1.5
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 75 // Demons = +300% Pain Chance

 Painchance 25
 Painchance "Poison", 38
 Painchance "Wind", 1
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BOS3 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOS3 AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOS3 AABBCCDD 3 A_Chase
    loop

  MissileBelphegor1:
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1a")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1a")
  MissileBelphegor1a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(12.5*random(1,8), "imp/melee", "BelphegorBall", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2a")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2a")
  MissileBelphegor1b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(12.5*random(1,8), "imp/melee", "BelphegorBall", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3a")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3a")
  MissileBelphegor1c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(12.5*random(1,8), "imp/melee", "BelphegorBall", 32)
    goto See

  MissileBelphegor2:
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1b")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1b")
  MissileBelphegor2a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(15*random(1,8), "imp/melee", "BelphegorBall2", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2b")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2b")
  MissileBelphegor2b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(15*random(1,8), "imp/melee", "BelphegorBall2", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3b")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3b")
  MissileBelphegor2c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(15*random(1,8), "imp/melee", "BelphegorBall2", 32)
    goto See

  MissileBelphegor3:
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1c")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1c")
  MissileBelphegor3a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(17.5*random(1,8), "imp/melee", "BelphegorBall3", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2c")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2c")
  MissileBelphegor3b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(17.5*random(1,8), "imp/melee", "BelphegorBall3", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3c")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3c")
  MissileBelphegor3c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(17.5*random(1,8), "imp/melee", "BelphegorBall3", 32)
    goto See

  StartShockCheck1a:
    BOS3 E 0 A_Jump(192, "MissileBelphegor1a")
  StartShock1a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock1a:
    BOS3 G 0 A_CustomMissile("BelphegorBall",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock1a")
    Loop
  EndShock1a:
    BOS3 G 6
    Goto MissileBelphegor1a+3

  StartShockCheck2a:
    BOS3 E 0 A_Jump(192, "MissileBelphegor1b")
  StartShock2a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock2a:
    BOS3 G 0 A_CustomMissile("BelphegorBall",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock2a")
    Loop
  EndShock2a:
    BOS3 G 6
    Goto MissileBelphegor1b+3

  StartShockCheck3a:
    BOS3 E 0 A_Jump(192, "MissileBelphegor1c")
  StartShock3a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock3a:
    BOS3 G 0 A_CustomMissile("BelphegorBall",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock3a")
    Loop
  EndShock3a:
    BOS3 G 6
    goto See


  StartShockCheck1b:
    BOS3 E 0 A_Jump(192, "MissileBelphegor2a")
  StartShock1b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock1b:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock1b")
    Loop
  EndShock1b:
    BOS3 G 6
    Goto MissileBelphegor2a+3

  StartShockCheck2b:
    BOS3 E 0 A_Jump(192, "MissileBelphegor2b")
  StartShock2b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock2b:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock2b")
    Loop
  EndShock2b:
    BOS3 G 6
    Goto MissileBelphegor2b+3

  StartShockCheck3b:
    BOS3 E 0 A_Jump(192, "MissileBelphegor2c")
  StartShock3b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock3b:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock3b")
    Loop
  EndShock3b:
    BOS3 G 6
    goto See


  StartShockCheck1c:
    BOS3 E 0 A_Jump(192, "MissileBelphegor3a")
  StartShock1c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock1c:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock1c")
    Loop
  EndShock1c:
    BOS3 G 6
    Goto MissileBelphegor3a+3

  StartShockCheck2c:
    BOS3 E 0 A_Jump(192, "MissileBelphegor3b")
  StartShock2c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock2c:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock2c")
    Loop
  EndShock2c:
    BOS3 G 6
    Goto MissileBelphegor3b+3

  StartShockCheck3c:
    BOS3 E 0 A_Jump(192, "MissileBelphegor3c")
  StartShock3c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock3c:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock3c")
    Loop
  EndShock3c:
    BOS3 G 6
    goto See

  Melee:
  Missile:
    BOS3 E 0 A_Jump(177, "MissileBelphegor1") // Throw a normal Baron Ball
    BOS3 E 0 A_Jump(177, "MissileBelphegor2") // Throw a stronger Baron Ball
    goto MissileBelphegor3 // Throw the strongest Baron Ball

  Pain:
    BOS3 H 2
    BOS3 H 2 A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BOS3 I 8
    BOS3 J 8 A_Scream
    BOS3 K 8
    BOS3 L 8 A_NoBlocking
    BOS3 MN 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BOS3 O -1 A_BossDeath
    Stop
  Raise:
    BOS3 ONMLKJI 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthBelphegor : Belphegor 26548
{
  bloodcolor "green"
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem BlurSphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem BelphegorFistCI 5

  SpawnID 160
  obituary "%o thought %g saw a Belphegor."
  renderstyle Translucent
  alpha 0
  +STEALTH

 DamageFactor "Crush", 8.8
 DamageFactor "Wind", 0.02
 DamageFactor "Poison", 1.5
 DamageFactor "Holy", 2 // Demons = +200% Holy Damage
 Painchance "Holy", 75 // Demons = +300% Pain Chance

 Painchance 25
 Painchance "Poison", 38
 Painchance "Wind", 1
 Painchance "GravityHP", 255
 Painchance "GravityMP", 255
 Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    BOS3 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOS3 AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOS3 AABBCCDD 3 A_Chase
    loop

  MissileBelphegor1:
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1a")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1a")
  MissileBelphegor1a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(12.5*random(1,8), "imp/melee", "BelphegorBall", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2a")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2a")
  MissileBelphegor1b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(12.5*random(1,8), "imp/melee", "BelphegorBall", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3a")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3a")
  MissileBelphegor1c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(12.5*random(1,8), "imp/melee", "BelphegorBall", 32)
    goto See

  MissileBelphegor2:
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1b")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1b")
  MissileBelphegor2a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(15*random(1,8), "imp/melee", "BelphegorBall2", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2b")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2b")
  MissileBelphegor2b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(15*random(1,8), "imp/melee", "BelphegorBall2", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3b")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3b")
  MissileBelphegor2c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(15*random(1,8), "imp/melee", "BelphegorBall2", 32)
    goto See

  MissileBelphegor3:
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1c")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1c")
  MissileBelphegor3a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(17.5*random(1,8), "imp/melee", "BelphegorBall3", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2c")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2c")
  MissileBelphegor3b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(17.5*random(1,8), "imp/melee", "BelphegorBall3", 32)
    BOS3 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3c")
    BOS3 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3c")
  MissileBelphegor3c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 6 A_BasicAttack(17.5*random(1,8), "imp/melee", "BelphegorBall3", 32)
    goto See

  StartShockCheck1a:
    BOS3 E 0 A_Jump(192, "MissileBelphegor1a")
  StartShock1a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock1a:
    BOS3 G 0 A_CustomMissile("BelphegorBall",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock1a")
    Loop
  EndShock1a:
    BOS3 G 6
    Goto MissileBelphegor1a+3

  StartShockCheck2a:
    BOS3 E 0 A_Jump(192, "MissileBelphegor1b")
  StartShock2a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock2a:
    BOS3 G 0 A_CustomMissile("BelphegorBall",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock2a")
    Loop
  EndShock2a:
    BOS3 G 6
    Goto MissileBelphegor1b+3

  StartShockCheck3a:
    BOS3 E 0 A_Jump(192, "MissileBelphegor1c")
  StartShock3a:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock3a:
    BOS3 G 0 A_CustomMissile("BelphegorBall",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock3a")
    Loop
  EndShock3a:
    BOS3 G 6
    goto See


  StartShockCheck1b:
    BOS3 E 0 A_Jump(192, "MissileBelphegor2a")
  StartShock1b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock1b:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock1b")
    Loop
  EndShock1b:
    BOS3 G 6
    Goto MissileBelphegor2a+3

  StartShockCheck2b:
    BOS3 E 0 A_Jump(192, "MissileBelphegor2b")
  StartShock2b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock2b:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock2b")
    Loop
  EndShock2b:
    BOS3 G 6
    Goto MissileBelphegor2b+3

  StartShockCheck3b:
    BOS3 E 0 A_Jump(192, "MissileBelphegor2c")
  StartShock3b:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock3b:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock3b")
    Loop
  EndShock3b:
    BOS3 G 6
    goto See


  StartShockCheck1c:
    BOS3 E 0 A_Jump(192, "MissileBelphegor3a")
  StartShock1c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock1c:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock1c")
    Loop
  EndShock1c:
    BOS3 G 6
    Goto MissileBelphegor3a+3

  StartShockCheck2c:
    BOS3 E 0 A_Jump(192, "MissileBelphegor3b")
  StartShock2c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock2c:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock2c")
    Loop
  EndShock2c:
    BOS3 G 6
    Goto MissileBelphegor3b+3

  StartShockCheck3c:
    BOS3 E 0 A_Jump(192, "MissileBelphegor3c")
  StartShock3c:
    BOS3 EF 6 A_FaceTarget
    BOS3 G 0 A_SetUserVar("user_theta",0)
  Shock3c:
    BOS3 G 0 A_CustomMissile("BelphegorBall2",32,0,user_theta)
    BOS3 G 0 A_SetUserVar("user_theta",user_theta+2)
    BOS3 G 0 A_JumpIf(user_theta==360,"EndShock3c")
    Loop
  EndShock3c:
    BOS3 G 6
    goto See

  Melee:
  Missile:
    BOS3 E 0 A_Jump(177, "MissileBelphegor1") // Throw a normal Baron Ball
    BOS3 E 0 A_Jump(177, "MissileBelphegor2") // Throw a stronger Baron Ball
    goto MissileBelphegor3 // Throw the strongest Baron Ball

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BOS3 I 8
    BOS3 J 8 A_Scream
    BOS3 K 8
    BOS3 L 8 A_NoBlocking
    BOS3 MN 8
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BOS3 O -1 A_BossDeath
    Stop
  Raise:
    BOS3 ONMLKJI 8 ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor BruiserDemon : BaronOfHell 3333
{
  var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  PainChance "Ice", 60
  DamageFactor "Ice", 3.33
  DamageFactor "Fire", 0.2
  DamageFactor "Normal", 0.75
  RadiusDamageFactor 0.0625
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem BruiserFistCI 5

  // $Category Monsters
  Health 2000
  Radius 24
  Height 64
  Mass 1750
  Speed 8
  Monster
  +FLOORCLIP
  +MISSILEEVENMORE
  +DONTHURTSPECIES
  +AVOIDMELEE
  MissileType BruiserBall
  SeeSound "superbaron/scream"
  PainSound "superbaron/pain"
  DeathSound "superbaron/death"
  ActiveSound "superbaron/act"
  MeleeSound "baron/melee"
  Obituary "%o was slaughtered by a Bruiser demon."
  HitObituary "%o was cremated by a Bruiser demon."
  MeleeDamage 20
  Scale 1.125

  DamageFactor "Crush", 8.0
  DamageFactor "Wind", 0.5
  DamageFactor "Poison", 1.5
  DamageFactor "Ice", 2.5
  DamageFactor "Fire", 0.5
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 45 // Demons = +300% Pain Chance

  Painchance 15
  Painchance "Poison", 23
  Painchance "Wind", 8
  PainChance "Ice", 42
  PainChance "Fire", 12
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
    Missile:
	BRUS E 0 Bright A_Jump(144, "AttackCheck3")
      BRUS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
      BRUS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
    Attack1:
	BRUS EF 6 Bright A_FaceTarget
	BRUS G 6 Bright A_MissileAttack
	BRUS G 0 Bright A_Jump(96, "AttackCheck2")
	Goto See

    StartShockCheck1:
      BRUS E 0 A_Jump(192, "Attack1")
    StartShock1:
      BRUS EF 6 A_FaceTarget
      BRUS G 0 A_SetUserVar("user_theta",0)
    Shock1:
      BRUS G 0 A_CustomMissile("BruiserBall",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+4)
      BRUS G 0 A_JumpIf(user_theta==360,"EndShock1")
      Loop
    EndShock1:
      BRUS G 6
	BRUS G 0 Bright A_Jump(96, "AttackCheck2")
	Goto See


    AttackCheck2:
      BRUS H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
      BRUS H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
    Attack2:
	BRUS HI 6 Bright A_FaceTarget
	BRUS J 6 Bright A_MissileAttack
	Goto See

    StartShockCheck2:
      BRUS H 0 A_Jump(192, "Attack2")
    StartShock2:
      BRUS HI 6 A_FaceTarget
      BRUS J 0 A_SetUserVar("user_theta",0)
    Shock2:
      BRUS J 0 A_CustomMissile("BruiserBall",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+4)
      BRUS J 0 A_JumpIf(user_theta==360,"EndShock2")
      Loop
    EndShock2:
      BRUS J 6
      Goto See

    AttackCheck3:
      BRUS E 0 Bright A_Jump(96, "AttackCheck5")
      BRUS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
      BRUS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
    Attack3:
	BRUS E 6 Bright A_FaceTarget
	BRUS F 4 Bright A_FaceTarget
	BRUS F 2 Bright A_Custommissile("BruiserBall2",56,0,-40,0)
	BRUS G 1 Bright A_Custommissile("BruiserBall2",56,0,-30,0)
	BRUS G 1 Bright A_Custommissile("BruiserBall2",56,0,-20,0)
	BRUS G 1 Bright A_Custommissile("BruiserBall2",56,0,-10,0)
	BRUS G 1 Bright A_Custommissile("BruiserBall2",56,0,0,0)
	BRUS G 1 Bright A_Custommissile("BruiserBall2",56,0,10,0)
	BRUS G 1 Bright A_Custommissile("BruiserBall2",56,0,20,0)
	BRUS G 0 Bright A_Jump(96, "AttackCheck4")
	Goto See

    StartShockCheck3:
      BRUS H 0 A_Jump(192, "Attack3")
    StartShock3:
	BRUS E 6 Bright A_FaceTarget
	BRUS F 4 Bright A_FaceTarget
      BRUS F 2 Bright A_SetUserVar("user_theta",0)
    Shock3:
      BRUS F 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS F 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS F 0 A_JumpIf(user_theta==360,"Shock3AB")
      Loop
    Shock3AB:
      BRUS G 1 Bright A_SetUserVar("user_theta",0)
    Shock3B:
      BRUS G 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS G 0 A_JumpIf(user_theta==360,"Shock3BC")
      Loop
    Shock3BC:
      BRUS G 1 Bright A_SetUserVar("user_theta",0)
    Shock3C:
      BRUS G 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS G 0 A_JumpIf(user_theta==360,"Shock3CD")
      Loop
    Shock3CD:
      BRUS G 1 Bright A_SetUserVar("user_theta",0)
    Shock3D:
      BRUS G 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS G 0 A_JumpIf(user_theta==360,"Shock3DE")
      Loop
    Shock3DE:
      BRUS G 1 Bright A_SetUserVar("user_theta",0)
    Shock3E:
      BRUS G 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS G 0 A_JumpIf(user_theta==360,"Shock3EF")
      Loop
    Shock3EF:
      BRUS G 1 Bright A_SetUserVar("user_theta",0)
    Shock3F:
      BRUS G 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS G 0 A_JumpIf(user_theta==360,"Shock3FG")
      Loop
    Shock3FG:
      BRUS G 1 Bright A_SetUserVar("user_theta",0)
    Shock3G:
      BRUS G 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS G 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS G 0 A_JumpIf(user_theta==360,"EndShock3")
      Loop
    EndShock3:
	BRUS G 0 A_Jump(96, "AttackCheck4")
      Goto See

    AttackCheck4:
      BRUS E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock4")
      BRUS E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck4")
    Attack4:
	BRUS H 6 Bright A_FaceTarget
	BRUS I 4 Bright A_FaceTarget
	BRUS I 2 Bright A_Custommissile("BruiserBall2",56,0,40,0)
	BRUS J 1 Bright A_Custommissile("BruiserBall2",56,0,30,0)
	BRUS J 1 Bright A_Custommissile("BruiserBall2",56,0,20,0)
	BRUS J 1 Bright A_Custommissile("BruiserBall2",56,0,10,0)
	BRUS J 1 Bright A_Custommissile("BruiserBall2",56,0,0,0)
	BRUS J 1 Bright A_Custommissile("BruiserBall2",56,0,-10,0)
	BRUS J 1 Bright A_Custommissile("BruiserBall2",56,0,-20,0)
	Goto See

    StartShockCheck4:
      BRUS H 0 A_Jump(192, "Attack3")
    StartShock4:
	BRUS H 6 Bright A_FaceTarget
	BRUS I 4 Bright A_FaceTarget
      BRUS I 2 Bright A_SetUserVar("user_theta",0)
    Shock4:
      BRUS I 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS I 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS I 0 A_JumpIf(user_theta==360,"Shock4AB")
      Loop
    Shock4AB:
      BRUS J 1 Bright A_SetUserVar("user_theta",0)
    Shock4B:
      BRUS J 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS J 0 A_JumpIf(user_theta==360,"Shock4BC")
      Loop
    Shock4BC:
      BRUS J 1 Bright A_SetUserVar("user_theta",0)
    Shock4C:
      BRUS J 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS J 0 A_JumpIf(user_theta==360,"Shock4CD")
      Loop
    Shock4CD:
      BRUS J 1 Bright A_SetUserVar("user_theta",0)
    Shock4D:
      BRUS J 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS J 0 A_JumpIf(user_theta==360,"Shock4DE")
      Loop
    Shock4DE:
      BRUS J 1 Bright A_SetUserVar("user_theta",0)
    Shock4E:
      BRUS J 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS J 0 A_JumpIf(user_theta==360,"Shock4EF")
      Loop
    Shock4EF:
      BRUS J 1 Bright A_SetUserVar("user_theta",0)
    Shock4F:
      BRUS J 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS J 0 A_JumpIf(user_theta==360,"Shock4FG")
      Loop
    Shock4FG:
      BRUS J 1 Bright A_SetUserVar("user_theta",0)
    Shock4G:
      BRUS J 0 A_CustomMissile("BruiserBall2",32,0,user_theta)
      BRUS J 0 A_SetUserVar("user_theta",user_theta+8)
      BRUS J 0 A_JumpIf(user_theta==360,"EndShock4")
      Loop
    EndShock4:
	BRUS J 0
      Goto See

    AttackCheck5:
      BRUS K 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock5")
      BRUS K 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck5")
    Attack5:
	BRUS KL 6 Bright A_FaceTarget
	BRUS M 2 Bright A_Custommissile("BruiserFireSpawner",16,0,-15,0)
	BRUS M 2 Bright A_Custommissile("BruiserFireSpawner",16,0,0,0)
	BRUS M 2 Bright A_Custommissile("BruiserFireSpawner",16,0,15,0)
	Goto See

    StartShockCheck5:
      BRUS K 0 A_Jump(192, "Attack5")
    StartShock5:
      BRUS KL 6 Bright A_FaceTarget
      BRUS M 2 Bright A_SetUserVar("user_theta",0)
    Shock5:
      BRUS M 0 A_CustomMissile("BruiserFireSpawner",32,0,user_theta)
      BRUS M 0 A_SetUserVar("user_theta",user_theta+12)
      BRUS M 0 A_JumpIf(user_theta==360,"Shock5AB")
      Loop
    Shock5AB:
      BRUS M 2 Bright A_SetUserVar("user_theta",4)
    Shock5B:
      BRUS M 0 A_CustomMissile("BruiserFireSpawner",32,0,user_theta)
      BRUS M 0 A_SetUserVar("user_theta",user_theta+12)
      BRUS M 0 A_JumpIf(user_theta==364,"Shock5BC")
      Loop
    Shock5BC:
      BRUS M 2 Bright A_SetUserVar("user_theta",8)
    Shock5C:
      BRUS M 0 A_CustomMissile("BruiserFireSpawner",32,0,user_theta)
      BRUS M 0 A_SetUserVar("user_theta",user_theta+12)
      BRUS M 0 A_JumpIf(user_theta==368,"EndShock5")
      Loop
    EndShock5:
      BRUS M 0
      Goto See

  ApplyDesperate:
    BRUS B 0 A_GiveInventory("20PercentDMGReduction",1)
    BRUS B 0 A_GiveInventory("20PercentDMGBonus",1)
    BRUS B 0 A_GiveInventory("RingShadow",1)
    goto See+2
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+2
  Spawn:
    BRUS A 0 BRIGHT A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BRUS AB 10 BRIGHT A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BRUS A 0 A_JumpIfHealthLower(user_HPBuffRange, "ApplyDesperate")
    BRUS AABBCCDD 3 A_Chase
    loop

    Melee:
	BRUS E 6 Bright A_FaceTarget
	BRUS F 6 Bright A_FaceTarget
	BRUS G 6 Bright A_ComboAttack
	Goto See
    Pain:
	BRUS N 5 Bright A_Pain
 	Goto See
    Pain.Ice:
	BRUS N 5 Bright A_Pain
	BRUS N 20 Bright
	BRUS N 0 Bright A_Jump (128, 4)
	BRUS N 5 Bright
	BRUS N 0 Bright A_Jump (128, 2)
	BRUS N 5 Bright
	BRUS N 0 Bright
 	Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,7,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,7,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
   	  
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    BRUD A 6 Bright A_Scream
    BRUD BCD 4 Bright 
    BRUD EFG 4 Bright
    BRUD H 4 Bright A_Fall
    BRUD IJKLMNOP 4 Bright
    BRUD QRSTUV 4
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    BRUD W -1   
    Stop
  Raise:
    BRUD VUTSRQ 4 ACS_ExecuteAlways(872,0,0,0,0)
    BRUD PONMLKJI 4 Bright ACS_ExecuteAlways(872,0,0,0,0)
    BRUD H 4 Bright ACS_ExecuteAlways(872,0,0,0,0)
    BRUD GFE 4 Bright ACS_ExecuteAlways(872,0,0,0,0)
    BRUD DCB 4 Bright ACS_ExecuteAlways(872,0,0,0,0)
    BRUD A 6 Bright ACS_ExecuteAlways(872,0,0,0,0)
    Goto See
  }
}

actor StealthBruiserDemon : BruiserDemon 26549
{
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem Blursphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem BruiserFistCI 5

  DamageFactor "Crush", 8.0
  DamageFactor "Wind", 0.5
  DamageFactor "Poison", 1.5
  DamageFactor "Ice", 2.5
  DamageFactor "Fire", 0.5
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 45 // Demons = +300% Pain Chance

  Painchance 15
  Painchance "Poison", 23
  Painchance "Wind", 8
  PainChance "Ice", 42
  PainChance "Fire", 12
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  obituary "%o thought %g saw a Bruiser Demon."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

actor BruiserBall
{
	Radius 16
	Height 16
	Speed 18
	Damage 16
	Projectile
	+RANDOMIZE
	RenderStyle "ADD"
	Alpha 0.9
	SeeSound "imp/attack"
	DeathSound "imp/shotx"
	Decal Scorch
	States
	{
	Spawn: 
		BRBA AABB 2 BRIGHT A_SpawnItemEx("BruiserBallTrail", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
	Death:
		BRBA KLMNOPQRSTUVWX 3 Bright
		Stop
	}
}

actor BruiserBall2
{
	Radius 8
	Height 8
	Speed 10
	Damage 8
	Projectile
	+RANDOMIZE
	RenderStyle "ADD"
	Alpha 0.9
	SeeSound "imp/attack"
	DeathSound "imp/shotx"
	Decal BaronScorch
	States
	{
	Spawn: 
		BRB2 AB 6 BRIGHT 
		Loop
	Death:
		BRB2 CDEFGHI 3 Bright
		Stop
	}
}

actor BruiserFireSpawner
{
	Radius 8
	Height 8
	Speed 12
	Damage 0
	+RIPPER
	+FLOORHUGGER
	+BLOODLESSIMPACT
	Projectile
	MissileType BruiserFire
	Missileheight 0
	States
	{
	Spawn: 
		TNT1 A 3 Bright A_CustomMissile("BruiserFire",0,0,0,4) // A_MissileAttack
  		TNT1 A 3
  		TNT1 A 3
		Loop
	Death:	
		TNT1 A 6
		Stop
	}
}

actor BruiserBallTrail
{
    Radius 1
    Height 1
    Speed 0
    PROJECTILE
    RENDERSTYLE ADD
    ALPHA 0.70
    +NOCLIP
    States
    {
    Spawn:
     	BRBA CDEFGHIJ 4 Bright
     	Stop       
    }
}

actor BruiserFire
{
	Radius 1
	Height 1
	Speed 0
	Damage 20
	PROJECTILE
	RENDERSTYLE ADD
	ALPHA 0.9
      +NOCLIP
	+FLOORHUGGER
	SeeSound "weapons/rocklx"
    States
    {
     Spawn:
      XXBF AB 3 Bright
      XXBF C 3 Bright A_Explode(48,128,0)
      XXBF DEFGHIJKLMNOPQRST 3 Bright
      Stop       
    }
}

// The Archon of Hell's ball is intended to be around 50-100% stronger than a Baron's
actor ArchonOfHellBall : BaronBall
{
 decal "BaronScorch"
 Speed 22.5 
 Damage (random(21,24)*8) // [168-192] 8
}
actor ArchonOfHellBall2 : BaronBall
{
 decal "BaronScorch"
 Speed 22.5 
 Damage (random(25,28)*8) // [200-224] 8
}
actor ArchonOfHellBall3 : BaronBall
{
 decal "BaronScorch"
 Speed 22.5 
 Damage (random(29,32)*8) // [232-256] 8
}

actor ArchonOfHell : BaronOfHell 30104
{ 
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem ArchonFistCI 5

  Health 2000 
  Radius 24 
  Height 64 
  Mass 1750 
  Speed 8 
  MONSTER
  MeleeDamage 10
  Obituary "%o was no match for an archon of hell."
  HitObituary "%o was ripped apart by an archon of hell."
  BloodColor "20 60 20"
  +FLOORCLIP 
  +MISSILEMORE
  +DONTHURTSPECIES
  +AVOIDMELEE
  SeeSound "monster/ar2sit" 
  PainSound "baron/pain" 
  DeathSound "monster/ar2dth"
  MeleeSound "baron/melee"
  Scale 1.125

  DamageFactor "Crush", 8.0
  DamageFactor "Normal", 0.5
  DamageFactor "Wind", 0.5
  DamageFactor "Poison", 1.5
  DamageFactor "Ice", 3.33
  DamageFactor "Fire", 0.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  RadiusDamageFactor 0.125

  Painchance 20
  Painchance "Poison", 30
  Painchance "Wind", 8
  PainChance "Ice", 80
  PainChance "Fire", 8
  Painchance "Holy", 45 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States 
  { 
   Missile:
    BOS4 E 0 A_Jump(177, "MissileArchon1") // Throw a normal Archon Ball
    BOS4 E 0 A_Jump(177, "MissileArchon2") // Throw a stronger Archon Ball
    goto MissileArchon3 // Throw the strongest Archon Ball

   MissileArchon1:
     BOS4 E 0 A_Jump(128, "AttackCheck3A")
     BOS4 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1A")
     BOS4 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1A")

    Attack1A:
      BOS4 EF 8 Bright A_FaceTarget 
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,0,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,-4,0)
      BOS4 G 3 Bright A_CustomMissile ("ArchonOfHellBall",28,0,4,0)
      BOS4 H 3 Bright
      BOS4 H 0 Bright A_Jump(64, "AttackCheck3A")
      Goto AttackCheck2A

    StartShockCheck1A:
      BOS4 E 0 A_Jump(192, "Attack1A")
    StartShock1A:
      BOS4 EF 8 bright A_FaceTarget
      BOS4 G 0 bright A_SetUserVar("user_theta",0)
    Shock1A:
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,0+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,-4+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,4+user_theta,0)
      BOS4 G 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 G 0 Bright A_JumpIf(user_theta==360,"EndShock1A")
      Loop
    EndShock1A:
      BOS4 G 3 Bright
      BOS4 H 3 Bright
      BOS4 H 0 Bright A_Jump(64, "AttackCheck3A")
      Goto AttackCheck2A

    // Left Throw
    AttackCheck2A:
      BOS4 H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2A")
      BOS4 H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2A")
    Attack2A:
      BOS4 IJ 8 Bright A_FaceTarget 
      BOS4 K 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,0,0)
      BOS4 K 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,-4,0)
      BOS4 K 3 Bright A_CustomMissile ("ArchonOfHellBall",28,0,4,0)
      BOS4 L 3 Bright
      BOS4 L 0 Bright A_Jump(64, "AttackCheck3A")
      Goto See

    StartShockCheck2A:
      BOS4 I 0 A_Jump(192, "Attack2A")
    StartShock2A:
      BOS4 IJ 8 bright A_FaceTarget
      BOS4 K 0 bright A_SetUserVar("user_theta",0)
    Shock2A:
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,0+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,-4+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall",28,0,4+user_theta,0)
      BOS4 G 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 K 0 Bright A_JumpIf(user_theta==360,"EndShock2A")
      Loop
    EndShock2A:
      BOS4 K 3 Bright
      BOS4 L 3 Bright
      BOS4 L 0 Bright A_Jump(64, "AttackCheck3A")
      Goto See

    // Comet Attack
    AttackCheck3A:
      BOS4 MN 8 Bright A_FaceTarget
      BOS4 O 0 Bright A_Jump(128, "AttackCheck4A")
      BOS4 O 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3A")
      BOS4 O 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3A")
    Attack3A:
      BOS4 O 4 Bright A_CustomMissile ("ArchonComet",28,0,0,0)
      BOS4 P 4 Bright
      Goto See

    StartShockCheck3A:
      BOS4 O 0 A_Jump(192, "Attack3A")
    StartShock3A:
      BOS4 O 0 bright A_FaceTarget
      BOS4 O 0 bright A_SetUserVar("user_theta",0)
    Shock3A:
      BOS4 O 0 Bright A_CustomMissile("ArchonComet",32,0,user_theta)
      BOS4 O 0 Bright A_SetUserVar("user_theta",user_theta+8)
      BOS4 O 0 Bright A_JumpIf(user_theta==360,"EndShock3A")
      Loop
    EndShock3A:
      BOS4 O 4 Bright
      BOS4 P 4 Bright
      Goto See

    // Middle Attack
    AttackCheck4A:
      BOS4 O 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock4A")
      BOS4 O 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck4A")
    Attack4A:
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,-6,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,-4,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,-2,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,0,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,2,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,4,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,6,0)
      BOS4 O 3 Bright
      BOS4 P 3 Bright
      Goto See

    StartShockCheck4A:
      BOS4 O 0 A_Jump(192, "Attack4A")
    StartShock4A:
      BOS4 O 0 bright A_FaceTarget
      BOS4 O 0 bright A_SetUserVar("user_theta",0)
    Shock4A:
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,-6+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,-4+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,-2+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,0+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,2+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,4+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,6+user_theta,0)
      BOS4 O 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 O 0 Bright A_JumpIf(user_theta==360,"EndShock4A")
      Loop
    EndShock4A:
      BOS4 O 3 Bright
      BOS4 P 3 Bright
      Goto See


   MissileArchon2:
     BOS4 E 0 A_Jump(128, "AttackCheck3B")
     BOS4 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1B")
     BOS4 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1B")

    Attack1B:
      BOS4 EF 8 Bright A_FaceTarget 
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,0,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,-4,0)
      BOS4 G 3 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,4,0)
      BOS4 H 3 Bright
      BOS4 H 0 Bright A_Jump(64, "AttackCheck3B")
      Goto AttackCheck2B

    StartShockCheck1B:
      BOS4 E 0 A_Jump(192, "Attack1B")
    StartShock1B:
      BOS4 EF 8 bright A_FaceTarget
      BOS4 G 0 bright A_SetUserVar("user_theta",0)
    Shock1B:
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,0+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,-4+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,4+user_theta,0)
      BOS4 G 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 G 0 Bright A_JumpIf(user_theta==360,"EndShock1B")
      Loop
    EndShock1B:
      BOS4 G 3 Bright
      BOS4 H 3 Bright
      BOS4 H 0 Bright A_Jump(64, "AttackCheck3B")
      Goto AttackCheck2B

    // Left Throw
    AttackCheck2B:
      BOS4 H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2B")
      BOS4 H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2B")
    Attack2B:
      BOS4 IJ 8 Bright A_FaceTarget 
      BOS4 K 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,0,0)
      BOS4 K 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,-4,0)
      BOS4 K 3 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,4,0)
      BOS4 L 3 Bright
      BOS4 L 0 Bright A_Jump(64, "AttackCheck3B")
      Goto See

    StartShockCheck2B:
      BOS4 I 0 A_Jump(192, "Attack2B")
    StartShock2B:
      BOS4 IJ 8 bright A_FaceTarget
      BOS4 K 0 bright A_SetUserVar("user_theta",0)
    Shock2B:
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,0+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,-4+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall2",28,0,4+user_theta,0)
      BOS4 G 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 K 0 Bright A_JumpIf(user_theta==360,"EndShock2B")
      Loop
    EndShock2B:
      BOS4 K 3 Bright
      BOS4 L 3 Bright
      BOS4 L 0 Bright A_Jump(64, "AttackCheck3B")
      Goto See

    // Comet Attack
    AttackCheck3B:
      BOS4 MN 8 Bright A_FaceTarget
      BOS4 O 0 Bright A_Jump(128, "AttackCheck4B")
      BOS4 O 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3B")
      BOS4 O 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3B")
    Attack3B:
      BOS4 O 4 Bright A_CustomMissile ("ArchonComet",28,0,0,0)
      BOS4 P 4 Bright
      Goto See

    StartShockCheck3B:
      BOS4 O 0 A_Jump(192, "Attack3B")
    StartShock3B:
      BOS4 O 0 bright A_FaceTarget
      BOS4 O 0 bright A_SetUserVar("user_theta",0)
    Shock3B:
      BOS4 O 0 Bright A_CustomMissile("ArchonComet",32,0,user_theta)
      BOS4 O 0 Bright A_SetUserVar("user_theta",user_theta+8)
      BOS4 O 0 Bright A_JumpIf(user_theta==360,"EndShock3B")
      Loop
    EndShock3B:
      BOS4 O 4 Bright
      BOS4 P 4 Bright
      Goto See

    // Middle Attack
    AttackCheck4B:
      BOS4 O 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock4B")
      BOS4 O 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck4B")
    Attack4B:
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,-6,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,-4,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,-2,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,0,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall",28,0,2,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,4,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,6,0)
      BOS4 O 3 Bright
      BOS4 P 3 Bright
      Goto See

    StartShockCheck4B:
      BOS4 O 0 A_Jump(192, "Attack4B")
    StartShock4B:
      BOS4 O 0 bright A_FaceTarget
      BOS4 O 0 bright A_SetUserVar("user_theta",0)
    Shock4B:
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,-6+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,-4+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,-2+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,0+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,2+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,4+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall2",28,0,6+user_theta,0)
      BOS4 O 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 O 0 Bright A_JumpIf(user_theta==360,"EndShock4B")
      Loop
    EndShock4B:
      BOS4 O 3 Bright
      BOS4 P 3 Bright
      Goto See


   MissileArchon3:
     BOS4 E 0 A_Jump(128, "AttackCheck3C")
     BOS4 E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1C")
     BOS4 E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1C")

    Attack1C:
      BOS4 EF 8 Bright A_FaceTarget 
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,0,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,-4,0)
      BOS4 G 3 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,4,0)
      BOS4 H 3 Bright
      BOS4 H 0 Bright A_Jump(64, "AttackCheck3C")
      Goto AttackCheck2C

    StartShockCheck1C:
      BOS4 E 0 A_Jump(192, "Attack1C")
    StartShock1C:
      BOS4 EF 8 bright A_FaceTarget
      BOS4 G 0 bright A_SetUserVar("user_theta",0)
    Shock1C:
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,0+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,-4+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,4+user_theta,0)
      BOS4 G 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 G 0 Bright A_JumpIf(user_theta==360,"EndShock1C")
      Loop
    EndShock1C:
      BOS4 G 3 Bright
      BOS4 H 3 Bright
      BOS4 H 0 Bright A_Jump(64, "AttackCheck3C")
      Goto AttackCheck2B

    // Left Throw
    AttackCheck2C:
      BOS4 H 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2C")

      BOS4 H 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2C")
    Attack2C:
      BOS4 IJ 8 Bright A_FaceTarget 
      BOS4 K 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,0,0)
      BOS4 K 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,-4,0)
      BOS4 K 3 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,4,0)
      BOS4 L 3 Bright
      BOS4 L 0 Bright A_Jump(64, "AttackCheck3C")
      Goto See

    StartShockCheck2C:
      BOS4 I 0 A_Jump(192, "Attack2C")
    StartShock2C:
      BOS4 IJ 8 bright A_FaceTarget
      BOS4 K 0 bright A_SetUserVar("user_theta",0)
    Shock2C:
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,0+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,-4+user_theta,0)
      BOS4 G 0 Bright A_CustomMissile ("ArchonOfHellBall3",28,0,4+user_theta,0)
      BOS4 G 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 K 0 Bright A_JumpIf(user_theta==360,"EndShock2C")
      Loop
    EndShock2C:
      BOS4 K 3 Bright
      BOS4 L 3 Bright
      BOS4 L 0 Bright A_Jump(64, "AttackCheck3C")
      Goto See

    // Comet Attack
    AttackCheck3C:
      BOS4 MN 8 Bright A_FaceTarget
      BOS4 O 0 Bright A_Jump(128, "AttackCheck4C")
      BOS4 O 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3C")
      BOS4 O 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3C")
    Attack3C:
      BOS4 O 4 Bright A_CustomMissile ("ArchonComet",28,0,0,0)
      BOS4 P 4 Bright
      Goto See

    StartShockCheck3C:
      BOS4 O 0 A_Jump(192, "Attack3C")
    StartShock3C:
      BOS4 O 0 bright A_FaceTarget
      BOS4 O 0 bright A_SetUserVar("user_theta",0)
    Shock3C:
      BOS4 O 0 Bright A_CustomMissile("ArchonComet",32,0,user_theta)
      BOS4 O 0 Bright A_SetUserVar("user_theta",user_theta+8)
      BOS4 O 0 Bright A_JumpIf(user_theta==360,"EndShock3C")
      Loop
    EndShock3C:
      BOS4 O 4 Bright
      BOS4 P 4 Bright
      Goto See

    // Middle Attack
    AttackCheck4C:
      BOS4 O 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock4C")
      BOS4 O 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck4C")
    Attack4C:
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,-6,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,-4,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,-2,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,0,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,2,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,4,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,6,0)
      BOS4 O 3 Bright
      BOS4 P 3 Bright
      Goto See

    StartShockCheck4C:
      BOS4 O 0 A_Jump(192, "Attack4C")
    StartShock4C:
      BOS4 O 0 bright A_FaceTarget
      BOS4 O 0 bright A_SetUserVar("user_theta",0)
    Shock4C:
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,-6+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,-4+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,-2+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,0+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,2+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,4+user_theta,0)
      BOS4 O 0 A_CustomMissile ("ArchonOfHellBall3",28,0,6+user_theta,0)
      BOS4 O 0 Bright A_SetUserVar("user_theta",user_theta+6)
      BOS4 O 0 Bright A_JumpIf(user_theta==360,"EndShock4C")
      Loop
    EndShock4C:
      BOS4 O 3 Bright
      BOS4 P 3 Bright
      Goto See

  ApplyDesperate:
    BOS4 B 0 A_GiveInventory("20PercentDMGReduction",1)
    BOS4 B 0 A_GiveInventory("20PercentDMGBonus",1)
    BOS4 B 0 A_GiveInventory("RingShadow",1)
    goto See+2
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+2
  Spawn:
    BOS4 A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    BOS4 AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    BOS4 A 0 A_JumpIfHealthLower(user_HPBuffRange, "ApplyDesperate")
    BOS4 AABBCCDD 3 A_Chase
    loop

   Melee:
     BOS4 EF 8 Bright A_FaceTarget 
     BOS4 G 3 Bright A_MeleeAttack
     BOS4 H 3 Bright
     BOS4 H 0 A_Jump (128,1)
     Goto See
     BOS4 IJ 8 Bright A_FaceTarget 
     BOS4 K 3 Bright A_MeleeAttack
     BOS4 L 3 Bright
     BOS4 L 0 A_Jump (64,1)
     Goto See
     BOS4 MN 8 Bright A_FaceTarget
     BOS4 O 0 Bright A_MeleeAttack
     BOS4 O 3 Bright A_MeleeAttack
     BOS4 P 3 Bright
     Goto See
   Pain: 
     BOS4 Q 2 
     BOS4 Q 2 A_Pain 
     Goto See 
   Pain.Ice:
     BOS4 Q 2 
     BOS4 Q 2 A_Pain 
     BOS4 Q 12 
     BOS4 Q 0 Bright A_Jump (128, 4)
     BOS4 Q 6 Bright
     BOS4 Q 0 Bright A_Jump (128, 2)
     BOS4 Q 6 Bright
     BOS4 Q 0 Bright
     Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
    Pain.Sceptre:
      TNT1 A 0 ACS_ExecuteAlways(862,0,7,0,0) // Increase EXP for Sceptre [1+(HP/300)]
      Goto Pain
    Death.Sceptre:
      TNT1 A 0 ACS_ExecuteAlways(862,0,7,0,0) // Increase EXP for Sceptre [1+(HP/300)]
      Goto Death
   Pain.Gauntlets:
     TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
     Goto Pain
   Death.Gauntlets:
     TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
     Goto Death
   DeathCheck:
     TNT1 A 0 A_Jump(255, 3)
     TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
   	 
     TNT1 A 0 
     goto Death+1
   Death:
     TNT1 A 0 A_Jump(1, "DeathCheck")
     BOS4 R 6 Bright 
     BOS4 S 6 Bright A_Scream 
     BOS4 T 6 Bright 
     BOS4 U 6 Bright A_NoBlocking 
     BOS4 VW 6 Bright 
     BOS4 X 6 Bright A_CustomMissile("ArchonSoul",86,0,0,2,90)
     BOS4 YZ 6 Bright 
     BOS4 [ 6 Bright A_Fall 
     TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
     Stop
  } 
}

actor StealthArchonOfHell : ArchonOfHell 26550
{
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem Blursphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem ArchonFistCI 5

  obituary "%o thought %g saw an Archon of Hell."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 8.0
  DamageFactor "Normal", 0.5
  DamageFactor "Wind", 0.5
  DamageFactor "Poison", 1.5
  DamageFactor "Ice", 3.33
  DamageFactor "Fire", 0.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  RadiusDamageFactor 0.125

  Painchance 20
  Painchance "Poison", 30
  Painchance "Wind", 8
  PainChance "Ice", 80
  PainChance "Fire", 8
  Painchance "Holy", 45 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

}

actor ArchonComet
{
   Radius 8
   Height 12
   Speed 25
   Damage 20
   Scale 1.0
   SpawnID 251
   PROJECTILE
   RENDERSTYLE Normal
   // +THRUGHOST
   SeeSound "weapons/firbfi"
   DeathSound "weapons/hellex"
   DONTHURTSHOOTER
   +FIREDAMAGE
   States
   {
   Spawn: 
      ARCB AAAABBBBCCCC 1 Bright A_SpawnItem("ArchonCometTrail",0,0)
      loop
   Death:
      ARCB J 0 Bright A_SetTranslucent (0.67,1)
      ARCB J 3 Bright
      ARCB K 3 Bright A_Explode(128,128,0)
      ARCB LMN 3 Bright
      stop
   }
}

actor ArchonSoul
{   
   Radius 1
   Height 1
   Speed 3
   PROJECTILE
   RENDERSTYLE ADD
   ALPHA 0.80
   States
   {
   Spawn:
      BFX1 ABCD 6 BRIGHT
      Stop 
   }
}

actor ArchonCometTrail
{   
   Radius 3
   Height 3
   Scale 0.75
   Speed 0
   PROJECTILE
   RENDERSTYLE ADD
   ALPHA 0.67
   States
   {
   Spawn:
      TNT1 A 3 Bright
      ARCB DEFGHI 3 BRIGHT
      Stop 
   }
}

actor PyroDemon : BaronofHell 30105
{ 
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 72 50
  dropitem DoomSpellMana1 72 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 60 125
  dropitem DoomSpellMana2 60 125
  dropitem DoomSpellMana3 24 350
  dropitem DoomSpellMana3 48 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkinGA 2
  dropitem StoneSkinGA 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem PyroFistCI 5

  DamageFactor "Crush", 6.8
  DamageFactor "Normal", 0.33
  DamageFactor "Wind", 0.5
  DamageFactor "Poison", 1.5
  DamageFactor "Ice", 8.88
  DamageFactor "Fire", 0.1
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  RadiusDamageFactor 0.125

  Painchance 20
  Painchance "Wind", 8
  Painchance "Poison", 30
  PainChance "Ice", 160
  PainChance "Fire", 2
  Painchance "Holy", 60 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  Scale 1.1875
  Health 3000
  Radius 24 
  Height 64 
  Mass 2250 
  Speed 8 
  MONSTER
  MeleeDamage 10
  OBITUARY "%o was burnt to a crisp by a pyro demon"
  HITOBITUARY "%o was melted my a pyro demon"
  Bloodcolor "75 25 00"
  +NOTARGET
  +FLOORCLIP
  +MISSILEMORE
  +DONTHURTSPECIES
  +AVOIDMELEE
  SEESOUND "pyro/see" 
  PAINSOUND "pyro/pain" 
  DEATHSOUND "pyro/death"
  ACTIVESOUND "pyro/idle"
  states 
  { 
   Melee:
   Missile:
     PYRO E 0 A_Jump(32,"Attack4Check")
     PYRO E 0 A_Jump(32,"Attack3Check")
     PYRO E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
     PYRO E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
   Attack1:
     PYRO E 8 BRIGHT A_FaceTarget
	 PYRO F 8 BRIGHT A_FaceTarget
     PYRO G 0 BRIGHT A_CustomMissile ("FireShot",28,0,0,0)
     PYRO G 0 BRIGHT A_CustomMissile ("FireShot",28,0,-4,0)
     PYRO G 3 BRIGHT A_CustomMissile ("FireShot",28,0,4,0)
     PYRO H 3 BRIGHT
     PYRO H 0 A_Jump(32,"Attack2Check")
     PYRO I 8 BRIGHT A_FaceTarget
	 PYRO J 8 BRIGHT A_FaceTarget
     PYRO K 0 BRIGHT A_CustomMissile ("FireShot",28,0,0,0)
     PYRO K 0 BRIGHT A_CustomMissile ("FireShot",28,0,-4,0)
     PYRO K 3 BRIGHT A_CustomMissile ("FireShot",28,0,4,0)
     PYRO L 3 BRIGHT
     PYRO L 0 A_Jump(32,"Attack2Check")
     Goto See

   StartShockCheck1:
     PYRO E 0 A_Jump(192, "Attack1")
   StartShock1:
     PYRO E 8 bright A_FaceTarget
     PYRO F 8 bright A_FaceTarget
     PYRO G 0 bright A_SetUserVar("user_theta",0)
   Shock1:
     PYRO G 0 Bright A_CustomMissile("FireShot",32,0,user_theta)
     PYRO G 0 Bright A_SetUserVar("user_theta",user_theta+3)
     PYRO G 0 Bright A_JumpIf(user_theta==360,"Shock1AB")
     Loop
   Shock1AB:
     PYRO G 3 Bright
     PYRO H 3 Bright
     PYRO H 0 Bright A_Jump(32, "Attack2Check")
     PYRO I 8 BRIGHT A_FaceTarget
     PYRO J 8 BRIGHT A_FaceTarget
     PYRO J 0 bright A_SetUserVar("user_theta",0)
   Shock1B:
     PYRO G 0 Bright A_CustomMissile("FireShot",32,0,user_theta)
     PYRO G 0 Bright A_SetUserVar("user_theta",user_theta+3)
     PYRO G 0 Bright A_JumpIf(user_theta==360,"EndShock1")
     Loop
   EndShock1:
     PYRO K 3 BRIGHT
     PYRO L 3 BRIGHT
     PYRO L 0 Bright A_Jump(32,"Attack2Check")
	 Goto See

   Attack2Check:
     PYRO E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
     PYRO E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
   Attack2:
     PYRO M 8 BRIGHT A_FaceTarget
     PYRO N 8 BRIGHT A_FaceTarget
     PYRO O 4 BRIGHT A_CustomMissile ("PyroBlast",28,0,0,0)
     PYRO P 4 BRIGHT
     Goto See

   StartShockCheck2:
     PYRO E 0 A_Jump(192, "Attack2")
   StartShock2:
     PYRO M 8 bright A_FaceTarget
	 PYRO N 8 bright A_FaceTarget
     PYRO O 0 bright A_SetUserVar("user_theta",0)
   Shock2:
     PYRO O 0 Bright A_CustomMissile("Pyroblast",32,0,user_theta)
     PYRO O 0 Bright A_SetUserVar("user_theta",user_theta+12)
     PYRO O 0 Bright A_JumpIf(user_theta==360,"EndShock2")
     Loop
   EndShock2:
     PYRO O 4 BRIGHT
     PYRO P 4 BRIGHT
	 Goto See

   Attack3Check:
     PYRO E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
     PYRO E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
   Attack3:
     PYRO M 8 BRIGHT A_FaceTarget
     PYRO N 8 BRIGHT A_FaceTarget
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,0,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,90,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,180,0)
     PYRO O 4 BRIGHT A_CustomMissile ("RainCometNull",28,0,270,0)
     PYRO P 4 BRIGHT
     Goto See

   StartShockCheck3:
     PYRO E 0 A_Jump(192, "Attack3")
   StartShock3:
     PYRO M 8 BRIGHT A_FaceTarget
     PYRO N 8 BRIGHT A_FaceTarget
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,0,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,22.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,45,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,67.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,90,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,112.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,135,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,157.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,180,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,202.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,225,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,247.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,270,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,297.5,0)
     PYRO O 0 BRIGHT A_CustomMissile ("RainCometNull",28,0,315,0)
     PYRO O 4 BRIGHT A_CustomMissile ("RainCometNull",28,0,337.5,0)
     PYRO P 4 BRIGHT
     Goto See


   Attack4Check:
     PYRO E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock4")
     PYRO E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck4")
   Attack4:
	 PYRO O 1 A_FaceTarget
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_Mushroom ("Pyroball",16,MSF_DontHurt)
     PYRO O 3 
     PYRO P 3 BRIGHT
     PYRO A 0 A_UnSetShootable
     PYRO A 1 A_PlaySound("pyro/tele")
     PYRO A 1 A_SetTranslucent(0.90)
     PYRO A 1 A_SetTranslucent(0.80)
     PYRO A 1 A_SetTranslucent(0.70)
     PYRO A 1 A_SetTranslucent(0.60)
     PYRO A 1 A_SetTranslucent(0.50)
     PYRO A 1 A_SetTranslucent(0.40)
     PYRO A 1 A_SetTranslucent(0.30)
     PYRO A 1 A_SetTranslucent(0.20)
     PYRO A 1 A_SetTranslucent(0.10)
     TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
     TNT1 A 0 A_Jump(128,25)
     TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_ExtChase(0,0,1,1)
     PYRO A 1 A_PlaySound("pyro/tele")
     PYRO A 1 A_SetTranslucent(0.10)
     PYRO A 1 A_SetTranslucent(0.20)
     PYRO A 1 A_SetTranslucent(0.30)
     PYRO A 1 A_SetTranslucent(0.40)
     PYRO A 1 A_SetTranslucent(0.50)
     PYRO A 1 A_SetTranslucent(0.60)
     PYRO A 1 A_SetTranslucent(0.70)
     PYRO A 1 A_SetTranslucent(0.80)
     PYRO A 1 A_SetTranslucent(0.90)
     PYRO A 1 A_SetTranslucent(1.0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_Mushroom ("Pyroball",16,MSF_DontHurt)
     PYRO A 0 A_SetShootable
     Goto See

   StartShockCheck4:
     PYRO E 0 A_Jump(192, "Attack4")
   StartShock4:
	 PYRO O 1 A_FaceTarget
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_Mushroom ("Pyroball",128,MSF_DontHurt)
     PYRO O 3 
     PYRO P 3 BRIGHT
     PYRO A 0 A_UnSetShootable
     PYRO A 1 A_PlaySound("pyro/tele")
     PYRO A 1 A_SetTranslucent(0.90)
     PYRO A 1 A_SetTranslucent(0.80)
     PYRO A 1 A_SetTranslucent(0.70)
     PYRO A 1 A_SetTranslucent(0.60)
     PYRO A 1 A_SetTranslucent(0.50)
     PYRO A 1 A_SetTranslucent(0.40)
     PYRO A 1 A_SetTranslucent(0.30)
     PYRO A 1 A_SetTranslucent(0.20)
     PYRO A 1 A_SetTranslucent(0.10)
     TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
     TNT1 A 0 A_Jump(128,25)
     TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_ExtChase(0,0,1,1)
     PYRO A 1 A_PlaySound("pyro/tele")
     PYRO A 1 A_SetTranslucent(0.10)
     PYRO A 1 A_SetTranslucent(0.20)
     PYRO A 1 A_SetTranslucent(0.30)
     PYRO A 1 A_SetTranslucent(0.40)
     PYRO A 1 A_SetTranslucent(0.50)
     PYRO A 1 A_SetTranslucent(0.60)
     PYRO A 1 A_SetTranslucent(0.70)
     PYRO A 1 A_SetTranslucent(0.80)
     PYRO A 1 A_SetTranslucent(0.90)
     PYRO A 1 A_SetTranslucent(1.0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
     PYRO O 0 A_Mushroom ("Pyroball",128,MSF_DontHurt)
     PYRO A 0 A_SetShootable
     Goto See

  ApplyDesperate:
    PYRO B 0 A_GiveInventory("30PercentDMGReduction",1)
    PYRO B 0 A_GiveInventory("30PercentDMGBonus",1)
    PYRO B 0 A_GiveInventory("RingShadow",1)
    goto See+2
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+2
  Spawn:
    PYRO A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    PYRO AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    PYRO A 0 A_JumpIfHealthLower(user_HPBuffRange, "ApplyDesperate")
    PYRO AA 3 A_Chase
    PYRO A 0 A_SpawnItemEx("WalkFire",0,0,0,1,0,0,0,128)
    PYRO B 3 A_Chase
    PYRO B 3 A_Chase("Melee","Missile", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    PYRO B 0 A_SpawnItemEx("WalkFire",0,0,0,1,0,0,0,128)
    PYRO C 3 A_Chase("Melee","Missile", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
    PYRO C 3 A_Chase
    PYRO C 0 A_SpawnItemEx("WalkFire",0,0,0,1,0,0,0,128)
    PYRO DD 3 A_Chase
    PYRO D 0 A_SpawnItemEx("WalkFire",0,0,0,1,0,0,0,128)
    Loop 

   Pain: 
       PYRO Q 2 
       PYRO Q 2 A_Pain 
       Goto See 
   Pain.Ice:
       PYRO Q 2 
       PYRO Q 2 A_Pain 
       PYRO Q 36 
       PYRO Q 0 Bright A_Jump (128, 8)
       PYRO Q 24 Bright
       PYRO Q 0 Bright A_Jump (128, 6)
       PYRO Q 18 Bright
       PYRO Q 0 Bright A_Jump (128, 4)
       PYRO Q 12 Bright
       PYRO Q 0 Bright A_Jump (128, 2)
       PYRO Q 6 Bright
       PYRO Q 0 Bright
       Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,11,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,11,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
     TNT1 A 0 A_Jump(1, "DeathCheck")
     PYRO R 20 BRIGHT A_Scream
       PYRO S 20 BRIGHT
       PYRO T 20 BRIGHT 
       PYRO U 20 BRIGHT A_NoBlocking 
       PYRO VW 6 BRIGHT 
       PYRO X 6 BRIGHT
       PYRO Y 3 BRIGHT 
       TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
       PYRO Z -1 BRIGHT
       Stop
   Raise:
       PYRO Y 3 BRIGHT ACS_ExecuteAlways(872,0,0,0,0)
       PYRO XWV 6 BRIGHT ACS_ExecuteAlways(872,0,0,0,0)
       PYRO UTSR 20 BRIGHT ACS_ExecuteAlways(872,0,0,0,0)
       Goto See
  } 
}

actor StealthPyroDemon : PyroDemon 26551
{
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem Blursphere 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem PyroFistCI 5

  obituary "%o thought %g saw a Pyro Demon."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 6.8
  DamageFactor "Normal", 0.33
  DamageFactor "Wind", 0.5
  DamageFactor "Poison", 1.5
  DamageFactor "Ice", 8.88
  DamageFactor "Fire", 0.1
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  RadiusDamageFactor 0.125

  Painchance 20
  Painchance "Wind", 8
  Painchance "Poison", 30
  PainChance "Ice", 160
  PainChance "Fire", 2
  Painchance "Holy", 60 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

}

actor FireShot
{
   Radius 3
   Height 3
   Speed 15
   Damage 3
   PROJECTILE
   RENDERSTYLE ADD
   ALPHA 0.67
   +FIREDAMAGE
   SeeSound "pyro/flame"
   DeathSound "pyro/flamepoof"
   Decal RevenantScorch
   States
   {
   Spawn:
      FSHT A 1 Bright A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
      FSHT A 1 Bright A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
      FSHT A 1 Bright A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
      FSHT A 1 Bright A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
      FSHT A 1 Bright A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
      FSHT A 1 Bright A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
      Loop
   Death:
      FSHT A 0 Bright A_Explode(128,128,0)
      FSHT B 0 Bright
      FSHT B 3 Bright
      FSHT C 3 Bright
      FSHT D 3 Bright
      FSHT E 3 Bright
      Stop
   }
}

actor FireTail
{
    PROJECTILE
    RENDERSTYLE ADD
    +NOCLIP
    ALPHA 0.4
    States
    {
    Spawn:
        FRTB ABCDEFGHI 1 Bright
        Stop
    }
}

actor EscapeExplosion 
{
    SeeSound "pyro/explosion"
    Radius 8
    Height 56
    Speed 0
    PROJECTILE
    // ExplosionDamage 50
    // ExplosionRadius 192
    States
    {
    Spawn:
        NKXP B 3 BRIGHT
        NKXP C 3 BRIGHT
        NKXP D 3 BRIGHT A_Explode(50,192,0)
        NKXP EFGHIJKLMNOPQRSTUV 3 BRIGHT
        Stop
    }
}

actor PyroBall
{
   Radius 10
   Height 8
   Speed 15
   Damage 6
   SEESOUND "pyro/bomb"
   DEATHSOUND "pyro/bombhit"
   PROJECTILE  
   RENDERSTYLE Add
   Obituary "%o was killed by a PyroBall."
   Alpha 0.7
   -NoGravity
   +DoomBounce
   +LowGravity
   +FireDamage
   +SeekerMissile
   Decal RevenantScorch
   states
   {
   Spawn:
      RBAL A 0 BRIGHT
      RBAL A 0 BRIGHT A_AlertMonsters
      RBAL AAAABBBB 1 BRIGHT 
      Goto Spawn +2
   Death:
      RBAL DEFGHI 4 BRIGHT 
      Stop
   }
}

actor FirebombExplosion1
{
   Radius 11
   Height 8
   Speed 18
   Damage 6
   +NOBLOCKMAP 
   +DROPOFF 
   +MISSILE 
   +ACTIVATEIMPACT 
   +ACTIVATEPCROSS 
   // ExplosionDamage 128
   // ExplosionRadius 144
   Obituary "%o was killed by a Firebomb explosion."
   States
   {
   Spawn:
      FRME A 1 Bright
      Loop
   Death:
      FRME A 0
      FRME A 0 A_PlaySound("pyro/blastexplosion")
      FRME A 3 Bright A_Explode(128,144,0)
      FRME B 1 Bright A_Mushroom("Pyroball",8,MSF_DontHurt)
      FRME B 2 Bright A_CustomMissile("FirebombExplosion2",25,0,180,4)
      FRME CDEFGHIJKLMNOPQRS 3 Bright
      Stop
   }
}

actor FirebombExplosion2 : FirebombExplosion1
{
   // ExplosionRadius 136
   States
   {
   Death:
      FRME A 0
      FRME A 0 A_PlaySound("pyro/blastexplosion")
      FRME A 3 Bright A_Explode(128,136,0)
      FRME B 1 Bright
      FRME B 2 Bright A_CustomMissile("FirebombExplosion3",20,0,180,4)
      FRME CDEFGHIJKLMNOPQRS 3 Bright
      Stop
   }
}

actor FirebombExplosion3 : FirebombExplosion1
{
   Speed 14
   Damage 5
   // ExplosionRadius 128
   States
   {
   Death:
      FRME A 0
      FRME A 0 A_PlaySound("pyro/blastexplosion")
      FRME A 3 Bright A_Explode(128,128,0)
      FRME BCDEFGHIJKLMNOPQRS 3 Bright
      Stop
   }
}

actor PyroBlast
{
   PROJECTILE
   +SeekerMissile
   +NoGravity
   RENDERSTYLE Add
   Alpha 0.4
   SEESOUND "pyro/blast"
   DEATHSOUND "pyro/flamepoof"
   Speed 17
   Height 10
   Radius 10
   Decal Scorch
   states
   {
   Spawn:
    SBLL ABCDEFGHIJ 1 BRIGHT A_SpawnItemEx("FireTail",0,0,0,0,0,0,0,128)
    SBLL A 0 BRIGHT A_SeekerMissile(0,2)
    Goto Spawn+1
   Death:
    SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,45,4)
    SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,135,4)
    SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,225,4)
    SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,315,4)
    SBLL LMNOPQRSTUVW 1 BRIGHT
    Stop
   }
}

actor WalkFire
{
     +NOCLIP
     +MISSILE
     +DROPOFF
     +RANDOMIZE
     Scale 1.5
     Speed 1
     RENDERSTYLE ADD
     ALPHA 0.67
     States
     {
     Spawn:
        TNT1 A 8
        FRTF A 3 Bright
	    FRTF A 0 
	    FRTF B 3 Bright
	    FRTF B 0 
	    FRTF C 3 Bright
	    FRTF C 0 
        FRTF C 0 
        FRTF C 0 A_Jump(191,4)
        FRTF C 0 A_CustomMissile("WalkFire", 0, 24, 0)
        FRTF C 0 A_CustomMissile("WalkFire", 0, 0, 0)
        FRTF C 0 A_CustomMissile("WalkFire", 0, -24, 0)
        FRTF DEFGHIJKLMNO 3 Bright
        Stop
     }
}


actor RainCometNull
{
  var int user_theta;
  Radius 0
  Height 0
  Speed 8
  PROJECTILE
  +FloorClip
  +Ripper
  +DoomBounce
  +CeilingHugger
  +DontHurtSpecies
  states
  {
  Spawn:
    ZAP5 A 0 A_Jump(5,8)
    ZAP5 AAAAAA 1 A_Wander
    ZAP5 A 8 A_CustomMissile("FallingComet",-24,random(0,128),random(0,360),2,random(1,89))
    ZAP5 A 0 Bright A_SetUserVar("user_theta",user_theta+1)
    ZAP5 A 0 Bright A_JumpIf(user_theta==32,"Death")
    Loop
  Death:
    ZAP5 A 0
    Stop
  }
}



actor FallingComet
{
    Radius 6
    Height 8
    Speed 5
    Damage 5
    ExplosionDamage 40
    ExplosionRadius 80
    Scale .55
    PROJECTILE
    SEESOUND "pyro/comet"
    DEATHSOUND "pyro/cometdeath"
    -NoGravity
    -Float
    +FloorClip
    +DontHurtSpecies 
    +SpawnCeiling
    Decal RevenantScorch
    states
    {
    Spawn:
        COMT AAAABBBBCCCC 1 BRIGHT A_SpawnItemEx("FireTail", 0, 0, 0, 0, 0, 0, 0, 128)
        Loop
    Death:
        COMT D 3 BRIGHT A_SpawnItemEx("CometDeathGlow", 0, 0, 0, 0, 0, 0, 0, 128)
        COMT E 3 BRIGHT A_Explode(20,128,0)
        COMT E 0 A_SpawnItemEx("CometDeath", 0, 0, 0, 0, 0, 0, 0, 128)
        Stop
    }
}

actor CometDeathGlow : FireTail
{
    Scale 2.0
    Alpha 0.6
    States
    {
    Spawn:
        FRTB ABCDEFGHI 3 Bright
        Stop
    }
}

actor CometDeath
{
    PROJECTILE
    RENDERSTYLE ADD
    +NOCLIP
    ALPHA 0.7
    States
    {
    Spawn:
        COMT FGHI 3 Bright
        Stop
    }
}

actor DSSpiderMastermind : SpiderMastermind 26552
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 88 50
 dropitem DoomSpellMana2 66 125
 dropitem DoomSpellMana3 44 350
 dropitem ChainGun 32 10
 dropitem ChainGun 2 30
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

  +AVOIDMELEE

  DamageFactor "Crush", 3.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 120 // Demons = +300% Pain Chance

  Painchance 40
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SPID A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SPID AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SPID A 3 A_Metal
    SPID ABB 3 A_Chase
    SPID C 3 A_Metal
    SPID CDD 3 A_Chase
    SPID E 3 A_Metal
    SPID EFF 3 A_Chase
    loop

  Missile:
    SPID A 20 A_FaceTarget
  Missile2:
    SPID A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    SPID A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Missile3:
    SPID G 4 bright A_SPosAttack
  Missile4:
    SPID G 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    SPID G 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Missile5:
	SPID H 4 bright A_SPosAttack
    SPID H 1 A_SpidRefire
    goto Missile+1
  StartShockCheck1:
    SPID G 0 A_Jump(192, "Missile3")
  StartShock1:
    SPID G 0 A_SetUserVar("user_theta",0)
  Shock1:
    SPID G 0 A_SetAngle(8 + angle)
    SPID G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    SPID G 0 A_PlaySound("shotguy/attack")
    SPID G 0 A_SetUserVar("user_theta",user_theta+1)
    SPID G 0 A_JumpIf(user_theta==45,"EndShock1")
    Loop
  EndShock1:
    SPID G 4 bright A_FaceTarget
    Goto Missile4
  StartShockCheck2:
    SPID H 0 A_Jump(192, "Missile5")
  StartShock2:
    SPID H 0 A_SetUserVar("user_theta",0)
  Shock2:
    SPID H 0 A_SetAngle(8 + angle)
    SPID H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    SPID H 0 A_PlaySound("shotguy/attack")
    SPID H 0 A_SetUserVar("user_theta",user_theta+1)
    SPID H 0 A_JumpIf(user_theta==45,"EndShock2")
    Loop
  EndShock2:
    SPID H 4 bright A_FaceTarget
    SPID H 1 A_SpidRefire
    goto Missile+1

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,11,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,11,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  Raise:
    SPID S 30
    SPID RQPONML 10
    SPID K 10
    SPID J 20
    goto See
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SPID J 20 A_Scream
    SPID K 10 A_NoBlocking
    SPID LMNOPQR 10
    SPID S 30
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SPID S -1 A_BossDeath
    stop
  Raise:
    SPID S 30 ACS_ExecuteAlways(872,0,0,0,0)
    SPID QRPONML 10 ACS_ExecuteAlways(872,0,0,0,0)
    SPID K 10 ACS_ExecuteAlways(872,0,0,0,0)
    SPID J 20 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
  }
}

actor DSStealthSpiderMastermind : DSSpiderMastermind 9062
{
 dropitem DoomSpellMana1 88 50
 dropitem DoomSpellMana2 66 125
 dropitem DoomSpellMana3 44 350
 dropitem ChainGun 32 10
 dropitem ChainGun 2 30
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

  SpawnID 91
  obituary "%o thought %g saw a spider mastermind."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 3.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 120 // Demons = +300% Pain Chance

  Painchance 40
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    SPID A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    SPID AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    SPID A 3 A_Metal

    SPID ABB 3 A_Chase
    SPID C 3 A_Metal
    SPID CDD 3 A_Chase
    SPID E 3 A_Metal
    SPID EFF 3 A_Chase
    loop

  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    SPID J 20 A_Scream
    SPID K 10 A_NoBlocking
    SPID LMNOPQR 10
    SPID S 30
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    SPID S -1 A_BossDeath
    stop
  Raise:
    SPID S 30 ACS_ExecuteAlways(872,0,0,0,0)
    SPID QRPONML 10 ACS_ExecuteAlways(872,0,0,0,0)
    SPID K 10 ACS_ExecuteAlways(872,0,0,0,0)
    SPID J 20 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor Demolisher : SpiderMastermind 30110
{
 dropitem DoomSpellMana1 88 50
 dropitem DoomSpellMana2 66 125
 dropitem DoomSpellMana3 44 350
 dropitem ChainGun 32 10
 dropitem ChainGun 2 30
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 Obituary "%o felt the power of the Spider-Demolisher."
 Health 6000 
 Radius 96 
 Height 100 
 Mass 1000 
 Speed 16 
 MONSTER
 +NOTARGET
 +FLOORCLIP 
 +BOSS 
 +MISSILEEVENMORE
 +NORADIUSDMG 
 +AVOIDMELEE
 SeeSound "monster/demsit" 
 AttackSound "spider/attack" 
 PainSound "spider/pain" 
 DeathSound "monster/demdth" 
 ActiveSound "spider/active" 

  DamageFactor "Crush", 3.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 60 // Demons = +300% Pain Chance

  Painchance 20
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 States 
 { 
  Missile:
    DEMO A 0 BRIGHT A_Jump (48, "Attack2Prepare")
    DEMO A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    DEMO A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    DEMO A 20 BRIGHT A_FaceTarget
    DEMO T 1 BRIGHT A_Playsound ("weapons/bfgf")
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO U 0 BRIGHT A_CustomMissile ("BFGBall",32,0,22.5)
    DEMO U 0 BRIGHT A_CustomMissile ("BFGBall",32,0,-22.5)
    DEMO U 10 BRIGHT A_CustomMissile ("BFGBall",32,0,0)
    DEMO T 0 BRIGHT A_Jump (88, "Attack2Prepare")
    DEMO T 1 BRIGHT A_Playsound ("weapons/bfgf")
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget 
    DEMO U 0 BRIGHT A_CustomMissile ("BFGBall",32,0,11.25)
    DEMO U 0 BRIGHT A_CustomMissile ("BFGBall",32,0,-11.25)
    DEMO U 10 BRIGHT A_CustomMissile ("BFGBall",32,0,0)
    DEMO T 0 BRIGHT A_Jump (192, "Attack2Prepare")
    Goto See

  StartShockCheck1:
    DEMO A 0 A_Jump(192, "Attack1")
  StartShock1:
    DEMO A 20 BRIGHT A_FaceTarget
    DEMO T 1 BRIGHT A_Playsound ("weapons/bfgf")
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 0 A_SetUserVar("user_theta",0)
  Shock1:
    DEMO U 0 A_CustomMissile("BFGBall",32,0,user_theta)
    DEMO U 0 A_SetUserVar("user_theta",user_theta+4)
    DEMO U 0 A_JumpIf(user_theta==360,"Shock1AB")
    Loop
  Shock1AB:
    DEMO U 10 BRIGHT
    DEMO T 0 BRIGHT A_Jump (88, "Attack2Prepare")
  StartShock1B:
    DEMO T 1 BRIGHT A_Playsound ("weapons/bfgf")
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 4 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget
    DEMO T 5 BRIGHT A_FaceTarget 
    DEMO T 0 A_SetUserVar("user_theta",0)
  Shock1B:
    DEMO U 0 A_CustomMissile("BFGBall",32,0,user_theta)
    DEMO U 0 A_SetUserVar("user_theta",user_theta+4)
    DEMO U 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    DEMO U 10 BRIGHT
    DEMO T 0 BRIGHT A_Jump (192, "Attack2Prepare")
    Goto See

  Attack2Prepare:
    DEMO A 20 BRIGHT A_FaceTarget
  AttackCheck2:
    DEMO A 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    DEMO A 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 4 A_PlaySound("spider/attack")
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 4 A_PlaySound("spider/attack")
    DEMO H 1 BRIGHT A_SpidRefire 
    Goto AttackCheck2

  StartShockCheck2:
    DEMO A 0 A_Jump(192, "Attack2")
  StartShock2:
    DEMO G 0 A_SetUserVar("user_theta",0)
  Shock2:
    DEMO G 0 A_SetAngle(6 + angle)
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO G 0 A_PlaySound("spider/attack")
    DEMO G 0 A_SetUserVar("user_theta",user_theta+1)
    DEMO G 0 A_JumpIf(user_theta==60,"Shock2AB")
    Loop
  Shock2AB:
    DEMO G 4 BRIGHT
    DEMO H 0 A_SetUserVar("user_theta",0)
  Shock2B:
    DEMO H 0 A_SetAngle(6 + angle)
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_CustomBulletAttack (22.5, 0, 3, random(1,5) * 3, "BulletPuff", 0, 1) // A_PosAttack
    DEMO H 0 A_PlaySound("spider/attack")
    DEMO H 0 A_SetUserVar("user_theta",user_theta+1)
    DEMO H 0 A_JumpIf(user_theta==60,"EndShock2")
    Loop
  EndShock2:
    DEMO H 4 BRIGHT A_FaceTarget
    DEMO H 1 BRIGHT A_SpidRefire
    goto AttackCheck2

  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    DEMO A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    DEMO AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    DEMO A 3 A_Metal
    DEMO ABB 3 A_Chase
    DEMO C 3 A_Metal
    DEMO CDD 3 A_Chase
    DEMO E 3 A_Metal
    DEMO EFF 3 A_Chase
    loop

  Pain: 
    DEMO I 3 
    DEMO I 3 A_Pain 
    Goto See 
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,21,0,0) // Increase EXP for Sceptre [1+(HP/300)] [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
     TNT1 A 0 ACS_ExecuteAlways(862,0,21,0,0) // Increase EXP for Sceptre [1+(HP/300)] [1+(HP/300)]
     Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
   Death: 
       TNT1 A 0 A_Jump(1, "DeathCheck")
       DEMO J 20 A_Scream
       DEMO K 10 Bright A_NoBlocking 
       DEMO LMNOPQR 10 Bright
       DEMO S 30 
       TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
       DEMO S -1 A_BossDeath 
       Stop 
  Raise:
    DEMO S 30 ACS_ExecuteAlways(872,0,0,0,0)
    DEMO QRPONML 10 ACS_ExecuteAlways(872,0,0,0,0)
    DEMO K 10 ACS_ExecuteAlways(872,0,0,0,0)
    DEMO J 20 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 } 
}

actor StealthDemolisher : Demolisher 26553
{
 dropitem DoomSpellMana1 88 50
 dropitem DoomSpellMana2 66 125
 dropitem DoomSpellMana3 44 350
 dropitem ChainGun 32 10
 dropitem ChainGun 2 30
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem ClipBox 4 50
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

  obituary "%o thought %g saw a spider-demolisher."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 3.2
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 60 // Demons = +300% Pain Chance

  Painchance 20
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

}

actor DSCyberdemon : Cyberdemon 26554
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 112 50
 dropitem DoomSpellMana2 84 125
 dropitem DoomSpellMana3 56 350
 dropitem RocketLauncher 32 5
 dropitem RocketLauncher 2 15
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

  +AVOIDMELEE
  DamageFactor "Crush", 2.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 60 // Demons = +300% Pain Chance

  Painchance 20
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    CYBR A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    CYBR AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    CYBR A 3 A_Hoof
    CYBR ABBCC 3 A_Chase
    CYBR D 3 A_Metal
    CYBR D 3 A_Chase
    loop

  Missile:
    CYBR E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    CYBR E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    CYBR E 6 A_FaceTarget
    CYBR F 12 A_CyberAttack // See Rocket
    CYBR E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
    CYBR E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
  Attack2:
    CYBR E 12 A_FaceTarget
    CYBR F 12 A_CyberAttack // See Rocket
    CYBR E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock3")
    CYBR E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck3")
  Attack3:
    CYBR E 12 A_FaceTarget
    CYBR F 12 A_CyberAttack // See Rocket
    goto See

  StartShockCheck1:
    CYBR E 0 A_Jump(192, "Attack1")
  StartShock1:
    CYBR E 6 A_FaceTarget
    CYBR F 0 A_SetUserVar("user_theta",0)
  Shock1:
    CYBR F 0 A_CustomMissile("Rocket",32,0,user_theta)
    CYBR F 0 A_SetUserVar("user_theta",user_theta+12)
    CYBR F 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    CYBR F 12
    Goto Attack1+2

  StartShockCheck2:
    CYBR E 0 A_Jump(192, "Attack2")
  StartShock2:
    CYBR E 12 A_FaceTarget
    CYBR F 0 A_SetUserVar("user_theta",0)
  Shock2:
    CYBR F 0 A_CustomMissile("Rocket",32,0,user_theta)
    CYBR F 0 A_SetUserVar("user_theta",user_theta+12)
    CYBR F 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    CYBR F 12
    Goto Attack2+2

  StartShockCheck3:
    CYBR E 0 A_Jump(192, "Attack3")
  StartShock3:
    CYBR E 12 A_FaceTarget
    CYBR F 0 A_SetUserVar("user_theta",0)
  Shock3:
    CYBR F 0 A_CustomMissile("Rocket",32,0,user_theta)
    CYBR F 0 A_SetUserVar("user_theta",user_theta+12)
    CYBR F 0 A_JumpIf(user_theta==360,"EndShock3")
    Loop
  EndShock3:
    CYBR F 12
    goto See

  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,14,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,14,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    CYBR H 10
    CYBR I 10 A_Scream
    CYBR JKL 10
    CYBR M 10 A_NoBlocking
    CYBR NO 10
    CYBR P 30
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    CYBR P -1 A_BossDeath
  Raise:
    CYBR ON 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR M 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR LKJ 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR I 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR H 10 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor DSStealthCyberdemon : DSCyberdemon 9063
{
 dropitem DoomSpellMana1 112 50
 dropitem DoomSpellMana2 84 125
 dropitem DoomSpellMana3 56 350
 dropitem RocketLauncher 32 5
 dropitem RocketLauncher 2 15
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem RocketBox 4 5
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem FloraRandomArmor

  SpawnID 92
  obituary "%o thought %g saw a cyberdemon."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 2.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 60 // Demons = +300% Pain Chance

  Painchance 20
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    CYBR A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    CYBR AB 10 A_Look
    loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    CYBR A 3 A_Hoof
    CYBR ABBCC 3 A_Chase
    CYBR D 3 A_Metal
    CYBR D 3 A_Chase
    loop

  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    CYBR H 10
    CYBR I 10 A_Scream
    CYBR JKL 10
    CYBR M 10 A_NoBlocking
    CYBR NO 10
    CYBR P 30
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    CYBR P -1 A_BossDeath
  Raise:
    CYBR ON 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR M 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR LKJ 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR I 10 ACS_ExecuteAlways(872,0,0,0,0)
    CYBR H 10 ACS_ExecuteAlways(872,0,0,0,0)
    goto See
 }
}

actor Annihilator : Cyberdemon 30111 
{
 var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 112 50
  dropitem DoomSpellMana1 112 50
  dropitem DoomSpellMana2 84 125
  dropitem DoomSpellMana2 84 125
  dropitem DoomSpellMana3 56 350
  dropitem DoomSpellMana3 56 350
  dropitem RocketLauncher 32 5
  dropitem RocketLauncher 32 5
  dropitem RocketLauncher 2 15
  dropitem RocketLauncher 2 15
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem FloraRandomArmor

  Obituary "The Cyber Annihilator blew %o away with its rockets."
  Health 8000 
  Radius 40 
  Height 110 
  Mass 1000 
  Speed 16 
  MONSTER
  +NOTARGET 
  +FLOORCLIP 
  +NORADIUSDMG 
  +BOSS 
  +MISSILEEVENMORE 
  +AVOIDMELEE
  SeeSound "monster/annsit" 
  PainSound "cyber/pain" 
  DeathSound "monster/anndth" 
  ActiveSound "cyber/active" 

  DamageFactor "Crush", 2.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 30 // Demons = +300% Pain Chance

  Painchance 10
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States 
   {    
   Missile:
     ANNI E 0 A_Jump (128, "AttackCheck2")
     ANNI E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
     ANNI E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
   Attack1:
     ANNI E 6 A_FaceTarget 
     ANNI F 0 Bright A_CustomMissile ("Rocket2",40,27,0)
     ANNI F 12 Bright A_CustomMissile ("Rocket2",40,-27,0)
     ANNI E 12 A_FaceTarget 
     ANNI F 0 Bright A_CustomMissile ("Rocket2",40,27,0)
     ANNI F 12 Bright A_CustomMissile ("Rocket2",40,-27,0) 
     ANNI E 12 A_FaceTarget 
     ANNI F 0 Bright A_CustomMissile ("Rocket2",40,27,0)
     ANNI F 12 Bright A_CustomMissile ("Rocket2",40,-27,0)
     ANNI E 0 A_Jump (128, "AttackCheck2")
     Goto See

   StartShockCheck1:
     ANNI E 0 A_Jump(192, "Attack1")
   StartShock1:
     ANNI E 6 bright A_FaceTarget
     ANNI F 0 bright A_SetUserVar("user_theta",0)
   Shock1:
     ANNI F 0 Bright A_CustomMissile("Rocket2",32,0,user_theta)
     ANNI F 0 Bright A_SetUserVar("user_theta",user_theta+6)
     ANNI F 0 Bright A_JumpIf(user_theta==360,"Shock1AB")
     Loop
   Shock1AB:
     ANNI F 12 bright
     ANNI E 12 A_FaceTarget
	 ANNI E 0 A_SetUserVar("user_theta",0)
   Shock1B:
     ANNI F 0 Bright A_CustomMissile("Rocket2",32,0,user_theta)
     ANNI F 0 Bright A_SetUserVar("user_theta",user_theta+6)
     ANNI F 0 Bright A_JumpIf(user_theta==360,"Shock1BC")
     Loop
   Shock1BC:
     ANNI F 12 bright
     ANNI E 12 A_FaceTarget
	 ANNI E 0 A_SetUserVar("user_theta",0)
   Shock1C:
     ANNI F 0 Bright A_CustomMissile("Rocket2",32,0,user_theta)
     ANNI F 0 Bright A_SetUserVar("user_theta",user_theta+6)
     ANNI F 0 Bright A_JumpIf(user_theta==360,"EndShock1")
     Loop
   EndShock1:
     ANNI F 12 Bright
     ANNI E 0 A_Jump (128, "AttackCheck2")
     Goto See

   AttackCheck2:
     ANNI E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock2")
     ANNI E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck2")
   Attack2:
     ANNI E 6 A_FaceTarget 
     ANNI F 0 Bright A_CustomMissile ("HomRocket1",40,27,0)
     ANNI F 12 Bright A_CustomMissile ("HomRocket1",40,-27,0)
     ANNI E 12 A_FaceTarget 
     ANNI F 0 Bright A_CustomMissile ("HomRocket1",40,27,0)
     ANNI F 12 Bright A_CustomMissile ("HomRocket1",40,-27,0) 
     ANNI E 12 A_FaceTarget 
     ANNI F 0 Bright A_CustomMissile ("HomRocket1",40,27,0)
     ANNI F 12 Bright A_CustomMissile ("HomRocket1",40,-27,0)  
     Goto See 

   StartShockCheck2:
     ANNI E 0 A_Jump(192, "Attack2")
   StartShock2:
     ANNI E 6 bright A_FaceTarget
     ANNI F 0 bright A_SetUserVar("user_theta",0)
   Shock2:
     ANNI F 0 Bright A_CustomMissile("HomRocket1",32,0,user_theta)
     ANNI F 0 Bright A_SetUserVar("user_theta",user_theta+6)
     ANNI F 0 Bright A_JumpIf(user_theta==360,"Shock2AB")
     Loop
   Shock2AB:
     ANNI F 12 bright
     ANNI E 12 A_FaceTarget
	 ANNI E 0 A_SetUserVar("user_theta",0)
   Shock2B:
     ANNI F 0 Bright A_CustomMissile("HomRocket1",32,0,user_theta)
     ANNI F 0 Bright A_SetUserVar("user_theta",user_theta+6)
     ANNI F 0 Bright A_JumpIf(user_theta==360,"Shock2BC")
     Loop
   Shock2BC:
     ANNI F 12 bright
     ANNI E 12 A_FaceTarget
	 ANNI E 0 A_SetUserVar("user_theta",0)
   Shock2C:
     ANNI F 0 Bright A_CustomMissile("HomRocket1",32,0,user_theta)
     ANNI F 0 Bright A_SetUserVar("user_theta",user_theta+6)
     ANNI F 0 Bright A_JumpIf(user_theta==360,"EndShock2")
     Loop
   EndShock2:
     ANNI F 12 Bright
     Goto See

  ApplyDesperate:
    ANNI B 0 A_GiveInventory("20PercentDMGReduction",1)
    ANNI B 0 A_GiveInventory("20PercentDMGBonus",1)
    goto See+2
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+2
  Spawn: 
    ANNI A 0 A_Look
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    ANNI AB 10 A_Look 
    Loop 
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    ANNI A 0 A_JumpIfHealthLower(user_HPBuffRange, "ApplyDesperate")
    ANNI A 3 A_Playsound ("monster/anhoof")
    ANNI ABBCC 3 A_Chase 
    ANNI D 3 A_Playsound ("monster/anhoof") 
    ANNI D 3 A_Chase 
    Loop 

  Pain: 
    ANNI G 10 A_Pain 
    Goto See 
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,27,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,27,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
    TNT1 A 0 
    goto Death+1
  Death: 
    TNT1 A 0 A_Jump(1, "DeathCheck")
    ANNI H 10 Bright
    ANNI I 10 Bright A_Scream 
    ANNI JKL 10 Bright
    ANNI M 10 Bright A_NoBlocking 
    ANNI NO 10 Bright
    ANNI P 30 
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    ANNI P -1 A_BossDeath 
  Raise:
    ANNI ONMLKJIH 10 Bright ACS_ExecuteAlways(872,0,0,0,0)
    goto See
   } 
}

actor StealthAnnihilator : Annihilator 26555
{
  dropitem DoomSpellMana1 112 50
  dropitem DoomSpellMana1 112 50
  dropitem DoomSpellMana2 84 125
  dropitem DoomSpellMana2 84 125
  dropitem DoomSpellMana3 56 350
  dropitem DoomSpellMana3 56 350
  dropitem RocketLauncher 32 5
  dropitem RocketLauncher 32 5
  dropitem RocketLauncher 2 15
  dropitem RocketLauncher 2 15
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem RocketBox 4 5
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a cyber-annihilator."
  renderstyle Translucent
  alpha 0
  +STEALTH

  DamageFactor "Crush", 2.4
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage
  Painchance "Holy", 30 // Demons = +300% Pain Chance

  Painchance 10
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

}

actor Rocket2
{
  obituary "%o rode %k's rocket."
  radius 11
  height 8
  speed 20
  damage 20
  seesound "weapons/rocklf"
  deathsound "weapons/rocklx"
  PROJECTILE  
  +RANDOMIZE
  +ROCKETTRAIL
  // +THRUGHOST
  Decal Scorch
  states
  {
  Spawn:
    MISL A 1 bright
    loop
  Death:
    MISL B 0 bright A_SetTranslucent (0.67,1)
    MISL B 8 bright A_Explode
    MISL C 6 bright
    MISL D 4 bright
    stop
  }
}

actor HomRocket1
{
   Radius 8
   Height 11
   Speed 30
   Damage 10
   PROJECTILE
   DeathSound "weapons/hrlexp"
   ExplosionDamage 64
   ExplosionRadius 96
   +SeekerMissile
   +Rockettrail
   // +THRUGHOST
   SeeSound "weapons/hrlfir"
   Decal Scorch
   States
   {
   Spawn:
      HMIS A 4 Bright A_SeekerMissile (25,35)
      HMIS A 4 Bright
      HMIS A 2 Bright A_SeekerMissile (10,25)
      HMIS A 2 Bright
      goto Spawn+2
   Death:
      BAL3 C 0 Bright A_SetTranslucent (0.67,1)
      BAL3 C 8 Bright A_Explode
      BAL3 DE 5 Bright
      stop
   }
}

// TODO - Hell Cleric
Actor HellClericBall : DoomImpBall
{
 Scale 1.25
 Speed 15
 Fastspeed 30
 Damage (32+(random(3,6)*random(9,16))) // 59-128 per shot
 Obituary "%o was burned and flamed by a Hell Cleric."

 states
 {
  Spawn:
   FRB1 A 4 Bright
   FRB1 B 4 Bright
   FRB1 C 4 Bright
   loop
  Death:
   FRB1 DEFGH 4 Bright
   stop
 }
}

Actor HellClericDarkBall : DarkImpBall
{
 Scale 1.25
 Speed 30
 Fastspeed 90
 Damage (24+(random(4,7)*random(9,16))) // 60-136 per shot
 Obituary "%o was burned and flamed by a Hell Cleric."

 states
 {
  Spawn:
   FX15 A 4 Bright
   FX15 B 4 Bright A_SeekerMissile (10,20)
   FX15 C 4 Bright
   FX15 D 4 Bright A_SeekerMissile (10,20)
   loop
  Death:
   FX15 DEFG 4 Bright
   stop
 }
}

Actor HellCleric 21123
{
 var int user_theta;
 var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
 var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
 dropitem DoomSpellMana1 36 50
 dropitem DoomSpellMana2 30 125
 dropitem DoomSpellMana3 24 350
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem HealthBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem ArmorBonus 2
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem MaxHealthBonus 1
 dropitem SauronGauntlets 1
 dropitem SauronHelmet 1
 dropitem FloraRandomArmor

 Health 200
 Height 56
 Radius 20
 Mass 250
 Painchance 16
 Speed 12
 ReactionTime 5
 seesound "hellcleric/sight"
 painsound "hellcleric/pain"
 deathsound "hellcleric/death"
 activesound "hellcleric/active" 
 Monster
 +Solid
 +FloorClip
 +DontHurtSpecies
 Damage (3+(11*(random(6,13)))) // 69-146 per whack
 Obituary "%o was burned and flamed by a Hell Cleric."
 HitObituary "%o had %p head bashed in by a Hell Cleric."

  Damagefactor "Crush", 16
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage

  Painchance "Holy", 15 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

 states
 {
  CheckMapSkillSpawn:
   TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
   TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
   Goto Spawn+2
  CheckMapSkillSee:
   TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
   TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
   Goto See+1

  Spawn:
   HELC A 0
   TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
   HELC A 4 A_Look
   HELC A 4 A_Look
   Goto Spawn+2

  See:
   TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
   HELC A 4 A_Chase
   HELC B 4 A_Chase
   HELC C 4 A_Chase
   HELC D 0 A_Jump(32, 3)
   HELC D 4 A_Chase
   HELC D 0 A_Jump(256, "See")
   HELC D 4 A_Chase ("Melee","Missile", CHF_FASTCHASE | CHF_NIGHTMAREFAST)
   loop

  StartShockCheck:
    HELC E 0 A_Jump(64, "StartShockCheck2")
    goto StartShockCheck1
  StartShock:
    HELC E 0 A_Jump(64, "StartShock2")
    goto StartShock1

  StartShockCheck1:
    HELC E 0 A_Jump(192, "AttackType1")
  StartShock1:
    HELC E 4 Bright A_FaceTarget
    HELC E 0 A_SetUserVar("user_theta",0)
  Shock1:
    HELC G 0 Bright A_CustomMissile("HellClericBall", 24, 0, user_theta)
    HELC G 0 Bright A_CustomMeleeAttack( 3+(11*(random(6,13))), "imp/melee", "none")
    HELC G 0 A_SetUserVar("user_theta",user_theta+4)
    HELC G 0 A_JumpIf(user_theta==360,"StartShock1b")
    Loop
  StartShock1b:
    HELC G 4 Bright A_FaceTarget
    HELC F 3 Bright A_FaceTarget
    HELC F 0 A_SetUserVar("user_theta",0)
  Shock1b:
    HELC G 0 Bright A_CustomMissile("HellClericBall", 24, 0, user_theta)
    HELC G 0 Bright A_CustomMeleeAttack( 3+(11*(random(6,13))), "imp/melee", "none")
    HELC G 0 A_SetUserVar("user_theta",user_theta+4)
    HELC G 0 A_JumpIf(user_theta==360,"StartShock1c")
    Loop
  StartShock1c:
    HELC G 4 Bright A_FaceTarget
    HELC F 3 Bright A_FaceTarget
    HELC E 0 A_SetUserVar("user_theta",0)
  Shock1c:
    HELC G 0 Bright A_CustomMissile("HellClericBall", 24, 0, user_theta)
    HELC G 0 Bright A_CustomMeleeAttack( 3+(11*(random(6,13))), "imp/melee", "none")
    HELC G 0 A_SetUserVar("user_theta",user_theta+4)
    HELC G 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    HELC G 4 Bright A_FaceTarget
    goto See

  StartShockCheck2:
    HELC E 0 A_Jump(192, "AttackType2")
  StartShock2:
    HELC E 4 Bright A_FaceTarget
    HELC E 0 A_SetUserVar("user_theta",0)
  Shock2:
    HELC G 0 Bright A_CustomMissile("HellClericDarkBall", 24, 0, user_theta)
    HELC G 0 Bright A_CustomMeleeAttack( 7+(12*(random(6,12))), "imp/melee", "none")
    HELC G 0 A_SetUserVar("user_theta",user_theta+4)
    HELC G 0 A_JumpIf(user_theta==360,"StartShock2b")
    Loop
  StartShock2b:
    HELC G 4 Bright A_FaceTarget
    HELC F 3 Bright A_FaceTarget
    HELC F 0 A_SetUserVar("user_theta",0)
  Shock2b:
    HELC G 0 Bright A_CustomMissile("HellClericDarkBall", 24, 0, user_theta)
    HELC G 0 Bright A_CustomMeleeAttack( 7+(12*(random(6,12))), "imp/melee", "none")
    HELC G 0 A_SetUserVar("user_theta",user_theta+4)
    HELC G 0 A_JumpIf(user_theta==360,"StartShock2c")
    Loop
  StartShock2c:
    HELC G 4 Bright A_FaceTarget
    HELC F 3 Bright A_FaceTarget
    HELC E 0 A_SetUserVar("user_theta",0)
  Shock2c:
    HELC G 0 Bright A_CustomMissile("HellClericDarkBall", 24, 0, user_theta)
    HELC G 0 Bright A_CustomMeleeAttack( 7+(12*(random(6,12))), "imp/melee", "none")
    HELC G 0 A_SetUserVar("user_theta",user_theta+4)
    HELC G 0 A_JumpIf(user_theta==360,"EndShock2")
    Loop
  EndShock2:
    HELC G 4 Bright A_FaceTarget
    goto See

  Melee:
  Missile:
   HELC E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock")
   HELC E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck")
   HELC E 0 A_Jump(64, "AttackType2")
  AttackType1:
   // Imp-like Attack
   HELC E 4 A_FaceTarget
   HELC G 4 A_BasicAttack (3+(11*(random(6,13))), "imp/melee", "HellClericBall", 24) 
   HELC F 3 A_FaceTarget
   HELC G 4 A_BasicAttack (3+(11*(random(6,13))), "imp/melee", "HellClericBall", 24) 
   HELC F 3 A_FaceTarget
   HELC G 4 A_BasicAttack (3+(11*(random(6,13))), "imp/melee", "HellClericBall", 24) 
   Goto See
  AttackType2:
   // Dark Imp-like Attack
   HELC E 4 A_FaceTarget
   HELC G 4 A_BasicAttack (7+(12*(random(6,12))), "imp/melee", "HellClericDarkBall", 24) 
   HELC F 3 A_FaceTarget
   HELC G 4 A_BasicAttack (7+(12*(random(6,12))), "imp/melee", "HellClericDarkBall", 24) 
   HELC F 3 A_FaceTarget
   HELC G 4 A_BasicAttack (7+(12*(random(6,12))), "imp/melee", "HellClericDarkBall", 24) 
   Goto See

  Pain:
   HELC H 2 A_PlaySound("hellcleric/pain")
   goto See

  Pain.GravityHP:
   TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
   Goto See
  Pain.GravityMP:
   TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
   Goto See
  Pain.GravityHPMP:
   TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
   Goto See
  Pain.Sceptre:
   TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
   Goto Pain
  Death.Sceptre:
   TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
   Goto Death
  Pain.Gauntlets:
   TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
   Goto Pain
  Death.Gauntlets:
   TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
   Goto Death
  DeathCheck:
   TNT1 A 0 A_Jump(255, 3)
   TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)   	 
   TNT1 A 0 
   goto Death+1
  Death:
   TNT1 A 0 A_Jump(1, "DeathCheck")
   HELC I 5
   HELC J 5 A_PlaySound("hellcleric/death")
   HELC K 5
   HELC L 5 A_NoBlocking
   TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
   HELC M -1

  XDeathCheck:
   TNT1 A 0 A_Jump(255, 3)
   TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)
   TNT1 A 0 
   goto XDeath+1
  XDeath:
   TNT1 A 0 A_Jump(1, "XDeathCheck")
   HELC N 5
   HELC O 5 A_XScream
   HELC P 5
   HELC Q 5 A_NoBlocking
   HELC RSTU 5
   TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
   HELC V -1

  Raise:
   HELC LKJI 5 ACS_ExecuteAlways(872,0,0,0,0)
   goto See
 }
}

Actor StealthHellCleric : HellCleric 26558
{
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2

  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor

  obituary "%o thought %g saw a Hell Cleric."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

// Beginning the reforging of DVII's Flying Balrog [for future use in general]. We can remake him, and we can make him better than ever before! >:D
Actor FlyingBalrog 21122 // Afrit
{
  var int user_theta;
  var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
  var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem BalrogFistCI 5

  Health 1500
  Speed 8
  Radius 24
  Height 72
  Mass 400
  Meleedamage 10
  SeeSound "flyingbalrog/sight"
  PainSound "flyingbalrog/pain"
  DeathSound "flyingbalrog/death"
  ActiveSound "flyingbalrog/idle"
  MeleeSound "Baron/Melee"
  ReactionTime 5
  Monster
  +NoGravity
  +NoBlood
  +Float
  +DontHurtSpecies
  Obituary "%o was flash-fried by a Flying Balrog."
  HitObituary "%o found the Flying Balrog too hot to handle."

  Damagefactor "Crush", 8.0
  Damagefactor "Fire", 0.125
  Damagefactor "Ice", 1.875
  DamageFactor "Holy", 2 // Demons = +200% Holy Damage

  PainChance 30
  PainChance "Ice", 100
  PainChance "Fire", 4
  Painchance "Holy", 90 // Demons = +300% Pain Chance
  Painchance "GravityHP", 255
  Painchance "GravityMP", 255
  Painchance "GravityHPMP", 255 

  States
  {
  CheckMapSkillSpawn:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto Spawn+2
  CheckMapSkillSee:
    TNT1 A 0 ACS_ExecuteAlways(872,0,0,0,0)
    TNT1 A 1 A_SetUserVar("user_checkmapskill",user_checkmapskill+1)
    Goto See+1
  Spawn:
    FRIT A 0
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    FRIT AABB 4 Bright A_Look
    Goto Spawn+4
  Idle:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSpawn")
    FRIT ABCD 4 Bright A_Look
    Loop
  See:
    TNT1 A 0 A_JumpIf(user_checkmapskill < 1,"CheckMapSkillSee")
    FRIT AABBCCDD 2 Bright A_Chase
    Loop
  StartShockCheck1:
    FRIT G 0 A_Jump(192, "Attack1")
  StartShock1:
    FRIT E 6 Bright A_FaceTarget
    FRIT F 6 Bright A_FaceTarget
    FRIT G 0 A_SetUserVar("user_theta",0)
  Shock1:
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, 12, 15+user_theta) // Off Left
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, 0, 0+user_theta) // Center
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, -12, -15+user_theta) // Off Right
    FRIT G 0 A_SetUserVar("user_theta",user_theta+6)
    FRIT G 0 A_JumpIf(user_theta==360,"StartShock1b")
    Loop
  StartShock1b:
    FRIT G 1 Bright A_FaceTarget
    FRIT G 0 A_SetUserVar("user_theta",0)
  Shock1b:
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, 8, 10+user_theta) // Partially Left
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, -8, -10+user_theta) // Partially Right
    FRIT G 0 A_SetUserVar("user_theta",user_theta+6)
    FRIT G 0 A_JumpIf(user_theta==360,"StartShock1c")
    Loop
  StartShock1c:
    FRIT G 3 Bright A_FaceTarget
    FRIT G 0 A_SetUserVar("user_theta",0)
  Shock1c:
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot2", 44, 6, 9+user_theta)
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot2", 44, 0, 0+user_theta)
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot2", 44, -6, -9+user_theta)
    FRIT G 0 A_SetUserVar("user_theta",user_theta+6)
    FRIT G 0 A_JumpIf(user_theta==360,"EndShock1")
    Loop
  EndShock1:
    FRIT G 4 Bright A_FaceTarget
    FRIT G 6 Bright A_FaceTarget
    goto See

  Missile:
    FRIT E 0 A_JumpIfHealthLower(user_HPCritRange, "StartShock1")
    FRIT E 0 A_JumpIfHealthLower(user_HPLowRange, "StartShockCheck1")
  Attack1:
    FRIT E 6 Bright A_FaceTarget
    FRIT F 6 Bright A_FaceTarget
// Five Shot1s (spreading pattern)
    FRIT G 0 Bright A_FaceTarget
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, 12, 15) // Off Left
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, 0, 0) // Center
    FRIT G 1 Bright A_CustomMissile("FlyingBalrogShot1", 44, -12, -15) // Off Right
    FRIT G 0 Bright A_FaceTarget
  Attack1b:
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot1", 44, 8, 10) // Partially Left
    FRIT G 3 Bright A_CustomMissile("FlyingBalrogShot1", 44, -8, -10) // Partially Right
// Three Shot2s (straight shots)
    FRIT G 0 Bright A_FaceTarget
  Attack1c:
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot2", 44, 6, 9)
    FRIT G 0 Bright A_CustomMissile("FlyingBalrogShot2", 44, 0, 0)
    FRIT G 4 Bright A_CustomMissile("FlyingBalrogShot2", 44, -6, -9)
    FRIT G 6 Bright A_FaceTarget
    Goto See

  Pain:
    FRIT H 4 Bright
    FRIT H 4 Bright A_Pain
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,6,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)   	 
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    FRIT I 0 Bright A_NoGravity
    FRIT I 6 Bright A_Scream
    FRIT I 0 Bright A_PlaySound("flyingbalrog/death2",3)
    FRIT J 5 Bright A_NoBlocking
    FRIT KLMNOPQR 4 Bright
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    Stop
  }
}

Actor StealthFlyingBalrog : FlyingBalrog 26556
{
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem Berserk 2
  dropitem DiamondSkin 2
  dropitem DiamondSkin 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem SauronGauntlets 1
  dropitem SauronHelmet 1
  dropitem FloraRandomArmor
  dropitem BalrogFistCI 5

  obituary "%o thought %g saw a Flying Balrog."
  renderstyle Translucent
  alpha 0
  +STEALTH
}

// The Special "Weakened" Flying Balrog that serves as a mini-boss in the prolouge level
Actor WeakenedFlyingBalrog : FlyingBalrog 26557
{
// var int user_theta;
// var int user_MaxHP; var int user_HPLowRange; var int user_HPCritRange; var int user_HPBuffRange; var int user_HPXDeathRange;
// var int user_checkmapskill; // For checking if a monster has been given Skill/Map inventory items yet.
  dropitem DoomSpellMana1 36 50
  dropitem DoomSpellMana2 30 125
  dropitem DoomSpellMana3 24 350
  dropitem Berserk 2
  dropitem HealthBonus 2
  dropitem HealthBonus 2
  dropitem ArmorBonus 2
  dropitem ArmorBonus 2
  dropitem MaxHealthBonus 1
  dropitem MaxHealthBonus 1
  dropitem FloraRandomArmor

 Health 375 // 75% weaker
 PainChance 120 // 4x more likely to flinch
 Mass 100 // 75% lighter
 Meleedamage 3 // 75% weaker
 Alpha 0.75

  States
  {
  Missile:
    FRIT E 6 Bright A_FaceTarget
    FRIT F 6 Bright A_FaceTarget
// Five Shot1s (spreading pattern)
    FRIT G 0 Bright A_FaceTarget
    FRIT G 0 Bright A_CustomMissile("WeakenedBalrogShot1", 44, 12, 15) // Off Left
    FRIT G 0 Bright A_CustomMissile("WeakenedBalrogShot1", 44, 0, 0) // Center
    FRIT G 1 Bright A_CustomMissile("WeakenedBalrogShot1", 44, -12, -15) // Off Right
    FRIT G 0 Bright A_FaceTarget
    FRIT G 0 Bright A_CustomMissile("WeakenedBalrogShot1", 44, 8, 10) // Partially Left
    FRIT G 3 Bright A_CustomMissile("WeakenedBalrogShot1", 44, -8, -10) // Partially Right
// Three Shot2s (straight shots)
    FRIT G 0 Bright A_FaceTarget
    FRIT G 0 Bright A_CustomMissile("WeakenedBalrogShot2", 44, 6, 9)
    FRIT G 0 Bright A_CustomMissile("WeakenedBalrogShot2", 44, 0, 0)
    FRIT G 4 Bright A_CustomMissile("WeakenedBalrogShot2", 44, -6, -9)
    FRIT G 6 Bright A_FaceTarget
    Goto See
  Pain.GravityHP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,0,0,0)
    Goto See
  Pain.GravityMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,1,0,0)
    Goto See
  Pain.GravityHPMP:
    TNT1 A 0 ACS_ExecuteAlways(871,0,2,0,0)
    Goto See
  Pain.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Pain
  Death.Sceptre:
    TNT1 A 0 ACS_ExecuteAlways(862,0,2,0,0) // Increase EXP for Sceptre [1+(HP/300)]
    Goto Death
  Pain.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,1,0) // Give some life when hurting a monster [1+(HP/500)]
    Goto Pain
  Death.Gauntlets:
    TNT1 A 0 ACS_ExecuteAlways(850,0,0,2,0) // Give some life when killing a monster [3+(HP/100)]
    Goto Death
  DeathCheck:
    TNT1 A 0 A_Jump(255, 3)
    TNT1 A 0 A_SpawnItemEx("TheOneRing",0,0,0,0,0,0,0,0,0)   	 
    TNT1 A 0 
    goto Death+1
  Death:
    TNT1 A 0 A_Jump(1, "DeathCheck")
    FRIT I 0 Bright A_NoGravity
    FRIT I 6 Bright A_Scream
    FRIT I 0 Bright A_PlaySound("flyingbalrog/death2",3)
    FRIT J 5 Bright A_NoBlocking
    FRIT KLMNOPQR 4 Bright
    TNT1 A 0 ACS_ExecuteAlways(872,0,1,0,0)
    Stop
 }
}

// Fireball Type 1
Actor FlyingBalrogShot1 : Fatshot
{
 Scale 1.25
 DamageType "Fire"
 SeeSound "Imp/Attack"
 Speed 30 // 50% faster
 Damage 12 // 50% stronger
}

Actor WeakenedBalrogShot1 : FlyingBalrogShot1
{
 SeeSound "Imp/Attack"
 Speed 5 // 75% slower
 Damage 2 // 75% weaker
}

// Fireball Type 2
Actor FlyingBalrogShot2 : RevenantTracer
{
 Scale 1.25
 DamageType "Fire"
 SeeSound "Imp/Attack"
 Speed 15 // 50% faster
 Damage 15 // 50% stronger
}

Actor WeakenedBalrogShot2 : FlyingBalrogShot2
{
 SeeSound "Imp/Attack"
 Speed 3 // 75% slower
 Damage 3 // 75% weaker
}

